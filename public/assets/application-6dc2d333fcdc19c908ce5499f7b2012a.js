/*
 * jQuery JavaScript Library v1.3.2
 * http://jquery.com/
 *
 * Copyright (c) 2009 John Resig
 * Dual licensed under the MIT and GPL licenses.
 * http://docs.jquery.com/License
 *
 * Date: 2009-02-19 17:34:21 -0500 (Thu, 19 Feb 2009)
 * Revision: 6246
 */
function lightwindowInit(){myLightWindow=new lightwindow}function $w(e){return e=e.strip(),e?e.split(/\s+/):[]}function $H(e){return e instanceof Hash?e:new Hash(e)}function $(e){if(arguments.length>1){for(var t=0,n=[],i=arguments.length;i>t;t++)n.push($(arguments[t]));return n}return"string"==typeof e&&(e=document.getElementById(e)),Element.extend(e)}function $$(){return Selector.findChildElements(document,$A(arguments))}!function(){function e(e,t){t.src?f.ajax({url:t.src,async:!1,dataType:"script"}):f.globalEval(t.text||t.textContent||t.innerHTML||""),t.parentNode&&t.parentNode.removeChild(t)}function t(){return+new Date}function n(e,t){return e[0]&&parseInt(f.curCSS(e[0],t,!0),10)||0}function i(){return!1}function r(){return!0}function o(e){var t=RegExp("(^|\\.)"+e.type+"(\\.|$)"),n=!0,i=[];return f.each(f.data(this,"events").live||[],function(n,r){if(t.test(r.type)){var o=f(e.target).closest(r.data)[0];o&&i.push({elem:o,fn:r})}}),i.sort(function(e,t){return f.data(e.elem,"closest")-f.data(t.elem,"closest")}),f.each(i,function(){return this.fn.call(this.elem,e,this.fn.data)===!1?n=!1:void 0}),n}function s(e,t){return["live",e,t.replace(/\./g,"`").replace(/ /g,"|")].join(".")}function a(){S||(S=!0,document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),f.ready()},!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),f.ready())}),document.documentElement.doScroll&&u==u.top&&function(){if(!f.isReady){try{document.documentElement.doScroll("left")}catch(e){return setTimeout(arguments.callee,0),void 0}f.ready()}}()),f.event.add(u,"load",f.ready))}function l(e,t){var n={};return f.each(O.concat.apply([],O.slice(0,t)),function(){n[this]=e}),n}var c,u=this,d=u.jQuery,h=u.$,f=u.jQuery=u.$=function(e,t){return new f.fn.init(e,t)},p=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,m=/^.[^:#\[\.,]*$/;f.fn=f.prototype={init:function(e,t){if(e=e||document,e.nodeType)return this[0]=e,this.length=1,this.context=e,this;if("string"==typeof e){var n=p.exec(e);if(!n||!n[1]&&t)return f(t).find(e);if(!n[1]){var i=document.getElementById(n[3]);if(i&&i.id!=n[3])return f().find(e);var r=f(i||[]);return r.context=document,r.selector=e,r}e=f.clean([n[1]],t)}else if(f.isFunction(e))return f(document).ready(e);return e.selector&&e.context&&(this.selector=e.selector,this.context=e.context),this.setArray(f.isArray(e)?e:f.makeArray(e))},selector:"",jquery:"1.3.2",size:function(){return this.length},get:function(e){return e===c?Array.prototype.slice.call(this):this[e]},pushStack:function(e,t,n){var i=f(e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},setArray:function(e){return this.length=0,Array.prototype.push.apply(this,e),this},each:function(e,t){return f.each(this,e,t)},index:function(e){return f.inArray(e&&e.jquery?e[0]:e,this)},attr:function(e,t,n){var i=e;if("string"==typeof e){if(t===c)return this[0]&&f[n||"attr"](this[0],e);i={},i[e]=t}return this.each(function(t){for(e in i)f.attr(n?this.style:this,e,f.prop(this,i[e],n,t,e))})},css:function(e,t){return("width"==e||"height"==e)&&parseFloat(t)<0&&(t=c),this.attr(e,t,"curCSS")},text:function(e){if("object"!=typeof e&&null!=e)return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(e));var t="";return f.each(e||this,function(){f.each(this.childNodes,function(){8!=this.nodeType&&(t+=1!=this.nodeType?this.nodeValue:f.fn.text([this]))})}),t},wrapAll:function(e){if(this[0]){var t=f(e,this[0].ownerDocument).clone();this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(function(){f(this).contents().wrapAll(e)})},wrap:function(e){return this.each(function(){f(this).wrapAll(e)})},append:function(){return this.domManip(arguments,!0,function(e){1==this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1==this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)})},end:function(){return this.prevObject||f([])},push:[].push,sort:[].sort,splice:[].splice,find:function(e){if(1===this.length){var t=this.pushStack([],"find",e);return t.length=0,f.find(e,this[0],t),t}return this.pushStack(f.unique(f.map(this,function(t){return f.find(e,t)})),"find",e)},clone:function(e){var t=this.map(function(){if(f.support.noCloneEvent||f.isXMLDoc(this))return this.cloneNode(!0);var e=this.outerHTML;if(!e){var t=this.ownerDocument.createElement("div");t.appendChild(this.cloneNode(!0)),e=t.innerHTML}return f.clean([e.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/^\s*/,"")])[0]});if(e===!0){var n=this.find("*").andSelf(),i=0;t.find("*").andSelf().each(function(){if(this.nodeName===n[i].nodeName){var e=f.data(n[i],"events");for(var t in e)for(var r in e[t])f.event.add(this,t,e[t][r],e[t][r].data);i++}})}return t},filter:function(e){return this.pushStack(f.isFunction(e)&&f.grep(this,function(t,n){return e.call(t,n)})||f.multiFilter(e,f.grep(this,function(e){return 1===e.nodeType})),"filter",e)},closest:function(e){var t=f.expr.match.POS.test(e)?f(e):null,n=0;return this.map(function(){for(var i=this;i&&i.ownerDocument;){if(t?t.index(i)>-1:f(i).is(e))return f.data(i,"closest",n),i;i=i.parentNode,n++}})},not:function(e){if("string"==typeof e){if(m.test(e))return this.pushStack(f.multiFilter(e,this,!0),"not",e);e=f.multiFilter(e,this)}var t=e.length&&e[e.length-1]!==c&&!e.nodeType;return this.filter(function(){return t?f.inArray(this,e)<0:this!=e})},add:function(e){return this.pushStack(f.unique(f.merge(this.get(),"string"==typeof e?f(e):f.makeArray(e))))},is:function(e){return!!e&&f.multiFilter(e,this).length>0},hasClass:function(e){return!!e&&this.is("."+e)},val:function(e){if(e===c){var t=this[0];if(t){if(f.nodeName(t,"option"))return(t.attributes.value||{}).specified?t.value:t.text;if(f.nodeName(t,"select")){var n=t.selectedIndex,i=[],r=t.options,o="select-one"==t.type;if(0>n)return null;for(var s=o?n:0,a=o?n+1:r.length;a>s;s++){var l=r[s];if(l.selected){if(e=f(l).val(),o)return e;i.push(e)}}return i}return(t.value||"").replace(/\r/g,"")}return c}return"number"==typeof e&&(e+=""),this.each(function(){if(1==this.nodeType)if(f.isArray(e)&&/radio|checkbox/.test(this.type))this.checked=f.inArray(this.value,e)>=0||f.inArray(this.name,e)>=0;else if(f.nodeName(this,"select")){var t=f.makeArray(e);f("option",this).each(function(){this.selected=f.inArray(this.value,t)>=0||f.inArray(this.text,t)>=0}),t.length||(this.selectedIndex=-1)}else this.value=e})},html:function(e){return e===c?this[0]?this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,""):null:this.empty().append(e)},replaceWith:function(e){return this.after(e).remove()},eq:function(e){return this.slice(e,+e+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(e){return this.pushStack(f.map(this,function(t,n){return e.call(t,n,t)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(t,n,i){function r(e,t){return n&&f.nodeName(e,"table")&&f.nodeName(t,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}if(this[0]){var o=(this[0].ownerDocument||this[0]).createDocumentFragment(),s=f.clean(t,this[0].ownerDocument||this[0],o),a=o.firstChild;if(a)for(var l=0,c=this.length;c>l;l++)i.call(r(this[l],a),this.length>1||l>0?o.cloneNode(!0):o);s&&f.each(s,e)}return this}},f.fn.init.prototype=f.fn,f.extend=f.fn.extend=function(){var e,t=arguments[0]||{},n=1,i=arguments.length,r=!1;for("boolean"==typeof t&&(r=t,t=arguments[1]||{},n=2),"object"==typeof t||f.isFunction(t)||(t={}),i==n&&(t=this,--n);i>n;n++)if(null!=(e=arguments[n]))for(var o in e){var s=t[o],a=e[o];t!==a&&(r&&a&&"object"==typeof a&&!a.nodeType?t[o]=f.extend(r,s||(null!=a.length?[]:{}),a):a!==c&&(t[o]=a))}return t};var g=/z-?index|font-?weight|opacity|zoom|line-?height/i,v=document.defaultView||{},y=Object.prototype.toString;f.extend({noConflict:function(e){return u.$=h,e&&(u.jQuery=d),f},isFunction:function(e){return"[object Function]"===y.call(e)},isArray:function(e){return"[object Array]"===y.call(e)},isXMLDoc:function(e){return 9===e.nodeType&&"HTML"!==e.documentElement.nodeName||!!e.ownerDocument&&f.isXMLDoc(e.ownerDocument)},globalEval:function(e){if(e&&/\S/.test(e)){var t=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");n.type="text/javascript",f.support.scriptEval?n.appendChild(document.createTextNode(e)):n.text=e,t.insertBefore(n,t.firstChild),t.removeChild(n)}},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()==t.toUpperCase()},each:function(e,t,n){var i,r=0,o=e.length;if(n)if(o===c){for(i in e)if(t.apply(e[i],n)===!1)break}else for(;o>r&&t.apply(e[r++],n)!==!1;);else if(o===c){for(i in e)if(t.call(e[i],i,e[i])===!1)break}else for(var s=e[0];o>r&&t.call(s,r,s)!==!1;s=e[++r]);return e},prop:function(e,t,n,i,r){return f.isFunction(t)&&(t=t.call(e,i)),"number"!=typeof t||"curCSS"!=n||g.test(r)?t:t+"px"},className:{add:function(e,t){f.each((t||"").split(/\s+/),function(t,n){1!=e.nodeType||f.className.has(e.className,n)||(e.className+=(e.className?" ":"")+n)})},remove:function(e,t){1==e.nodeType&&(e.className=t!==c?f.grep(e.className.split(/\s+/),function(e){return!f.className.has(t,e)}).join(" "):"")},has:function(e,t){return e&&f.inArray(t,(e.className||e).toString().split(/\s+/))>-1}},swap:function(e,t,n){var i={};for(var r in t)i[r]=e.style[r],e.style[r]=t[r];n.call(e);for(var r in t)e.style[r]=i[r]},css:function(e,t,n,i){function r(){o="width"==t?e.offsetWidth:e.offsetHeight,"border"!==i&&f.each(a,function(){i||(o-=parseFloat(f.curCSS(e,"padding"+this,!0))||0),"margin"===i?o+=parseFloat(f.curCSS(e,"margin"+this,!0))||0:o-=parseFloat(f.curCSS(e,"border"+this+"Width",!0))||0})}if("width"==t||"height"==t){var o,s={position:"absolute",visibility:"hidden",display:"block"},a="width"==t?["Left","Right"]:["Top","Bottom"];return 0!==e.offsetWidth?r():f.swap(e,s,r),Math.max(0,Math.round(o))}return f.curCSS(e,t,n)},curCSS:function(e,t,n){var i,r=e.style;if("opacity"==t&&!f.support.opacity)return i=f.attr(r,"opacity"),""==i?"1":i;if(t.match(/float/i)&&(t=_),!n&&r&&r[t])i=r[t];else if(v.getComputedStyle){t.match(/float/i)&&(t="float"),t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var o=v.getComputedStyle(e,null);o&&(i=o.getPropertyValue(t)),"opacity"==t&&""==i&&(i="1")}else if(e.currentStyle){var s=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()});if(i=e.currentStyle[t]||e.currentStyle[s],!/^\d+(px)?$/i.test(i)&&/^\d/.test(i)){var a=r.left,l=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left=i||0,i=r.pixelLeft+"px",r.left=a,e.runtimeStyle.left=l}}return i},clean:function(e,t,n){if(t=t||document,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||document),!n&&1===e.length&&"string"==typeof e[0]){var i=/^<(\w+)\s*\/?>$/.exec(e[0]);if(i)return[t.createElement(i[1])]}var r=[],o=[],s=t.createElement("div");if(f.each(e,function(e,n){if("number"==typeof n&&(n+=""),n){if("string"==typeof n){n=n.replace(/(<(\w+)[^>]*?)\/>/g,function(e,t,n){return n.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?e:t+"></"+n+">"});var i=n.replace(/^\s+/,"").substring(0,10).toLowerCase(),o=!i.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!i.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||i.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!i.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!i.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!f.support.htmlSerialize&&[1,"div<div>","</div>"]||[0,"",""];for(s.innerHTML=o[1]+n+o[2];o[0]--;)s=s.lastChild;if(!f.support.tbody)for(var a=/<tbody/i.test(n),l=i.indexOf("<table")||a?"<table>"!=o[1]||a?[]:s.childNodes:s.firstChild&&s.firstChild.childNodes,c=l.length-1;c>=0;--c)f.nodeName(l[c],"tbody")&&!l[c].childNodes.length&&l[c].parentNode.removeChild(l[c]);!f.support.leadingWhitespace&&/^\s/.test(n)&&s.insertBefore(t.createTextNode(n.match(/^\s*/)[0]),s.firstChild),n=f.makeArray(s.childNodes)}n.nodeType?r.push(n):r=f.merge(r,n)}}),n){for(var a=0;r[a];a++)!f.nodeName(r[a],"script")||r[a].type&&"text/javascript"!==r[a].type.toLowerCase()?(1===r[a].nodeType&&r.splice.apply(r,[a+1,0].concat(f.makeArray(r[a].getElementsByTagName("script")))),n.appendChild(r[a])):o.push(r[a].parentNode?r[a].parentNode.removeChild(r[a]):r[a]);return o}return r},attr:function(e,t,n){if(!e||3==e.nodeType||8==e.nodeType)return c;var i=!f.isXMLDoc(e),r=n!==c;if(t=i&&f.props[t]||t,e.tagName){var o=/href|src|style/.test(t);if("selected"==t&&e.parentNode&&e.parentNode.selectedIndex,t in e&&i&&!o){if(r){if("type"==t&&f.nodeName(e,"input")&&e.parentNode)throw"type property can't be changed";e[t]=n}if(f.nodeName(e,"form")&&e.getAttributeNode(t))return e.getAttributeNode(t).nodeValue;if("tabIndex"==t){var s=e.getAttributeNode("tabIndex");return s&&s.specified?s.value:e.nodeName.match(/(button|input|object|select|textarea)/i)?0:e.nodeName.match(/^(a|area)$/i)&&e.href?0:c}return e[t]}if(!f.support.style&&i&&"style"==t)return f.attr(e.style,"cssText",n);r&&e.setAttribute(t,""+n);var a=!f.support.hrefNormalized&&i&&o?e.getAttribute(t,2):e.getAttribute(t);return null===a?c:a}return f.support.opacity||"opacity"!=t?(t=t.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}),r&&(e[t]=n),e[t]):(r&&(e.zoom=1,e.filter=(e.filter||"").replace(/alpha\([^)]*\)/,"")+("NaN"==parseInt(n)+""?"":"alpha(opacity="+100*n+")")),e.filter&&e.filter.indexOf("opacity=")>=0?parseFloat(e.filter.match(/opacity=([^)]*)/)[1])/100+"":"")},trim:function(e){return(e||"").replace(/^\s+|\s+$/g,"")},makeArray:function(e){var t=[];if(null!=e){var n=e.length;if(null==n||"string"==typeof e||f.isFunction(e)||e.setInterval)t[0]=e;else for(;n;)t[--n]=e[n]}return t},inArray:function(e,t){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},merge:function(e,t){var n,i=0,r=e.length;if(f.support.getAll)for(;null!=(n=t[i++]);)e[r++]=n;else for(;null!=(n=t[i++]);)8!=n.nodeType&&(e[r++]=n);return e},unique:function(e){var t=[],n={};try{for(var i=0,r=e.length;r>i;i++){var o=f.data(e[i]);n[o]||(n[o]=!0,t.push(e[i]))}}catch(s){t=e}return t},grep:function(e,t,n){for(var i=[],r=0,o=e.length;o>r;r++)!n!=!t(e[r],r)&&i.push(e[r]);return i},map:function(e,t){for(var n=[],i=0,r=e.length;r>i;i++){var o=t(e[i],i);null!=o&&(n[n.length]=o)}return n.concat.apply([],n)}});var w=navigator.userAgent.toLowerCase();f.browser={version:(w.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(w),opera:/opera/.test(w),msie:/msie/.test(w)&&!/opera/.test(w),mozilla:/mozilla/.test(w)&&!/(compatible|webkit)/.test(w)},f.each({parent:function(e){return e.parentNode},parents:function(e){return f.dir(e,"parentNode")},next:function(e){return f.nth(e,2,"nextSibling")},prev:function(e){return f.nth(e,2,"previousSibling")},nextAll:function(e){return f.dir(e,"nextSibling")},prevAll:function(e){return f.dir(e,"previousSibling")},siblings:function(e){return f.sibling(e.parentNode.firstChild,e)},children:function(e){return f.sibling(e.firstChild)},contents:function(e){return f.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:f.makeArray(e.childNodes)}},function(e,t){f.fn[e]=function(n){var i=f.map(this,t);return n&&"string"==typeof n&&(i=f.multiFilter(n,i)),this.pushStack(f.unique(i),e,n)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){f.fn[e]=function(n){for(var i=[],r=f(n),o=0,s=r.length;s>o;o++){var a=(o>0?this.clone(!0):this).get();f.fn[t].apply(f(r[o]),a),i=i.concat(a)}return this.pushStack(i,e,n)}}),f.each({removeAttr:function(e){f.attr(this,e,""),1==this.nodeType&&this.removeAttribute(e)},addClass:function(e){f.className.add(this,e)},removeClass:function(e){f.className.remove(this,e)},toggleClass:function(e,t){"boolean"!=typeof t&&(t=!f.className.has(this,e)),f.className[t?"add":"remove"](this,e)},remove:function(e){(!e||f.filter(e,[this]).length)&&(f("*",this).add([this]).each(function(){f.event.remove(this),f.removeData(this)}),this.parentNode&&this.parentNode.removeChild(this))},empty:function(){for(f(this).children().remove();this.firstChild;)this.removeChild(this.firstChild)}},function(e,t){f.fn[e]=function(){return this.each(t,arguments)}});var b="jQuery"+t(),x=0,E={};f.extend({cache:{},data:function(e,t,n){e=e==u?E:e;var i=e[b];return i||(i=e[b]=++x),t&&!f.cache[i]&&(f.cache[i]={}),n!==c&&(f.cache[i][t]=n),t?f.cache[i][t]:i},removeData:function(e,t){e=e==u?E:e;var n=e[b];if(t){if(f.cache[n]){delete f.cache[n][t],t="";for(t in f.cache[n])break;t||f.removeData(e)}}else{try{delete e[b]}catch(i){e.removeAttribute&&e.removeAttribute(b)}delete f.cache[n]}},queue:function(e,t,n){if(e){t=(t||"fx")+"queue";var i=f.data(e,t);!i||f.isArray(n)?i=f.data(e,t,f.makeArray(n)):n&&i.push(n)}return i},dequeue:function(e,t){var n=f.queue(e,t),i=n.shift();t&&"fx"!==t||(i=n[0]),i!==c&&i.call(e)}}),f.fn.extend({data:function(e,t){var n=e.split(".");if(n[1]=n[1]?"."+n[1]:"",t===c){var i=this.triggerHandler("getData"+n[1]+"!",[n[0]]);return i===c&&this.length&&(i=f.data(this[0],e)),i===c&&n[1]?this.data(n[0]):i}return this.trigger("setData"+n[1]+"!",[n[0],t]).each(function(){f.data(this,e,t)})},removeData:function(e){return this.each(function(){f.removeData(this,e)})},queue:function(e,t){return"string"!=typeof e&&(t=e,e="fx"),t===c?f.queue(this[0],e):this.each(function(){var n=f.queue(this,e,t);"fx"==e&&1==n.length&&n[0].call(this)})},dequeue:function(e){return this.each(function(){f.dequeue(this,e)})}}),/*
 * Sizzle CSS Selector Engine - v0.9.3
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
function(){function e(e,t,n,i,r,o){for(var s="previousSibling"==e&&!o,a=0,l=i.length;l>a;a++){var c=i[a];if(c){s&&1===c.nodeType&&(c.sizcache=n,c.sizset=a),c=c[e];for(var u=!1;c;){if(c.sizcache===n){u=i[c.sizset];break}if(1!==c.nodeType||o||(c.sizcache=n,c.sizset=a),c.nodeName===t){u=c;break}c=c[e]}i[a]=u}}}function t(e,t,n,i,r,s){for(var a="previousSibling"==e&&!s,l=0,c=i.length;c>l;l++){var u=i[l];if(u){a&&1===u.nodeType&&(u.sizcache=n,u.sizset=l),u=u[e];for(var d=!1;u;){if(u.sizcache===n){d=i[u.sizset];break}if(1===u.nodeType)if(s||(u.sizcache=n,u.sizset=l),"string"!=typeof t){if(u===t){d=!0;break}}else if(o.filter(t,[u]).length>0){d=u;break}u=u[e]}i[l]=d}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,i=0,r=Object.prototype.toString,o=function(e,t,i,l){if(i=i||[],t=t||document,1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return i;var c,d,f,v,y=[],w=!0;for(n.lastIndex=0;null!==(c=n.exec(e));)if(y.push(c[1]),c[2]){v=RegExp.rightContext;break}if(y.length>1&&a.exec(e))if(2===y.length&&s.relative[y[0]])d=g(y[0]+y[1],t);else for(d=s.relative[y[0]]?[t]:o(y.shift(),t);y.length;)e=y.shift(),s.relative[e]&&(e+=y.shift()),d=g(e,d);else{var b=l?{expr:y.pop(),set:u(l)}:o.find(y.pop(),1===y.length&&t.parentNode?t.parentNode:t,m(t));for(d=o.filter(b.expr,b.set),y.length>0?f=u(d):w=!1;y.length;){var x=y.pop(),E=x;s.relative[x]?E=y.pop():x="",null==E&&(E=t),s.relative[x](f,E,m(t))}}if(f||(f=d),!f)throw"Syntax error, unrecognized expression: "+(x||e);if("[object Array]"===r.call(f))if(w)if(1===t.nodeType)for(var T=0;null!=f[T];T++)f[T]&&(f[T]===!0||1===f[T].nodeType&&p(t,f[T]))&&i.push(d[T]);else for(var T=0;null!=f[T];T++)f[T]&&1===f[T].nodeType&&i.push(d[T]);else i.push.apply(i,f);else u(f,i);if(v&&(o(v,t,i,l),h&&(hasDuplicate=!1,i.sort(h),hasDuplicate)))for(var T=1;T<i.length;T++)i[T]===i[T-1]&&i.splice(T--,1);return i};o.matches=function(e,t){return o(e,null,null,t)},o.find=function(e,t,n){var i,r;if(!e)return[];for(var o=0,a=s.order.length;a>o;o++){var r,l=s.order[o];if(r=s.match[l].exec(e)){var c=RegExp.leftContext;if("\\"!==c.substr(c.length-1)&&(r[1]=(r[1]||"").replace(/\\/g,""),i=s.find[l](r,t,n),null!=i)){e=e.replace(s.match[l],"");break}}}return i||(i=t.getElementsByTagName("*")),{set:i,expr:e}},o.filter=function(e,t,n,i){for(var r,o,a=e,l=[],u=t,d=t&&t[0]&&m(t[0]);e&&t.length;){for(var h in s.filter)if(null!=(r=s.match[h].exec(e))){var f,p,g=s.filter[h];if(o=!1,u==l&&(l=[]),s.preFilter[h])if(r=s.preFilter[h](r,u,n,l,i,d)){if(r===!0)continue}else o=f=!0;if(r)for(var v=0;null!=(p=u[v]);v++)if(p){f=g(p,r,v,u);var y=i^!!f;n&&null!=f?y?o=!0:u[v]=!1:y&&(l.push(p),o=!0)}if(f!==c){if(n||(u=l),e=e.replace(s.match[h],""),!o)return[];break}}if(e==a){if(null==o)throw"Syntax error, unrecognized expression: "+e;break}a=e}return u};var s=o.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(e,t,n){var i="string"==typeof t,r=i&&!/\W/.test(t),s=i&&!r;r&&!n&&(t=t.toUpperCase());for(var a,l=0,c=e.length;c>l;l++)if(a=e[l]){for(;(a=a.previousSibling)&&1!==a.nodeType;);e[l]=s||a&&a.nodeName===t?a||!1:a===t}s&&o.filter(t,e,!0)},">":function(e,t,n){var i="string"==typeof t;if(i&&!/\W/.test(t)){t=n?t:t.toUpperCase();for(var r=0,s=e.length;s>r;r++){var a=e[r];if(a){var l=a.parentNode;e[r]=l.nodeName===t?l:!1}}}else{for(var r=0,s=e.length;s>r;r++){var a=e[r];a&&(e[r]=i?a.parentNode:a.parentNode===t)}i&&o.filter(t,e,!0)}},"":function(n,r,o){var s=i++,a=t;if(!r.match(/\W/)){var l=r=o?r:r.toUpperCase();a=e}a("parentNode",r,s,n,l,o)},"~":function(n,r,o){var s=i++,a=t;if("string"==typeof r&&!r.match(/\W/)){var l=r=o?r:r.toUpperCase();a=e}a("previousSibling",r,s,n,l,o)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i?[i]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],i=t.getElementsByName(e[1]),r=0,o=i.length;o>r;r++)i[r].getAttribute("name")===e[1]&&n.push(i[r]);return 0===n.length?null:n}},TAG:function(e,t){return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,i,r,o){if(e=" "+e[1].replace(/\\/g,"")+" ",o)return e;for(var s,a=0;null!=(s=t[a]);a++)s&&(r^(s.className&&(" "+s.className+" ").indexOf(e)>=0)?n||i.push(s):n&&(t[a]=!1));return!1},ID:function(e){return e[1].replace(/\\/g,"")},TAG:function(e,t){for(var n=0;t[n]===!1;n++);return t[n]&&m(t[n])?e[1]:e[1].toUpperCase()},CHILD:function(e){if("nth"==e[1]){var t=/(-?)(\d*)n((?:\+|-)?\d*)/.exec("even"==e[2]&&"2n"||"odd"==e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}return e[0]=i++,e},ATTR:function(e,t,n,i,r,o){var a=e[1].replace(/\\/g,"");return!o&&s.attrMap[a]&&(e[1]=s.attrMap[a]),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,i,r,a){if("not"===e[1]){if(!(e[3].match(n).length>1||/^\w/.test(e[3]))){var l=o.filter(e[3],t,i,!0^a);return i||r.push.apply(r,l),!1}e[3]=o(e[3],null,null,t)}else if(s.match.POS.test(e[0])||s.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!o(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||"BUTTON"===e.nodeName.toUpperCase()},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return 0===t%2},odd:function(e,t){return 1===t%2},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0==t},eq:function(e,t,n){return n[3]-0==t}},filter:{PSEUDO:function(e,t,n,i){var r=t[1],o=s.filters[r];if(o)return o(e,n,t,i);if("contains"===r)return(e.textContent||e.innerText||"").indexOf(t[3])>=0;if("not"===r){for(var a=t[3],n=0,l=a.length;l>n;n++)if(a[n]===e)return!1;return!0}},CHILD:function(e,t){var n=t[1],i=e;switch(n){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"==n)return!0;i=e;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0;case"nth":var r=t[2],o=t[3];if(1==r&&0==o)return!0;var s=t[0],a=e.parentNode;if(a&&(a.sizcache!==s||!e.nodeIndex)){var l=0;for(i=a.firstChild;i;i=i.nextSibling)1===i.nodeType&&(i.nodeIndex=++l);a.sizcache=s}var c=e.nodeIndex-o;return 0==r?0==c:0==c%r&&c/r>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||e.nodeName===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=s.attrHandle[n]?s.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),r=i+"",o=t[2],a=t[4];return null==i?"!="===o:"="===o?r===a:"*="===o?r.indexOf(a)>=0:"~="===o?(" "+r+" ").indexOf(a)>=0:a?"!="===o?r!=a:"^="===o?0===r.indexOf(a):"$="===o?r.substr(r.length-a.length)===a:"|="===o?r===a||r.substr(0,a.length+1)===a+"-":!1:r&&i!==!1},POS:function(e,t,n,i){var r=t[2],o=s.setFilters[r];return o?o(e,n,t,i):void 0}}},a=s.match.POS;for(var l in s.match)s.match[l]=RegExp(s.match[l].source+/(?![^\[]*\])(?![^\(]*\))/.source);var u=function(e,t){return e=Array.prototype.slice.call(e),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(d){u=function(e,t){var n=t||[];if("[object Array]"===r.call(e))Array.prototype.push.apply(n,e);else if("number"==typeof e.length)for(var i=0,o=e.length;o>i;i++)n.push(e[i]);else for(var i=0;e[i];i++)n.push(e[i]);return n}}var h;document.documentElement.compareDocumentPosition?h=function(e,t){var n=4&e.compareDocumentPosition(t)?-1:e===t?0:1;return 0===n&&(hasDuplicate=!0),n}:"sourceIndex"in document.documentElement?h=function(e,t){var n=e.sourceIndex-t.sourceIndex;return 0===n&&(hasDuplicate=!0),n}:document.createRange&&(h=function(e,t){var n=e.ownerDocument.createRange(),i=t.ownerDocument.createRange();n.selectNode(e),n.collapse(!0),i.selectNode(t),i.collapse(!0);var r=n.compareBoundaryPoints(Range.START_TO_END,i);return 0===r&&(hasDuplicate=!0),r}),function(){var e=document.createElement("form"),t="script"+(new Date).getTime();e.innerHTML="<input name='"+t+"'/>";var n=document.documentElement;n.insertBefore(e,n.firstChild),document.getElementById(t)&&(s.find.ID=function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i?i.id===e[1]||"undefined"!=typeof i.getAttributeNode&&i.getAttributeNode("id").nodeValue===e[1]?[i]:c:[]}},s.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),n.removeChild(e)}(),function(){var e=document.createElement("div");e.appendChild(document.createComment("")),e.getElementsByTagName("*").length>0&&(s.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],r=0;n[r];r++)1===n[r].nodeType&&i.push(n[r]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(s.attrHandle.href=function(e){return e.getAttribute("href",2)})}(),document.querySelectorAll&&function(){var e=o,t=document.createElement("div");t.innerHTML="<p class='TEST'></p>",t.querySelectorAll&&0===t.querySelectorAll(".TEST").length||(o=function(t,n,i,r){if(n=n||document,!r&&9===n.nodeType&&!m(n))try{return u(n.querySelectorAll(t),i)}catch(o){}return e(t,n,i,r)},o.find=e.find,o.filter=e.filter,o.selectors=e.selectors,o.matches=e.matches)}(),document.getElementsByClassName&&document.documentElement.getElementsByClassName&&function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(s.order.splice(1,0,"CLASS"),s.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])}))}();var p=document.compareDocumentPosition?function(e,t){return 16&e.compareDocumentPosition(t)}:function(e,t){return e!==t&&(e.contains?e.contains(t):!0)},m=function(e){return 9===e.nodeType&&"HTML"!==e.documentElement.nodeName||!!e.ownerDocument&&m(e.ownerDocument)},g=function(e,t){for(var n,i=[],r="",a=t.nodeType?[t]:t;n=s.match.PSEUDO.exec(e);)r+=n[0],e=e.replace(s.match.PSEUDO,"");e=s.relative[e]?e+"*":e;for(var l=0,c=a.length;c>l;l++)o(e,a[l],i);return o.filter(r,i)};f.find=o,f.filter=o.filter,f.expr=o.selectors,f.expr[":"]=f.expr.filters,o.selectors.filters.hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight},o.selectors.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0},o.selectors.filters.animated=function(e){return f.grep(f.timers,function(t){return e===t.elem}).length},f.multiFilter=function(e,t,n){return n&&(e=":not("+e+")"),o.matches(e,t)},f.dir=function(e,t){for(var n=[],i=e[t];i&&i!=document;)1==i.nodeType&&n.push(i),i=i[t];return n},f.nth=function(e,t,n){t=t||1;for(var i=0;e&&(1!=e.nodeType||++i!=t);e=e[n]);return e},f.sibling=function(e,t){for(var n=[];e;e=e.nextSibling)1==e.nodeType&&e!=t&&n.push(e);return n}}(),f.event={add:function(e,t,n,i){if(3!=e.nodeType&&8!=e.nodeType){if(e.setInterval&&e!=u&&(e=u),n.guid||(n.guid=this.guid++),i!==c){var r=n;n=this.proxy(r),n.data=i}var o=f.data(e,"events")||f.data(e,"events",{}),s=f.data(e,"handle")||f.data(e,"handle",function(){return"undefined"==typeof f||f.event.triggered?c:f.event.handle.apply(arguments.callee.elem,arguments)});s.elem=e,f.each(t.split(/\s+/),function(t,r){var a=r.split(".");r=a.shift(),n.type=a.slice().sort().join(".");var l=o[r];f.event.specialAll[r]&&f.event.specialAll[r].setup.call(e,i,a),l||(l=o[r]={},f.event.special[r]&&f.event.special[r].setup.call(e,i,a)!==!1||(e.addEventListener?e.addEventListener(r,s,!1):e.attachEvent&&e.attachEvent("on"+r,s))),l[n.guid]=n,f.event.global[r]=!0}),e=null}},guid:1,global:{},remove:function(e,t,n){if(3!=e.nodeType&&8!=e.nodeType){var i,r=f.data(e,"events");if(r){if(t===c||"string"==typeof t&&"."==t.charAt(0))for(var o in r)this.remove(e,o+(t||""));else t.type&&(n=t.handler,t=t.type),f.each(t.split(/\s+/),function(t,o){var s=o.split(".");o=s.shift();var a=RegExp("(^|\\.)"+s.slice().sort().join(".*\\.")+"(\\.|$)");if(r[o]){if(n)delete r[o][n.guid];else for(var l in r[o])a.test(r[o][l].type)&&delete r[o][l];f.event.specialAll[o]&&f.event.specialAll[o].teardown.call(e,s);for(i in r[o])break;i||(f.event.special[o]&&f.event.special[o].teardown.call(e,s)!==!1||(e.removeEventListener?e.removeEventListener(o,f.data(e,"handle"),!1):e.detachEvent&&e.detachEvent("on"+o,f.data(e,"handle"))),i=null,delete r[o])}});for(i in r)break;if(!i){var s=f.data(e,"handle");s&&(s.elem=null),f.removeData(e,"events"),f.removeData(e,"handle")}}}},trigger:function(e,t,n,i){var r=e.type||e;if(!i){if(e="object"==typeof e?e[b]?e:f.extend(f.Event(r),e):f.Event(r),r.indexOf("!")>=0&&(e.type=r=r.slice(0,-1),e.exclusive=!0),n||(e.stopPropagation(),this.global[r]&&f.each(f.cache,function(){this.events&&this.events[r]&&f.event.trigger(e,t,this.handle.elem)})),!n||3==n.nodeType||8==n.nodeType)return c;e.result=c,e.target=n,t=f.makeArray(t),t.unshift(e)}e.currentTarget=n;var o=f.data(n,"handle");if(o&&o.apply(n,t),(!n[r]||f.nodeName(n,"a")&&"click"==r)&&n["on"+r]&&n["on"+r].apply(n,t)===!1&&(e.result=!1),!(i||!n[r]||e.isDefaultPrevented()||f.nodeName(n,"a")&&"click"==r)){this.triggered=!0;try{n[r]()}catch(s){}}if(this.triggered=!1,!e.isPropagationStopped()){var a=n.parentNode||n.ownerDocument;a&&f.event.trigger(e,t,a,!0)}},handle:function(e){var t,n;e=arguments[0]=f.event.fix(e||u.event),e.currentTarget=this;var i=e.type.split(".");e.type=i.shift(),t=!i.length&&!e.exclusive;var r=RegExp("(^|\\.)"+i.slice().sort().join(".*\\.")+"(\\.|$)");n=(f.data(this,"events")||{})[e.type];for(var o in n){var s=n[o];if(t||r.test(s.type)){e.handler=s,e.data=s.data;var a=s.apply(this,arguments);if(a!==c&&(e.result=a,a===!1&&(e.preventDefault(),e.stopPropagation())),e.isImmediatePropagationStopped())break}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(e){if(e[b])return e;var t=e;e=f.Event(t);for(var n,i=this.props.length;i;)n=this.props[--i],e[n]=t[n];if(e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement==e.target?e.toElement:e.fromElement),null==e.pageX&&null!=e.clientX){var r=document.documentElement,o=document.body;e.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r.clientTop||0)}return!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey&&(e.metaKey=e.ctrlKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e},proxy:function(e,t){return t=t||function(){return e.apply(this,arguments)},t.guid=e.guid=e.guid||t.guid||this.guid++,t},special:{ready:{setup:a,teardown:function(){}}},specialAll:{live:{setup:function(e,t){f.event.add(this,t[0],o)},teardown:function(e){if(e.length){var t=0,n=RegExp("(^|\\.)"+e[0]+"(\\.|$)");f.each(f.data(this,"events").live||{},function(){n.test(this.type)&&t++}),1>t&&f.event.remove(this,e[0],o)}}}}},f.Event=function(e){return this.preventDefault?(e&&e.type?(this.originalEvent=e,this.type=e.type):this.type=e,this.timeStamp=t(),this[b]=!0,void 0):new f.Event(e)},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=r;var e=this.originalEvent;e&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=r;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},isDefaultPrevented:i,isPropagationStopped:i,isImmediatePropagationStopped:i};var T=function(e){for(var t=e.relatedTarget;t&&t!=this;)try{t=t.parentNode}catch(n){t=this}t!=this&&(e.type=e.data,f.event.handle.apply(this,arguments))};f.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(e,t){f.event.special[t]={setup:function(){f.event.add(this,e,T,t)},teardown:function(){f.event.remove(this,e,T)}}}),f.fn.extend({bind:function(e,t,n){return"unload"==e?this.one(e,t,n):this.each(function(){f.event.add(this,e,n||t,n&&t)})},one:function(e,t,n){var i=f.event.proxy(n||t,function(e){return f(this).unbind(e,i),(n||t).apply(this,arguments)});return this.each(function(){f.event.add(this,e,i,n&&t)})},unbind:function(e,t){return this.each(function(){f.event.remove(this,e,t)})},trigger:function(e,t){return this.each(function(){f.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0]){var n=f.Event(e);return n.preventDefault(),n.stopPropagation(),f.event.trigger(n,t,this[0]),n.result}},toggle:function(e){for(var t=arguments,n=1;n<t.length;)f.event.proxy(e,t[n++]);return this.click(f.event.proxy(e,function(e){return this.lastToggle=(this.lastToggle||0)%n,e.preventDefault(),t[this.lastToggle++].apply(this,arguments)||!1}))},hover:function(e,t){return this.mouseenter(e).mouseleave(t)},ready:function(e){return a(),f.isReady?e.call(document,f):f.readyList.push(e),this},live:function(e,t){var n=f.event.proxy(t);return n.guid+=this.selector+e,f(document).bind(s(e,this.selector),this.selector,n),this},die:function(e,t){return f(document).unbind(s(e,this.selector),t?{guid:t.guid+this.selector+e}:null),this}}),f.extend({isReady:!1,readyList:[],ready:function(){f.isReady||(f.isReady=!0,f.readyList&&(f.each(f.readyList,function(){this.call(document,f)}),f.readyList=null),f(document).triggerHandler("ready"))}});var S=!1;f.each("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error".split(","),function(e,t){f.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),f(u).bind("unload",function(){for(var e in f.cache)1!=e&&f.cache[e].handle&&f.event.remove(f.cache[e].handle.elem)}),function(){f.support={};var e=document.documentElement,t=document.createElement("script"),n=document.createElement("div"),i="script"+(new Date).getTime();n.style.display="none",n.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>';var r=n.getElementsByTagName("*"),o=n.getElementsByTagName("a")[0];if(r&&r.length&&o){f.support={leadingWhitespace:3==n.firstChild.nodeType,tbody:!n.getElementsByTagName("tbody").length,objectAll:!!n.getElementsByTagName("object")[0].getElementsByTagName("*").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/red/.test(o.getAttribute("style")),hrefNormalized:"/a"===o.getAttribute("href"),opacity:"0.5"===o.style.opacity,cssFloat:!!o.style.cssFloat,scriptEval:!1,noCloneEvent:!0,boxModel:null},t.type="text/javascript";try{t.appendChild(document.createTextNode("window."+i+"=1;"))}catch(s){}e.insertBefore(t,e.firstChild),u[i]&&(f.support.scriptEval=!0,delete u[i]),e.removeChild(t),n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",function(){f.support.noCloneEvent=!1,n.detachEvent("onclick",arguments.callee)}),n.cloneNode(!0).fireEvent("onclick")),f(function(){var e=document.createElement("div");e.style.width=e.style.paddingLeft="1px",document.body.appendChild(e),f.boxModel=f.support.boxModel=2===e.offsetWidth,document.body.removeChild(e).style.display="none"})}}();var _=f.support.cssFloat?"cssFloat":"styleFloat";f.props={"for":"htmlFor","class":"className","float":_,cssFloat:_,styleFloat:_,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"},f.fn.extend({_load:f.fn.load,load:function(e,t,n){if("string"!=typeof e)return this._load(e);var i=e.indexOf(" ");if(i>=0){var r=e.slice(i,e.length);e=e.slice(0,i)}var o="GET";t&&(f.isFunction(t)?(n=t,t=null):"object"==typeof t&&(t=f.param(t),o="POST"));var s=this;return f.ajax({url:e,type:o,dataType:"html",data:t,complete:function(e,t){("success"==t||"notmodified"==t)&&s.html(r?f("<div/>").append(e.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(r):e.responseText),n&&s.each(n,[e.responseText,t,e])}}),this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password|search/i.test(this.type))}).map(function(e,t){var n=f(this).val();return null==n?null:f.isArray(n)?f.map(n,function(e){return{name:t.name,value:e}}):{name:t.name,value:n}}).get()}}),f.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(e,t){f.fn[t]=function(e){return this.bind(t,e)}});var C=t();f.extend({get:function(e,t,n,i){return f.isFunction(t)&&(n=t,t=null),f.ajax({type:"GET",url:e,data:t,success:n,dataType:i})},getScript:function(e,t){return f.get(e,null,t,"script")},getJSON:function(e,t,n){return f.get(e,t,n,"json")},post:function(e,t,n,i){return f.isFunction(t)&&(n=t,t={}),f.ajax({type:"POST",url:e,data:t,success:n,dataType:i})},ajaxSetup:function(e){f.extend(f.ajaxSettings,e)},ajaxSettings:{url:location.href,global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,xhr:function(){return u.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(e){function n(){e.success&&e.success(s,o),e.global&&f.event.trigger("ajaxSuccess",[w,e])}function i(){e.complete&&e.complete(w,o),e.global&&f.event.trigger("ajaxComplete",[w,e]),e.global&&!--f.active&&f.event.trigger("ajaxStop")}e=f.extend(!0,e,f.extend(!0,{},f.ajaxSettings,e));var r,o,s,a=/=\?(&|$)/g,l=e.type.toUpperCase();if(e.data&&e.processData&&"string"!=typeof e.data&&(e.data=f.param(e.data)),"jsonp"==e.dataType&&("GET"==l?e.url.match(a)||(e.url+=(e.url.match(/\?/)?"&":"?")+(e.jsonp||"callback")+"=?"):e.data&&e.data.match(a)||(e.data=(e.data?e.data+"&":"")+(e.jsonp||"callback")+"=?"),e.dataType="json"),"json"==e.dataType&&(e.data&&e.data.match(a)||e.url.match(a))&&(r="jsonp"+C++,e.data&&(e.data=(e.data+"").replace(a,"="+r+"$1")),e.url=e.url.replace(a,"="+r+"$1"),e.dataType="script",u[r]=function(e){s=e,n(),i(),u[r]=c;try{delete u[r]}catch(t){}m&&m.removeChild(g)}),"script"==e.dataType&&null==e.cache&&(e.cache=!1),e.cache===!1&&"GET"==l){var d=t(),h=e.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+d+"$2");e.url=h+(h==e.url?(e.url.match(/\?/)?"&":"?")+"_="+d:"")}e.data&&"GET"==l&&(e.url+=(e.url.match(/\?/)?"&":"?")+e.data,e.data=null),e.global&&!f.active++&&f.event.trigger("ajaxStart");var p=/^(\w+:)?\/\/([^\/?#]+)/.exec(e.url);if("script"==e.dataType&&"GET"==l&&p&&(p[1]&&p[1]!=location.protocol||p[2]!=location.host)){var m=document.getElementsByTagName("head")[0],g=document.createElement("script");if(g.src=e.url,e.scriptCharset&&(g.charset=e.scriptCharset),!r){var v=!1;g.onload=g.onreadystatechange=function(){v||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(v=!0,n(),i(),g.onload=g.onreadystatechange=null,m.removeChild(g))}}return m.appendChild(g),c}var y=!1,w=e.xhr();e.username?w.open(l,e.url,e.async,e.username,e.password):w.open(l,e.url,e.async);try{e.data&&w.setRequestHeader("Content-Type",e.contentType),e.ifModified&&w.setRequestHeader("If-Modified-Since",f.lastModified[e.url]||"Thu, 01 Jan 1970 00:00:00 GMT"),w.setRequestHeader("X-Requested-With","XMLHttpRequest"),w.setRequestHeader("Accept",e.dataType&&e.accepts[e.dataType]?e.accepts[e.dataType]+", */*":e.accepts._default)}catch(b){}if(e.beforeSend&&e.beforeSend(w,e)===!1)return e.global&&!--f.active&&f.event.trigger("ajaxStop"),w.abort(),!1;e.global&&f.event.trigger("ajaxSend",[w,e]);var x=function(t){if(0==w.readyState)E&&(clearInterval(E),E=null,e.global&&!--f.active&&f.event.trigger("ajaxStop"));else if(!y&&w&&(4==w.readyState||"timeout"==t)){if(y=!0,E&&(clearInterval(E),E=null),o="timeout"==t?"timeout":f.httpSuccess(w)?e.ifModified&&f.httpNotModified(w,e.url)?"notmodified":"success":"error","success"==o)try{s=f.httpData(w,e.dataType,e)}catch(a){o="parsererror"}if("success"==o){var l;try{l=w.getResponseHeader("Last-Modified")}catch(a){}e.ifModified&&l&&(f.lastModified[e.url]=l),r||n()}else f.handleError(e,w,o);i(),t&&w.abort(),e.async&&(w=null)}};if(e.async){var E=setInterval(x,13);e.timeout>0&&setTimeout(function(){w&&!y&&x("timeout")},e.timeout)}try{w.send(e.data)}catch(b){f.handleError(e,w,null,b)}return e.async||x(),w},handleError:function(e,t,n,i){e.error&&e.error(t,n,i),e.global&&f.event.trigger("ajaxError",[t,e,i])},active:0,httpSuccess:function(e){try{return!e.status&&"file:"==location.protocol||e.status>=200&&e.status<300||304==e.status||1223==e.status}catch(t){}return!1},httpNotModified:function(e,t){try{var n=e.getResponseHeader("Last-Modified");return 304==e.status||n==f.lastModified[t]}catch(i){}return!1},httpData:function(e,t,n){var i=e.getResponseHeader("content-type"),r="xml"==t||!t&&i&&i.indexOf("xml")>=0,o=r?e.responseXML:e.responseText;if(r&&"parsererror"==o.documentElement.tagName)throw"parsererror";return n&&n.dataFilter&&(o=n.dataFilter(o,t)),"string"==typeof o&&("script"==t&&f.globalEval(o),"json"==t&&(o=u.eval("("+o+")"))),o},param:function(e){function t(e,t){n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var n=[];if(f.isArray(e)||e.jquery)f.each(e,function(){t(this.name,this.value)});else for(var i in e)f.isArray(e[i])?f.each(e[i],function(){t(i,this)}):t(i,f.isFunction(e[i])?e[i]():e[i]);return n.join("&").replace(/%20/g,"+")}});var A,k={},O=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];f.fn.extend({show:function(e,t){if(e)return this.animate(l("show",3),e,t);for(var n=0,i=this.length;i>n;n++){var r=f.data(this[n],"olddisplay");if(this[n].style.display=r||"","none"===f.css(this[n],"display")){var o,s=this[n].tagName;if(k[s])o=k[s];else{var a=f("<"+s+" />").appendTo("body");o=a.css("display"),"none"===o&&(o="block"),a.remove(),k[s]=o}f.data(this[n],"olddisplay",o)}}for(var n=0,i=this.length;i>n;n++)this[n].style.display=f.data(this[n],"olddisplay")||"";return this},hide:function(e,t){if(e)return this.animate(l("hide",3),e,t);for(var n=0,i=this.length;i>n;n++){var r=f.data(this[n],"olddisplay");r||"none"===r||f.data(this[n],"olddisplay",f.css(this[n],"display"))}for(var n=0,i=this.length;i>n;n++)this[n].style.display="none";return this},_toggle:f.fn.toggle,toggle:function(e,t){var n="boolean"==typeof e;return f.isFunction(e)&&f.isFunction(t)?this._toggle.apply(this,arguments):null==e||n?this.each(function(){var t=n?e:f(this).is(":hidden");f(this)[t?"show":"hide"]()}):this.animate(l("toggle",3),e,t)},fadeTo:function(e,t,n){return this.animate({opacity:t},e,n)},animate:function(e,t,n,i){var r=f.speed(t,n,i);return this[r.queue===!1?"each":"queue"](function(){var t,n=f.extend({},r),i=1==this.nodeType&&f(this).is(":hidden"),o=this;for(t in e){if("hide"==e[t]&&i||"show"==e[t]&&!i)return n.complete.call(this);"height"!=t&&"width"!=t||!this.style||(n.display=f.css(this,"display"),n.overflow=this.style.overflow)}return null!=n.overflow&&(this.style.overflow="hidden"),n.curAnim=f.extend({},e),f.each(e,function(t,r){var s=new f.fx(o,n,t);if(/toggle|show|hide/.test(r))s["toggle"==r?i?"show":"hide":r](e);else{var a=r.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),l=s.cur(!0)||0;if(a){var c=parseFloat(a[2]),u=a[3]||"px";"px"!=u&&(o.style[t]=(c||1)+u,l=(c||1)/s.cur(!0)*l,o.style[t]=l+u),a[1]&&(c=("-="==a[1]?-1:1)*c+l),s.custom(l,c,u)}else s.custom(l,r,"")}}),!0})},stop:function(e,t){var n=f.timers;return e&&this.queue([]),this.each(function(){for(var e=n.length-1;e>=0;e--)n[e].elem==this&&(t&&n[e](!0),n.splice(e,1))}),t||this.dequeue(),this}}),f.each({slideDown:l("show",1),slideUp:l("hide",1),slideToggle:l("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(e,t){f.fn[e]=function(e,n){return this.animate(t,e,n)}}),f.extend({speed:function(e,t,n){var i="object"==typeof e?e:{complete:n||!n&&t||f.isFunction(e)&&e,duration:e,easing:n&&t||t&&!f.isFunction(t)&&t};return i.duration=f.fx.off?0:"number"==typeof i.duration?i.duration:f.fx.speeds[i.duration]||f.fx.speeds._default,i.old=i.complete,i.complete=function(){i.queue!==!1&&f(this).dequeue(),f.isFunction(i.old)&&i.old.call(this)},i},easing:{linear:function(e,t,n,i){return n+i*e},swing:function(e,t,n,i){return(-Math.cos(e*Math.PI)/2+.5)*i+n}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig||(t.orig={})}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this),"height"!=this.prop&&"width"!=this.prop||!this.elem.style||(this.elem.style.display="block")},cur:function(e){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var t=parseFloat(f.css(this.elem,this.prop,e));return t&&t>-1e4?t:parseFloat(f.curCSS(this.elem,this.prop))||0},custom:function(e,n,i){function r(e){return o.step(e)}this.startTime=t(),this.start=e,this.end=n,this.unit=i||this.unit||"px",this.now=this.start,this.pos=this.state=0;var o=this;r.elem=this.elem,r()&&f.timers.push(r)&&!A&&(A=setInterval(function(){for(var e=f.timers,t=0;t<e.length;t++)e[t]()||e.splice(t--,1);e.length||(clearInterval(A),A=c)},13))},show:function(){this.options.orig[this.prop]=f.attr(this.elem.style,this.prop),this.options.show=!0,this.custom("width"==this.prop||"height"==this.prop?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f.attr(this.elem.style,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var n=t();if(e||n>=this.options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),this.options.curAnim[this.prop]=!0;var i=!0;for(var r in this.options.curAnim)this.options.curAnim[r]!==!0&&(i=!1);if(i){if(null!=this.options.display&&(this.elem.style.overflow=this.options.overflow,this.elem.style.display=this.options.display,"none"==f.css(this.elem,"display")&&(this.elem.style.display="block")),this.options.hide&&f(this.elem).hide(),this.options.hide||this.options.show)for(var o in this.options.curAnim)f.attr(this.elem.style,o,this.options.orig[o]);this.options.complete.call(this.elem)}return!1}var s=n-this.startTime;return this.state=s/this.options.duration,this.pos=f.easing[this.options.easing||(f.easing.swing?"swing":"linear")](this.state,s,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update(),!0}},f.extend(f.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){f.attr(e.elem.style,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),f.fn.offset=document.documentElement.getBoundingClientRect?function(){if(!this[0])return{top:0,left:0};if(this[0]===this[0].ownerDocument.body)return f.offset.bodyOffset(this[0]);
var e=this[0].getBoundingClientRect(),t=this[0].ownerDocument,n=t.body,i=t.documentElement,r=i.clientTop||n.clientTop||0,o=i.clientLeft||n.clientLeft||0,s=e.top+(self.pageYOffset||f.boxModel&&i.scrollTop||n.scrollTop)-r,a=e.left+(self.pageXOffset||f.boxModel&&i.scrollLeft||n.scrollLeft)-o;return{top:s,left:a}}:function(){if(!this[0])return{top:0,left:0};if(this[0]===this[0].ownerDocument.body)return f.offset.bodyOffset(this[0]);f.offset.initialized||f.offset.initialize();for(var e,t=this[0],n=t.offsetParent,i=t,r=t.ownerDocument,o=r.documentElement,s=r.body,a=r.defaultView,l=a.getComputedStyle(t,null),c=t.offsetTop,u=t.offsetLeft;(t=t.parentNode)&&t!==s&&t!==o;)e=a.getComputedStyle(t,null),c-=t.scrollTop,u-=t.scrollLeft,t===n&&(c+=t.offsetTop,u+=t.offsetLeft,!f.offset.doesNotAddBorder||f.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(t.tagName)||(c+=parseInt(e.borderTopWidth,10)||0,u+=parseInt(e.borderLeftWidth,10)||0),i=n,n=t.offsetParent),f.offset.subtractsBorderForOverflowNotVisible&&"visible"!==e.overflow&&(c+=parseInt(e.borderTopWidth,10)||0,u+=parseInt(e.borderLeftWidth,10)||0),l=e;return("relative"===l.position||"static"===l.position)&&(c+=s.offsetTop,u+=s.offsetLeft),"fixed"===l.position&&(c+=Math.max(o.scrollTop,s.scrollTop),u+=Math.max(o.scrollLeft,s.scrollLeft)),{top:c,left:u}},f.offset={initialize:function(){if(!this.initialized){var e,t,n,i,r,o=document.body,s=document.createElement("div"),a=o.style.marginTop,l='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';i={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(r in i)s.style[r]=i[r];s.innerHTML=l,o.insertBefore(s,o.firstChild),e=s.firstChild,t=e.firstChild,n=e.nextSibling.firstChild.firstChild,this.doesNotAddBorder=5!==t.offsetTop,this.doesAddBorderForTableAndCells=5===n.offsetTop,e.style.overflow="hidden",e.style.position="relative",this.subtractsBorderForOverflowNotVisible=-5===t.offsetTop,o.style.marginTop="1px",this.doesNotIncludeMarginInBodyOffset=0===o.offsetTop,o.style.marginTop=a,o.removeChild(s),this.initialized=!0}},bodyOffset:function(e){f.offset.initialized||f.offset.initialize();var t=e.offsetTop,n=e.offsetLeft;return f.offset.doesNotIncludeMarginInBodyOffset&&(t+=parseInt(f.curCSS(e,"marginTop",!0),10)||0,n+=parseInt(f.curCSS(e,"marginLeft",!0),10)||0),{top:t,left:n}}},f.fn.extend({position:function(){var e;if(this[0]){var t=this.offsetParent(),i=this.offset(),r=/^body|html$/i.test(t[0].tagName)?{top:0,left:0}:t.offset();i.top-=n(this,"marginTop"),i.left-=n(this,"marginLeft"),r.top+=n(t,"borderTopWidth"),r.left+=n(t,"borderLeftWidth"),e={top:i.top-r.top,left:i.left-r.left}}return e},offsetParent:function(){for(var e=this[0].offsetParent||document.body;e&&!/^body|html$/i.test(e.tagName)&&"static"==f.css(e,"position");)e=e.offsetParent;return f(e)}}),f.each(["Left","Top"],function(e,t){var n="scroll"+t;f.fn[n]=function(t){return this[0]?t!==c?this.each(function(){this==u||this==document?u.scrollTo(e?f(u).scrollLeft():t,e?t:f(u).scrollTop()):this[n]=t}):this[0]==u||this[0]==document?self[e?"pageYOffset":"pageXOffset"]||f.boxModel&&document.documentElement[n]||document.body[n]:this[0][n]:null}}),f.each(["Height","Width"],function(e,t){var n=t.toLowerCase();f.fn["inner"+t]=function(){return this[0]?f.css(this[0],n,!1,"padding"):null},f.fn["outer"+t]=function(e){return this[0]?f.css(this[0],n,!1,e?"margin":"border"):null};var i=t.toLowerCase();f.fn[i]=function(e){return this[0]==u?"CSS1Compat"==document.compatMode&&document.documentElement["client"+t]||document.body["client"+t]:this[0]==document?Math.max(document.documentElement["client"+t],document.body["scroll"+t],document.documentElement["scroll"+t],document.body["offset"+t],document.documentElement["offset"+t]):e===c?this.length?f.css(this[0],i):null:this.css(i,"string"==typeof e?e:e+"px")}})}(),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var r,o,s,a,l,c,u,d;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),l=a===t?null:a,c=i.data("with-credentials")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),s=i.serializeArray();var h=i.data("ujs:submit-button");h&&(s.push(h),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),s=i.data("params")||null);d={type:r||"GET",data:s,dataType:u,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},c&&(d.xhrFields={withCredentials:c}),o&&(d.url=o);var f=n.ajax(d);return i.trigger("ajax:send",f),f}return!1},handleMethod:function(i){var r=n.href(i),o=i.data("method"),s=i.attr("target"),a=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&a!==t&&(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return i?(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,o,s=e(),a=n||"input,textarea",l=t.find(a);return l.each(function(){if(r=e(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=e(this),o=r.data("method"),s=r.data("params");if(!n.allowAction(r))return n.stopEverything(i);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if(!(!i.metaKey&&!i.ctrlKey||o&&"GET"!==o||s))return!0;var a=n.handleRemote(r);return a===!1?n.enableElement(r):a.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=e(this),o=r.data("remote")!==t,s=n.blankInputs(r,n.requiredInputSelector),a=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(s&&r.attr("novalidate")==t&&n.fire(r,"ajax:aborted:required",[s]))return n.stopEverything(i);if(o){if(a){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery),// Copyright (c) 2005-2007 Thomas Fuchs (http://script.aculo.us, http://mir.aculo.us)
String.prototype.parseColor=function(){var e="#";if("rgb("==this.slice(0,4)){var t=this.slice(4,this.length-1).split(","),n=0;do e+=parseInt(t[n]).toColorPart();while(++n<3)}else if("#"==this.slice(0,1)){if(4==this.length)for(var n=1;4>n;n++)e+=(this.charAt(n)+this.charAt(n)).toLowerCase();7==this.length&&(e=this.toLowerCase())}return 7==e.length?e:arguments[0]||this},Element.collectTextNodes=function(e){return $A($(e).childNodes).collect(function(e){return 3==e.nodeType?e.nodeValue:e.hasChildNodes()?Element.collectTextNodes(e):""}).flatten().join("")},Element.collectTextNodesIgnoreClass=function(e,t){return $A($(e).childNodes).collect(function(e){return 3==e.nodeType?e.nodeValue:e.hasChildNodes()&&!Element.hasClassName(e,t)?Element.collectTextNodesIgnoreClass(e,t):""}).flatten().join("")},Element.setContentZoom=function(e,t){return e=$(e),e.setStyle({fontSize:t/100+"em"}),Prototype.Browser.WebKit&&window.scrollBy(0,0),e},Element.getInlineOpacity=function(e){return $(e).style.opacity||""},Element.forceRerendering=function(e){try{e=$(e);var t=document.createTextNode(" ");e.appendChild(t),e.removeChild(t)}catch(n){}},Array.prototype.call=function(){var e=arguments;this.each(function(t){t.apply(this,e)})};var Effect={_elementDoesNotExistError:{name:"ElementDoesNotExistError",message:"The specified DOM element does not exist, but is required for this effect to operate"},tagifyText:function(e){if("undefined"==typeof Builder)throw"Effect.tagifyText requires including script.aculo.us' builder.js library";var t="position:relative";Prototype.Browser.IE&&(t+=";zoom:1"),e=$(e),$A(e.childNodes).each(function(n){3==n.nodeType&&(n.nodeValue.toArray().each(function(i){e.insertBefore(Builder.node("span",{style:t}," "==i?String.fromCharCode(160):i),n)}),Element.remove(n))})},multiple:function(e,t){var n;n="object"!=typeof e&&"function"!=typeof e||!e.length?$(e).childNodes:e;var i=Object.extend({speed:.1,delay:0},arguments[2]||{}),r=i.delay;$A(n).each(function(e,n){new t(e,Object.extend(i,{delay:n*i.speed+r}))})},PAIRS:{slide:["SlideDown","SlideUp"],blind:["BlindDown","BlindUp"],appear:["Appear","Fade"]},toggle:function(e,t){e=$(e),t=(t||"appear").toLowerCase();var n=Object.extend({queue:{position:"end",scope:e.id||"global",limit:1}},arguments[2]||{});Effect[e.visible()?Effect.PAIRS[t][1]:Effect.PAIRS[t][0]](e,n)}},Effect2=Effect;// Copyright (c) 2007 stickmanlabs
if(Effect.Transitions={linear:Prototype.K,sinoidal:function(e){return-Math.cos(e*Math.PI)/2+.5},reverse:function(e){return 1-e},flicker:function(e){var e=-Math.cos(e*Math.PI)/4+.75+Math.random()/4;return e>1?1:e},wobble:function(e){return-Math.cos(e*Math.PI*9*e)/2+.5},pulse:function(e,t){return t=t||5,0==Math.round(e%(1/t)*t)?2*e*t-Math.floor(2*e*t):1-(2*e*t-Math.floor(2*e*t))},none:function(){return 0},full:function(){return 1}},Effect.ScopedQueue=Class.create(),Object.extend(Object.extend(Effect.ScopedQueue.prototype,Enumerable),{initialize:function(){this.effects=[],this.interval=null},_each:function(e){this.effects._each(e)},add:function(e){var t=(new Date).getTime(),n="string"==typeof e.options.queue?e.options.queue:e.options.queue.position;switch(n){case"front":this.effects.findAll(function(e){return"idle"==e.state}).each(function(t){t.startOn+=e.finishOn,t.finishOn+=e.finishOn});break;case"with-last":t=this.effects.pluck("startOn").max()||t;break;case"end":t=this.effects.pluck("finishOn").max()||t}e.startOn+=t,e.finishOn+=t,(!e.options.queue.limit||this.effects.length<e.options.queue.limit)&&this.effects.push(e),this.interval||(this.interval=setInterval(this.loop.bind(this),15))},remove:function(e){this.effects=this.effects.reject(function(t){return t==e}),0==this.effects.length&&(clearInterval(this.interval),this.interval=null)},loop:function(){for(var e=(new Date).getTime(),t=0,n=this.effects.length;n>t;t++)this.effects[t]&&this.effects[t].loop(e)}}),Effect.Queues={instances:$H(),get:function(e){return"string"!=typeof e?e:(this.instances[e]||(this.instances[e]=new Effect.ScopedQueue),this.instances[e])}},Effect.Queue=Effect.Queues.get("global"),Effect.DefaultOptions={transition:Effect.Transitions.sinoidal,duration:1,fps:100,sync:!1,from:0,to:1,delay:0,queue:"parallel"},Effect.Base=function(){},Effect.Base.prototype={position:null,start:function(options){function codeForEvent(e,t){return(e[t+"Internal"]?"this.options."+t+"Internal(this);":"")+(e[t]?"this.options."+t+"(this);":"")}options.transition===!1&&(options.transition=Effect.Transitions.linear),this.options=Object.extend(Object.extend({},Effect.DefaultOptions),options||{}),this.currentFrame=0,this.state="idle",this.startOn=1e3*this.options.delay,this.finishOn=this.startOn+1e3*this.options.duration,this.fromToDelta=this.options.to-this.options.from,this.totalTime=this.finishOn-this.startOn,this.totalFrames=this.options.fps*this.options.duration,eval('this.render = function(pos){ if(this.state=="idle"){this.state="running";'+codeForEvent(options,"beforeSetup")+(this.setup?"this.setup();":"")+codeForEvent(options,"afterSetup")+'};if(this.state=="running"){'+"pos=this.options.transition(pos)*"+this.fromToDelta+"+"+this.options.from+";"+"this.position=pos;"+codeForEvent(options,"beforeUpdate")+(this.update?"this.update(pos);":"")+codeForEvent(options,"afterUpdate")+"}}"),this.event("beforeStart"),this.options.sync||Effect.Queues.get("string"==typeof this.options.queue?"global":this.options.queue.scope).add(this)},loop:function(e){if(e>=this.startOn){if(e>=this.finishOn)return this.render(1),this.cancel(),this.event("beforeFinish"),this.finish&&this.finish(),this.event("afterFinish"),void 0;var t=(e-this.startOn)/this.totalTime,n=Math.round(t*this.totalFrames);n>this.currentFrame&&(this.render(t),this.currentFrame=n)}},cancel:function(){this.options.sync||Effect.Queues.get("string"==typeof this.options.queue?"global":this.options.queue.scope).remove(this),this.state="finished"},event:function(e){this.options[e+"Internal"]&&this.options[e+"Internal"](this),this.options[e]&&this.options[e](this)},inspect:function(){var e=$H();for(property in this)"function"!=typeof this[property]&&(e[property]=this[property]);return"#<Effect:"+e.inspect()+",options:"+$H(this.options).inspect()+">"}},Effect.Parallel=Class.create(),Object.extend(Object.extend(Effect.Parallel.prototype,Effect.Base.prototype),{initialize:function(e){this.effects=e||[],this.start(arguments[1])},update:function(e){this.effects.invoke("render",e)},finish:function(e){this.effects.each(function(t){t.render(1),t.cancel(),t.event("beforeFinish"),t.finish&&t.finish(e),t.event("afterFinish")})}}),Effect.Event=Class.create(),Object.extend(Object.extend(Effect.Event.prototype,Effect.Base.prototype),{initialize:function(){var e=Object.extend({duration:0},arguments[0]||{});this.start(e)},update:Prototype.emptyFunction}),Effect.Opacity=Class.create(),Object.extend(Object.extend(Effect.Opacity.prototype,Effect.Base.prototype),{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;Prototype.Browser.IE&&!this.element.currentStyle.hasLayout&&this.element.setStyle({zoom:1});var t=Object.extend({from:this.element.getOpacity()||0,to:1},arguments[1]||{});this.start(t)},update:function(e){this.element.setOpacity(e)}}),Effect.Move=Class.create(),Object.extend(Object.extend(Effect.Move.prototype,Effect.Base.prototype),{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var t=Object.extend({x:0,y:0,mode:"relative"},arguments[1]||{});this.start(t)},setup:function(){this.element.makePositioned(),this.originalLeft=parseFloat(this.element.getStyle("left")||"0"),this.originalTop=parseFloat(this.element.getStyle("top")||"0"),"absolute"==this.options.mode&&(this.options.x=this.options.x-this.originalLeft,this.options.y=this.options.y-this.originalTop)},update:function(e){this.element.setStyle({left:Math.round(this.options.x*e+this.originalLeft)+"px",top:Math.round(this.options.y*e+this.originalTop)+"px"})}}),Effect.MoveBy=function(e,t,n){return new Effect.Move(e,Object.extend({x:n,y:t},arguments[3]||{}))},Effect.Scale=Class.create(),Object.extend(Object.extend(Effect.Scale.prototype,Effect.Base.prototype),{initialize:function(e,t){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var n=Object.extend({scaleX:!0,scaleY:!0,scaleContent:!0,scaleFromCenter:!1,scaleMode:"box",scaleFrom:100,scaleTo:t},arguments[2]||{});this.start(n)},setup:function(){this.restoreAfterFinish=this.options.restoreAfterFinish||!1,this.elementPositioning=this.element.getStyle("position"),this.originalStyle={},["top","left","width","height","fontSize"].each(function(e){this.originalStyle[e]=this.element.style[e]}.bind(this)),this.originalTop=this.element.offsetTop,this.originalLeft=this.element.offsetLeft;var e=this.element.getStyle("font-size")||"100%";["em","px","%","pt"].each(function(t){e.indexOf(t)>0&&(this.fontSize=parseFloat(e),this.fontSizeType=t)}.bind(this)),this.factor=(this.options.scaleTo-this.options.scaleFrom)/100,this.dims=null,"box"==this.options.scaleMode&&(this.dims=[this.element.offsetHeight,this.element.offsetWidth]),/^content/.test(this.options.scaleMode)&&(this.dims=[this.element.scrollHeight,this.element.scrollWidth]),this.dims||(this.dims=[this.options.scaleMode.originalHeight,this.options.scaleMode.originalWidth])},update:function(e){var t=this.options.scaleFrom/100+this.factor*e;this.options.scaleContent&&this.fontSize&&this.element.setStyle({fontSize:this.fontSize*t+this.fontSizeType}),this.setDimensions(this.dims[0]*t,this.dims[1]*t)},finish:function(){this.restoreAfterFinish&&this.element.setStyle(this.originalStyle)},setDimensions:function(e,t){var n={};if(this.options.scaleX&&(n.width=Math.round(t)+"px"),this.options.scaleY&&(n.height=Math.round(e)+"px"),this.options.scaleFromCenter){var i=(e-this.dims[0])/2,r=(t-this.dims[1])/2;"absolute"==this.elementPositioning?(this.options.scaleY&&(n.top=this.originalTop-i+"px"),this.options.scaleX&&(n.left=this.originalLeft-r+"px")):(this.options.scaleY&&(n.top=-i+"px"),this.options.scaleX&&(n.left=-r+"px"))}this.element.setStyle(n)}}),Effect.Highlight=Class.create(),Object.extend(Object.extend(Effect.Highlight.prototype,Effect.Base.prototype),{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var t=Object.extend({startcolor:"#ffff99"},arguments[1]||{});this.start(t)},setup:function(){return"none"==this.element.getStyle("display")?(this.cancel(),void 0):(this.oldStyle={},this.options.keepBackgroundImage||(this.oldStyle.backgroundImage=this.element.getStyle("background-image"),this.element.setStyle({backgroundImage:"none"})),this.options.endcolor||(this.options.endcolor=this.element.getStyle("background-color").parseColor("#ffffff")),this.options.restorecolor||(this.options.restorecolor=this.element.getStyle("background-color")),this._base=$R(0,2).map(function(e){return parseInt(this.options.startcolor.slice(2*e+1,2*e+3),16)}.bind(this)),this._delta=$R(0,2).map(function(e){return parseInt(this.options.endcolor.slice(2*e+1,2*e+3),16)-this._base[e]}.bind(this)),void 0)},update:function(e){this.element.setStyle({backgroundColor:$R(0,2).inject("#",function(t,n,i){return t+Math.round(this._base[i]+this._delta[i]*e).toColorPart()}.bind(this))})},finish:function(){this.element.setStyle(Object.extend(this.oldStyle,{backgroundColor:this.options.restorecolor}))}}),Effect.ScrollTo=Class.create(),Object.extend(Object.extend(Effect.ScrollTo.prototype,Effect.Base.prototype),{initialize:function(e){this.element=$(e),this.start(arguments[1]||{})},setup:function(){Position.prepare();var e=Position.cumulativeOffset(this.element);this.options.offset&&(e[1]+=this.options.offset);var t=window.innerHeight?window.height-window.innerHeight:document.body.scrollHeight-(document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight);this.scrollStart=Position.deltaY,this.delta=(e[1]>t?t:e[1])-this.scrollStart},update:function(e){Position.prepare(),window.scrollTo(Position.deltaX,this.scrollStart+e*this.delta)}}),Effect.Fade=function(e){e=$(e);var t=e.getInlineOpacity(),n=Object.extend({from:e.getOpacity()||1,to:0,afterFinishInternal:function(e){0==e.options.to&&e.element.hide().setStyle({opacity:t})}},arguments[1]||{});return new Effect.Opacity(e,n)},Effect.Appear=function(e){e=$(e);var t=Object.extend({from:"none"==e.getStyle("display")?0:e.getOpacity()||0,to:1,afterFinishInternal:function(e){e.element.forceRerendering()},beforeSetup:function(e){e.element.setOpacity(e.options.from).show()}},arguments[1]||{});return new Effect.Opacity(e,t)},Effect.Puff=function(e){e=$(e);var t={opacity:e.getInlineOpacity(),position:e.getStyle("position"),top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height};return new Effect.Parallel([new Effect.Scale(e,200,{sync:!0,scaleFromCenter:!0,scaleContent:!0,restoreAfterFinish:!0}),new Effect.Opacity(e,{sync:!0,to:0})],Object.extend({duration:1,beforeSetupInternal:function(e){Position.absolutize(e.effects[0].element)},afterFinishInternal:function(e){e.effects[0].element.hide().setStyle(t)}},arguments[1]||{}))},Effect.BlindUp=function(e){return e=$(e),e.makeClipping(),new Effect.Scale(e,0,Object.extend({scaleContent:!1,scaleX:!1,restoreAfterFinish:!0,afterFinishInternal:function(e){e.element.hide().undoClipping()}},arguments[1]||{}))},Effect.BlindDown=function(e){e=$(e);var t=e.getDimensions();return new Effect.Scale(e,100,Object.extend({scaleContent:!1,scaleX:!1,scaleFrom:0,scaleMode:{originalHeight:t.height,originalWidth:t.width},restoreAfterFinish:!0,afterSetup:function(e){e.element.makeClipping().setStyle({height:"0px"}).show()},afterFinishInternal:function(e){e.element.undoClipping()}},arguments[1]||{}))},Effect.SwitchOff=function(e){e=$(e);var t=e.getInlineOpacity();return new Effect.Appear(e,Object.extend({duration:.4,from:0,transition:Effect.Transitions.flicker,afterFinishInternal:function(e){new Effect.Scale(e.element,1,{duration:.3,scaleFromCenter:!0,scaleX:!1,scaleContent:!1,restoreAfterFinish:!0,beforeSetup:function(e){e.element.makePositioned().makeClipping()},afterFinishInternal:function(e){e.element.hide().undoClipping().undoPositioned().setStyle({opacity:t})}})}},arguments[1]||{}))},Effect.DropOut=function(e){e=$(e);var t={top:e.getStyle("top"),left:e.getStyle("left"),opacity:e.getInlineOpacity()};return new Effect.Parallel([new Effect.Move(e,{x:0,y:100,sync:!0}),new Effect.Opacity(e,{sync:!0,to:0})],Object.extend({duration:.5,beforeSetup:function(e){e.effects[0].element.makePositioned()},afterFinishInternal:function(e){e.effects[0].element.hide().undoPositioned().setStyle(t)}},arguments[1]||{}))},Effect.Shake=function(e){e=$(e);var t={top:e.getStyle("top"),left:e.getStyle("left")};return new Effect.Move(e,{x:20,y:0,duration:.05,afterFinishInternal:function(e){new Effect.Move(e.element,{x:-40,y:0,duration:.1,afterFinishInternal:function(e){new Effect.Move(e.element,{x:40,y:0,duration:.1,afterFinishInternal:function(e){new Effect.Move(e.element,{x:-40,y:0,duration:.1,afterFinishInternal:function(e){new Effect.Move(e.element,{x:40,y:0,duration:.1,afterFinishInternal:function(e){new Effect.Move(e.element,{x:-20,y:0,duration:.05,afterFinishInternal:function(e){e.element.undoPositioned().setStyle(t)}})}})}})}})}})}})},Effect.SlideDown=function(e){e=$(e).cleanWhitespace();var t=e.down().getStyle("bottom"),n=e.getDimensions();return new Effect.Scale(e,100,Object.extend({scaleContent:!1,scaleX:!1,scaleFrom:window.opera?0:1,scaleMode:{originalHeight:n.height,originalWidth:n.width},restoreAfterFinish:!0,afterSetup:function(e){e.element.makePositioned(),e.element.down().makePositioned(),window.opera&&e.element.setStyle({top:""}),e.element.makeClipping().setStyle({height:"0px"}).show()},afterUpdateInternal:function(e){e.element.down().setStyle({bottom:e.dims[0]-e.element.clientHeight+"px"})},afterFinishInternal:function(e){e.element.undoClipping().undoPositioned(),e.element.down().undoPositioned().setStyle({bottom:t})}},arguments[1]||{}))},Effect.SlideUp=function(e){e=$(e).cleanWhitespace();var t=e.down().getStyle("bottom");return new Effect.Scale(e,window.opera?0:1,Object.extend({scaleContent:!1,scaleX:!1,scaleMode:"box",scaleFrom:100,restoreAfterFinish:!0,beforeStartInternal:function(e){e.element.makePositioned(),e.element.down().makePositioned(),window.opera&&e.element.setStyle({top:""}),e.element.makeClipping().show()},afterUpdateInternal:function(e){e.element.down().setStyle({bottom:e.dims[0]-e.element.clientHeight+"px"})},afterFinishInternal:function(e){e.element.hide().undoClipping().undoPositioned().setStyle({bottom:t}),e.element.down().undoPositioned()}},arguments[1]||{}))},Effect.Squish=function(e){return new Effect.Scale(e,window.opera?1:0,{restoreAfterFinish:!0,beforeSetup:function(e){e.element.makeClipping()},afterFinishInternal:function(e){e.element.hide().undoClipping()}})},Effect.Grow=function(e){e=$(e);var t,n,i,r,o=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.full},arguments[1]||{}),s={top:e.style.top,left:e.style.left,height:e.style.height,width:e.style.width,opacity:e.getInlineOpacity()},a=e.getDimensions();switch(o.direction){case"top-left":t=n=i=r=0;break;case"top-right":t=a.width,n=r=0,i=-a.width;break;case"bottom-left":t=i=0,n=a.height,r=-a.height;break;case"bottom-right":t=a.width,n=a.height,i=-a.width,r=-a.height;break;case"center":t=a.width/2,n=a.height/2,i=-a.width/2,r=-a.height/2}return new Effect.Move(e,{x:t,y:n,duration:.01,beforeSetup:function(e){e.element.hide().makeClipping().makePositioned()},afterFinishInternal:function(e){new Effect.Parallel([new Effect.Opacity(e.element,{sync:!0,to:1,from:0,transition:o.opacityTransition}),new Effect.Move(e.element,{x:i,y:r,sync:!0,transition:o.moveTransition}),new Effect.Scale(e.element,100,{scaleMode:{originalHeight:a.height,originalWidth:a.width},sync:!0,scaleFrom:window.opera?1:0,transition:o.scaleTransition,restoreAfterFinish:!0})],Object.extend({beforeSetup:function(e){e.effects[0].element.setStyle({height:"0px"}).show()},afterFinishInternal:function(e){e.effects[0].element.undoClipping().undoPositioned().setStyle(s)}},o))}})},Effect.Shrink=function(e){e=$(e);var t,n,i=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.none},arguments[1]||{}),r={top:e.style.top,left:e.style.left,height:e.style.height,width:e.style.width,opacity:e.getInlineOpacity()},o=e.getDimensions();switch(i.direction){case"top-left":t=n=0;break;case"top-right":t=o.width,n=0;break;case"bottom-left":t=0,n=o.height;break;case"bottom-right":t=o.width,n=o.height;break;case"center":t=o.width/2,n=o.height/2}return new Effect.Parallel([new Effect.Opacity(e,{sync:!0,to:0,from:1,transition:i.opacityTransition}),new Effect.Scale(e,window.opera?1:0,{sync:!0,transition:i.scaleTransition,restoreAfterFinish:!0}),new Effect.Move(e,{x:t,y:n,sync:!0,transition:i.moveTransition})],Object.extend({beforeStartInternal:function(e){e.effects[0].element.makePositioned().makeClipping()},afterFinishInternal:function(e){e.effects[0].element.hide().undoClipping().undoPositioned().setStyle(r)}},i))},Effect.Pulsate=function(e){e=$(e);var t=arguments[1]||{},n=e.getInlineOpacity(),i=t.transition||Effect.Transitions.sinoidal,r=function(e){return i(1-Effect.Transitions.pulse(e,t.pulses))};return r.bind(i),new Effect.Opacity(e,Object.extend(Object.extend({duration:2,from:0,afterFinishInternal:function(e){e.element.setStyle({opacity:n})}},t),{transition:r}))},Effect.Fold=function(e){e=$(e);var t={top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height};return e.makeClipping(),new Effect.Scale(e,5,Object.extend({scaleContent:!1,scaleX:!1,afterFinishInternal:function(){new Effect.Scale(e,1,{scaleContent:!1,scaleY:!1,afterFinishInternal:function(e){e.element.hide().undoClipping().setStyle(t)}})}},arguments[1]||{}))},Effect.Morph=Class.create(),Object.extend(Object.extend(Effect.Morph.prototype,Effect.Base.prototype),{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var t=Object.extend({style:{}},arguments[1]||{});if("string"==typeof t.style)if(-1==t.style.indexOf(":")){var n="",i="."+t.style;$A(document.styleSheets).reverse().each(function(e){if(e.cssRules?cssRules=e.cssRules:e.rules&&(cssRules=e.rules),$A(cssRules).reverse().each(function(e){if(i==e.selectorText)throw n=e.style.cssText,$break}),n)throw $break}),this.style=n.parseStyle(),t.afterFinishInternal=function(e){e.element.addClassName(e.options.style),e.transforms.each(function(t){"opacity"!=t.style&&(e.element.style[t.style]="")})}}else this.style=t.style.parseStyle();else this.style=$H(t.style);this.start(t)},setup:function(){function e(e){return(!e||["rgba(0, 0, 0, 0)","transparent"].include(e))&&(e="#ffffff"),e=e.parseColor(),$R(0,2).map(function(t){return parseInt(e.slice(2*t+1,2*t+3),16)})}this.transforms=this.style.map(function(t){var n=t[0],i=t[1],r=null;if("#zzzzzz"!=i.parseColor("#zzzzzz"))i=i.parseColor(),r="color";else if("opacity"==n)i=parseFloat(i),Prototype.Browser.IE&&!this.element.currentStyle.hasLayout&&this.element.setStyle({zoom:1});else if(Element.CSS_LENGTH.test(i)){var o=i.match(/^([\+\-]?[0-9\.]+)(.*)$/);i=parseFloat(o[1]),r=3==o.length?o[2]:null}var s=this.element.getStyle(n);return{style:n.camelize(),originalValue:"color"==r?e(s):parseFloat(s||0),targetValue:"color"==r?e(i):i,unit:r}}.bind(this)).reject(function(e){return e.originalValue==e.targetValue||"color"!=e.unit&&(isNaN(e.originalValue)||isNaN(e.targetValue))})},update:function(e){for(var t,n={},i=this.transforms.length;i--;)n[(t=this.transforms[i]).style]="color"==t.unit?"#"+Math.round(t.originalValue[0]+(t.targetValue[0]-t.originalValue[0])*e).toColorPart()+Math.round(t.originalValue[1]+(t.targetValue[1]-t.originalValue[1])*e).toColorPart()+Math.round(t.originalValue[2]+(t.targetValue[2]-t.originalValue[2])*e).toColorPart():t.originalValue+Math.round(1e3*(t.targetValue-t.originalValue)*e)/1e3+t.unit;this.element.setStyle(n,!0)}}),Effect.Transform=Class.create(),Object.extend(Effect.Transform.prototype,{initialize:function(e){this.tracks=[],this.options=arguments[1]||{},this.addTracks(e)},addTracks:function(e){return e.each(function(e){var t=$H(e).values().first();this.tracks.push($H({ids:$H(e).keys().first(),effect:Effect.Morph,options:{style:t}}))}.bind(this)),this},play:function(){return new Effect.Parallel(this.tracks.map(function(e){var t=[$(e.ids)||$$(e.ids)].flatten();return t.map(function(t){return new e.effect(t,Object.extend({sync:!0},e.options))})}).flatten(),this.options)}}),Element.CSS_PROPERTIES=$w("backgroundColor backgroundPosition borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderSpacing borderTopColor borderTopStyle borderTopWidth bottom clip color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop markerOffset maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex"),Element.CSS_LENGTH=/^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/,String.prototype.parseStyle=function(){var e=document.createElement("div");e.innerHTML='<div style="'+this+'"></div>';var t=e.childNodes[0].style,n=$H();return Element.CSS_PROPERTIES.each(function(e){t[e]&&(n[e]=t[e])}),Prototype.Browser.IE&&this.indexOf("opacity")>-1&&(n.opacity=this.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1]),n},Element.morph=function(e,t){return new Effect.Morph(e,Object.extend({style:t},arguments[2]||{})),e},["getInlineOpacity","forceRerendering","setContentZoom","collectTextNodes","collectTextNodesIgnoreClass","morph"].each(function(e){Element.Methods[e]=Element[e]}),Element.Methods.visualEffect=function(e,t,n){return s=t.dasherize().camelize(),effect_class=s.charAt(0).toUpperCase()+s.substring(1),new Effect[effect_class](e,n),$(e)},Element.addMethods(),$.fn.betterTooltip=function(e){var t={speed:200,delay:300},e=$.extend(t,e);getTip=function(){var e="<div class='tip'><div class='tipMid'></div><div class='tipBtm'></div></div>";return e},$("body").prepend(getTip()),$(this).each(function(){var e=$(this),n=$(".tip"),i=$(".tip .tipMid"),r=this.title;this.title="";var o=$(this).offset(),s=o.left,a=o.top;e.width(),e.height(),e.hover(function(){i.html(r),setTip(a,s),setTimer()},function(){stopTimer(),n.hide()}),setTimer=function(){e.showTipTimer=setInterval("showTip()",t.delay)},stopTimer=function(){clearInterval(e.showTipTimer)},setTip=function(e,t){var i=n.height(),r=t-30+"px",o=e-i-60+"px";n.css({top:o,left:r})},showTip=function(){stopTimer(),n.animate({top:"+=20px",opacity:"toggle"},t.speed)}})},/*
 * jquery.tools 1.1.2 - The missing UI library for the Web
 * 
 * [tools.tabs-1.0.4, tools.tabs.slideshow-1.0.2, tools.tabs.history-1.0.2, tools.tooltip-1.1.3, tools.tooltip.slide-1.0.0, tools.tooltip.dynamic-1.0.1, tools.scrollable-1.1.2, tools.scrollable.circular-0.5.1, tools.scrollable.autoscroll-1.0.1, tools.scrollable.navigator-1.0.2, tools.scrollable.mousewheel-1.0.1, tools.overlay-1.1.2, tools.overlay.gallery-1.0.0, tools.overlay.apple-1.0.1, tools.expose-1.0.5]
 * 
 * Copyright (c) 2009 Tero Piirainen
 * http://flowplayer.org/tools/
 *
 * Dual licensed under MIT and GPL 2+ licenses
 * http://www.opensource.org/licenses
 * 
 * -----
 * 
 * Flowplayer 3.1.4 - Flash Video Player for the Web
 * 
 * [flowplayer.core-3.1.4, flowplayer.controls-3.0.2, flowplayer.playlist-3.0.7, flowplayer.embed-3.0.2]
 * 
 * Copyright (c) 2009 Flowplayer Ltd
 * Licensed under GPL 3+ license
 * http://flowplayer.org/download/license_gpl.html
 * 
 * -----
 * 
 * jQuery JavaScript Library v1.3.2
 * http://jquery.com/
 *
 * Copyright (c) 2009 John Resig
 * Dual licensed under the MIT and GPL licenses.
 * http://docs.jquery.com/License
 *
 * Sizzle CSS Selector Engine - v0.9.3
 * Copyright 2009, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 * More information: http://sizzlejs.com/
 * 
 * -----
 * 
 * jquery.event.wheel.js - rev 1 
 * Copyright (c) 2008, Three Dub Media (http://threedubmedia.com)
 * Liscensed under the MIT License (MIT-LICENSE.txt)
 * http://www.opensource.org/licenses/mit-license.php
 * Created: 2008-07-01 | Updated: 2008-07-14
 * 
 * -----
 * 
 * File generated: Fri Feb 05 21:38:55 GMT 2010
 */
function(){function e(e,t){t.src?f.ajax({url:t.src,async:!1,dataType:"script"}):f.globalEval(t.text||t.textContent||t.innerHTML||""),t.parentNode&&t.parentNode.removeChild(t)}function t(){return+new Date}function n(e,t){return e[0]&&parseInt(f.curCSS(e[0],t,!0),10)||0}function i(){return!1}function r(){return!0}function o(e){var t=RegExp("(^|\\.)"+e.type+"(\\.|$)"),n=!0,i=[];return f.each(f.data(this,"events").live||[],function(n,r){if(t.test(r.type)){var o=f(e.target).closest(r.data)[0];o&&i.push({elem:o,fn:r})}}),i.sort(function(e,t){return f.data(e.elem,"closest")-f.data(t.elem,"closest")}),f.each(i,function(){return this.fn.call(this.elem,e,this.fn.data)===!1?n=!1:void 0}),n}function s(e,t){return["live",e,t.replace(/\./g,"`").replace(/ /g,"|")].join(".")}function a(){S||(S=!0,document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),f.ready()},!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),f.ready())}),document.documentElement.doScroll&&u==u.top&&function(){if(!f.isReady){try{document.documentElement.doScroll("left")}catch(e){return setTimeout(arguments.callee,0),void 0}f.ready()}}()),f.event.add(u,"load",f.ready))}function l(e,t){var n={};return f.each(O.concat.apply([],O.slice(0,t)),function(){n[this]=e}),n}var c,u=this,d=u.jQuery,h=u.$,f=u.jQuery=u.$=function(e,t){return new f.fn.init(e,t)},p=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,m=/^.[^:#\[\.,]*$/;f.fn=f.prototype={init:function(e,t){if(e=e||document,e.nodeType)return this[0]=e,this.length=1,this.context=e,this;if("string"==typeof e){var n=p.exec(e);if(!n||!n[1]&&t)return f(t).find(e);if(!n[1]){var i=document.getElementById(n[3]);if(i&&i.id!=n[3])return f().find(e);var r=f(i||[]);return r.context=document,r.selector=e,r}e=f.clean([n[1]],t)}else if(f.isFunction(e))return f(document).ready(e);return e.selector&&e.context&&(this.selector=e.selector,this.context=e.context),this.setArray(f.isArray(e)?e:f.makeArray(e))},selector:"",jquery:"1.3.2",size:function(){return this.length},get:function(e){return e===c?Array.prototype.slice.call(this):this[e]},pushStack:function(e,t,n){var i=f(e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},setArray:function(e){return this.length=0,Array.prototype.push.apply(this,e),this},each:function(e,t){return f.each(this,e,t)},index:function(e){return f.inArray(e&&e.jquery?e[0]:e,this)},attr:function(e,t,n){var i=e;if("string"==typeof e){if(t===c)return this[0]&&f[n||"attr"](this[0],e);i={},i[e]=t}return this.each(function(t){for(e in i)f.attr(n?this.style:this,e,f.prop(this,i[e],n,t,e))})},css:function(e,t){return("width"==e||"height"==e)&&parseFloat(t)<0&&(t=c),this.attr(e,t,"curCSS")},text:function(e){if("object"!=typeof e&&null!=e)return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(e));var t="";return f.each(e||this,function(){f.each(this.childNodes,function(){8!=this.nodeType&&(t+=1!=this.nodeType?this.nodeValue:f.fn.text([this]))})}),t},wrapAll:function(e){if(this[0]){var t=f(e,this[0].ownerDocument).clone();this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(function(){f(this).contents().wrapAll(e)})},wrap:function(e){return this.each(function(){f(this).wrapAll(e)})},append:function(){return this.domManip(arguments,!0,function(e){1==this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1==this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)})},end:function(){return this.prevObject||f([])},push:[].push,sort:[].sort,splice:[].splice,find:function(e){if(1===this.length){var t=this.pushStack([],"find",e);return t.length=0,f.find(e,this[0],t),t}return this.pushStack(f.unique(f.map(this,function(t){return f.find(e,t)})),"find",e)},clone:function(e){var t=this.map(function(){if(f.support.noCloneEvent||f.isXMLDoc(this))return this.cloneNode(!0);var e=this.outerHTML;if(!e){var t=this.ownerDocument.createElement("div");t.appendChild(this.cloneNode(!0)),e=t.innerHTML}return f.clean([e.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/^\s*/,"")])[0]});if(e===!0){var n=this.find("*").andSelf(),i=0;t.find("*").andSelf().each(function(){if(this.nodeName===n[i].nodeName){var e=f.data(n[i],"events");for(var t in e)for(var r in e[t])f.event.add(this,t,e[t][r],e[t][r].data);i++}})}return t},filter:function(e){return this.pushStack(f.isFunction(e)&&f.grep(this,function(t,n){return e.call(t,n)})||f.multiFilter(e,f.grep(this,function(e){return 1===e.nodeType})),"filter",e)},closest:function(e){var t=f.expr.match.POS.test(e)?f(e):null,n=0;return this.map(function(){for(var i=this;i&&i.ownerDocument;){if(t?t.index(i)>-1:f(i).is(e))return f.data(i,"closest",n),i;i=i.parentNode,n++}})},not:function(e){if("string"==typeof e){if(m.test(e))return this.pushStack(f.multiFilter(e,this,!0),"not",e);e=f.multiFilter(e,this)}var t=e.length&&e[e.length-1]!==c&&!e.nodeType;return this.filter(function(){return t?f.inArray(this,e)<0:this!=e})},add:function(e){return this.pushStack(f.unique(f.merge(this.get(),"string"==typeof e?f(e):f.makeArray(e))))},is:function(e){return!!e&&f.multiFilter(e,this).length>0},hasClass:function(e){return!!e&&this.is("."+e)},val:function(e){if(e===c){var t=this[0];if(t){if(f.nodeName(t,"option"))return(t.attributes.value||{}).specified?t.value:t.text;if(f.nodeName(t,"select")){var n=t.selectedIndex,i=[],r=t.options,o="select-one"==t.type;if(0>n)return null;for(var s=o?n:0,a=o?n+1:r.length;a>s;s++){var l=r[s];if(l.selected){if(e=f(l).val(),o)return e;i.push(e)}}return i}return(t.value||"").replace(/\r/g,"")}return c}return"number"==typeof e&&(e+=""),this.each(function(){if(1==this.nodeType)if(f.isArray(e)&&/radio|checkbox/.test(this.type))this.checked=f.inArray(this.value,e)>=0||f.inArray(this.name,e)>=0;else if(f.nodeName(this,"select")){var t=f.makeArray(e);f("option",this).each(function(){this.selected=f.inArray(this.value,t)>=0||f.inArray(this.text,t)>=0}),t.length||(this.selectedIndex=-1)}else this.value=e})},html:function(e){return e===c?this[0]?this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,""):null:this.empty().append(e)},replaceWith:function(e){return this.after(e).remove()},eq:function(e){return this.slice(e,+e+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(e){return this.pushStack(f.map(this,function(t,n){return e.call(t,n,t)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(t,n,i){function r(e,t){return n&&f.nodeName(e,"table")&&f.nodeName(t,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}if(this[0]){var o=(this[0].ownerDocument||this[0]).createDocumentFragment(),s=f.clean(t,this[0].ownerDocument||this[0],o),a=o.firstChild;if(a)for(var l=0,c=this.length;c>l;l++)i.call(r(this[l],a),this.length>1||l>0?o.cloneNode(!0):o);s&&f.each(s,e)}return this}},f.fn.init.prototype=f.fn,f.extend=f.fn.extend=function(){var e,t=arguments[0]||{},n=1,i=arguments.length,r=!1;for("boolean"==typeof t&&(r=t,t=arguments[1]||{},n=2),"object"==typeof t||f.isFunction(t)||(t={}),i==n&&(t=this,--n);i>n;n++)if(null!=(e=arguments[n]))for(var o in e){var s=t[o],a=e[o];t!==a&&(r&&a&&"object"==typeof a&&!a.nodeType?t[o]=f.extend(r,s||(null!=a.length?[]:{}),a):a!==c&&(t[o]=a))}return t};var g=/z-?index|font-?weight|opacity|zoom|line-?height/i,v=document.defaultView||{},y=Object.prototype.toString;f.extend({noConflict:function(e){return u.$=h,e&&(u.jQuery=d),f},isFunction:function(e){return"[object Function]"===y.call(e)},isArray:function(e){return"[object Array]"===y.call(e)},isXMLDoc:function(e){return 9===e.nodeType&&"HTML"!==e.documentElement.nodeName||!!e.ownerDocument&&f.isXMLDoc(e.ownerDocument)},globalEval:function(e){if(e&&/\S/.test(e)){var t=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");n.type="text/javascript",f.support.scriptEval?n.appendChild(document.createTextNode(e)):n.text=e,t.insertBefore(n,t.firstChild),t.removeChild(n)}},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()==t.toUpperCase()},each:function(e,t,n){var i,r=0,o=e.length;if(n)if(o===c){for(i in e)if(t.apply(e[i],n)===!1)break}else for(;o>r&&t.apply(e[r++],n)!==!1;);else if(o===c){for(i in e)if(t.call(e[i],i,e[i])===!1)break}else for(var s=e[0];o>r&&t.call(s,r,s)!==!1;s=e[++r]);return e},prop:function(e,t,n,i,r){return f.isFunction(t)&&(t=t.call(e,i)),"number"!=typeof t||"curCSS"!=n||g.test(r)?t:t+"px"},className:{add:function(e,t){f.each((t||"").split(/\s+/),function(t,n){1!=e.nodeType||f.className.has(e.className,n)||(e.className+=(e.className?" ":"")+n)})},remove:function(e,t){1==e.nodeType&&(e.className=t!==c?f.grep(e.className.split(/\s+/),function(e){return!f.className.has(t,e)}).join(" "):"")},has:function(e,t){return e&&f.inArray(t,(e.className||e).toString().split(/\s+/))>-1}},swap:function(e,t,n){var i={};for(var r in t)i[r]=e.style[r],e.style[r]=t[r];n.call(e);for(var r in t)e.style[r]=i[r]},css:function(e,t,n,i){function r(){o="width"==t?e.offsetWidth:e.offsetHeight,"border"!==i&&f.each(a,function(){i||(o-=parseFloat(f.curCSS(e,"padding"+this,!0))||0),"margin"===i?o+=parseFloat(f.curCSS(e,"margin"+this,!0))||0:o-=parseFloat(f.curCSS(e,"border"+this+"Width",!0))||0})}if("width"==t||"height"==t){var o,s={position:"absolute",visibility:"hidden",display:"block"},a="width"==t?["Left","Right"]:["Top","Bottom"];return 0!==e.offsetWidth?r():f.swap(e,s,r),Math.max(0,Math.round(o))}return f.curCSS(e,t,n)},curCSS:function(e,t,n){var i,r=e.style;if("opacity"==t&&!f.support.opacity)return i=f.attr(r,"opacity"),""==i?"1":i;if(t.match(/float/i)&&(t=_),!n&&r&&r[t])i=r[t];else if(v.getComputedStyle){t.match(/float/i)&&(t="float"),t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var o=v.getComputedStyle(e,null);o&&(i=o.getPropertyValue(t)),"opacity"==t&&""==i&&(i="1")}else if(e.currentStyle){var s=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()});if(i=e.currentStyle[t]||e.currentStyle[s],!/^\d+(px)?$/i.test(i)&&/^\d/.test(i)){var a=r.left,l=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left=i||0,i=r.pixelLeft+"px",r.left=a,e.runtimeStyle.left=l}}return i},clean:function(e,t,n){if(t=t||document,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||document),!n&&1===e.length&&"string"==typeof e[0]){var i=/^<(\w+)\s*\/?>$/.exec(e[0]);if(i)return[t.createElement(i[1])]}var r=[],o=[],s=t.createElement("div");if(f.each(e,function(e,n){if("number"==typeof n&&(n+=""),n){if("string"==typeof n){n=n.replace(/(<(\w+)[^>]*?)\/>/g,function(e,t,n){return n.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?e:t+"></"+n+">"});var i=n.replace(/^\s+/,"").substring(0,10).toLowerCase(),o=!i.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!i.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||i.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!i.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!i.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!f.support.htmlSerialize&&[1,"div<div>","</div>"]||[0,"",""];for(s.innerHTML=o[1]+n+o[2];o[0]--;)s=s.lastChild;if(!f.support.tbody)for(var a=/<tbody/i.test(n),l=i.indexOf("<table")||a?"<table>"!=o[1]||a?[]:s.childNodes:s.firstChild&&s.firstChild.childNodes,c=l.length-1;c>=0;--c)f.nodeName(l[c],"tbody")&&!l[c].childNodes.length&&l[c].parentNode.removeChild(l[c]);!f.support.leadingWhitespace&&/^\s/.test(n)&&s.insertBefore(t.createTextNode(n.match(/^\s*/)[0]),s.firstChild),n=f.makeArray(s.childNodes)}n.nodeType?r.push(n):r=f.merge(r,n)}}),n){for(var a=0;r[a];a++)!f.nodeName(r[a],"script")||r[a].type&&"text/javascript"!==r[a].type.toLowerCase()?(1===r[a].nodeType&&r.splice.apply(r,[a+1,0].concat(f.makeArray(r[a].getElementsByTagName("script")))),n.appendChild(r[a])):o.push(r[a].parentNode?r[a].parentNode.removeChild(r[a]):r[a]);return o}return r},attr:function(e,t,n){if(!e||3==e.nodeType||8==e.nodeType)return c;var i=!f.isXMLDoc(e),r=n!==c;if(t=i&&f.props[t]||t,e.tagName){var o=/href|src|style/.test(t);if("selected"==t&&e.parentNode&&e.parentNode.selectedIndex,t in e&&i&&!o){if(r){if("type"==t&&f.nodeName(e,"input")&&e.parentNode)throw"type property can't be changed";e[t]=n}if(f.nodeName(e,"form")&&e.getAttributeNode(t))return e.getAttributeNode(t).nodeValue;if("tabIndex"==t){var s=e.getAttributeNode("tabIndex");return s&&s.specified?s.value:e.nodeName.match(/(button|input|object|select|textarea)/i)?0:e.nodeName.match(/^(a|area)$/i)&&e.href?0:c}return e[t]}if(!f.support.style&&i&&"style"==t)return f.attr(e.style,"cssText",n);r&&e.setAttribute(t,""+n);var a=!f.support.hrefNormalized&&i&&o?e.getAttribute(t,2):e.getAttribute(t);return null===a?c:a}return f.support.opacity||"opacity"!=t?(t=t.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}),r&&(e[t]=n),e[t]):(r&&(e.zoom=1,e.filter=(e.filter||"").replace(/alpha\([^)]*\)/,"")+("NaN"==parseInt(n)+""?"":"alpha(opacity="+100*n+")")),e.filter&&e.filter.indexOf("opacity=")>=0?parseFloat(e.filter.match(/opacity=([^)]*)/)[1])/100+"":"")},trim:function(e){return(e||"").replace(/^\s+|\s+$/g,"")},makeArray:function(e){var t=[];if(null!=e){var n=e.length;if(null==n||"string"==typeof e||f.isFunction(e)||e.setInterval)t[0]=e;else for(;n;)t[--n]=e[n]}return t},inArray:function(e,t){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},merge:function(e,t){var n,i=0,r=e.length;if(f.support.getAll)for(;null!=(n=t[i++]);)e[r++]=n;else for(;null!=(n=t[i++]);)8!=n.nodeType&&(e[r++]=n);return e},unique:function(e){var t=[],n={};try{for(var i=0,r=e.length;r>i;i++){var o=f.data(e[i]);n[o]||(n[o]=!0,t.push(e[i]))}}catch(s){t=e}return t},grep:function(e,t,n){for(var i=[],r=0,o=e.length;o>r;r++)!n!=!t(e[r],r)&&i.push(e[r]);return i},map:function(e,t){for(var n=[],i=0,r=e.length;r>i;i++){var o=t(e[i],i);null!=o&&(n[n.length]=o)}return n.concat.apply([],n)}});var w=navigator.userAgent.toLowerCase();f.browser={version:(w.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(w),opera:/opera/.test(w),msie:/msie/.test(w)&&!/opera/.test(w),mozilla:/mozilla/.test(w)&&!/(compatible|webkit)/.test(w)},f.each({parent:function(e){return e.parentNode},parents:function(e){return f.dir(e,"parentNode")},next:function(e){return f.nth(e,2,"nextSibling")},prev:function(e){return f.nth(e,2,"previousSibling")},nextAll:function(e){return f.dir(e,"nextSibling")},prevAll:function(e){return f.dir(e,"previousSibling")},siblings:function(e){return f.sibling(e.parentNode.firstChild,e)},children:function(e){return f.sibling(e.firstChild)},contents:function(e){return f.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:f.makeArray(e.childNodes)}},function(e,t){f.fn[e]=function(n){var i=f.map(this,t);return n&&"string"==typeof n&&(i=f.multiFilter(n,i)),this.pushStack(f.unique(i),e,n)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){f.fn[e]=function(n){for(var i=[],r=f(n),o=0,s=r.length;s>o;o++){var a=(o>0?this.clone(!0):this).get();f.fn[t].apply(f(r[o]),a),i=i.concat(a)}return this.pushStack(i,e,n)}}),f.each({removeAttr:function(e){f.attr(this,e,""),1==this.nodeType&&this.removeAttribute(e)},addClass:function(e){f.className.add(this,e)},removeClass:function(e){f.className.remove(this,e)},toggleClass:function(e,t){"boolean"!=typeof t&&(t=!f.className.has(this,e)),f.className[t?"add":"remove"](this,e)},remove:function(e){(!e||f.filter(e,[this]).length)&&(f("*",this).add([this]).each(function(){f.event.remove(this),f.removeData(this)}),this.parentNode&&this.parentNode.removeChild(this))},empty:function(){for(f(this).children().remove();this.firstChild;)this.removeChild(this.firstChild)}},function(e,t){f.fn[e]=function(){return this.each(t,arguments)}});var b="jQuery"+t(),x=0,E={};f.extend({cache:{},data:function(e,t,n){e=e==u?E:e;var i=e[b];return i||(i=e[b]=++x),t&&!f.cache[i]&&(f.cache[i]={}),n!==c&&(f.cache[i][t]=n),t?f.cache[i][t]:i},removeData:function(e,t){e=e==u?E:e;var n=e[b];if(t){if(f.cache[n]){delete f.cache[n][t],t="";for(t in f.cache[n])break;t||f.removeData(e)}}else{try{delete e[b]}catch(i){e.removeAttribute&&e.removeAttribute(b)}delete f.cache[n]}},queue:function(e,t,n){if(e){t=(t||"fx")+"queue";var i=f.data(e,t);!i||f.isArray(n)?i=f.data(e,t,f.makeArray(n)):n&&i.push(n)}return i},dequeue:function(e,t){var n=f.queue(e,t),i=n.shift();t&&"fx"!==t||(i=n[0]),i!==c&&i.call(e)}}),f.fn.extend({data:function(e,t){var n=e.split(".");if(n[1]=n[1]?"."+n[1]:"",t===c){var i=this.triggerHandler("getData"+n[1]+"!",[n[0]]);return i===c&&this.length&&(i=f.data(this[0],e)),i===c&&n[1]?this.data(n[0]):i}return this.trigger("setData"+n[1]+"!",[n[0],t]).each(function(){f.data(this,e,t)})},removeData:function(e){return this.each(function(){f.removeData(this,e)})},queue:function(e,t){return"string"!=typeof e&&(t=e,e="fx"),t===c?f.queue(this[0],e):this.each(function(){var n=f.queue(this,e,t);"fx"==e&&1==n.length&&n[0].call(this)})},dequeue:function(e){return this.each(function(){f.dequeue(this,e)})}}),function(){function e(e,t,n,i,r,o){for(var s="previousSibling"==e&&!o,a=0,l=i.length;l>a;a++){var c=i[a];if(c){s&&1===c.nodeType&&(c.sizcache=n,c.sizset=a),c=c[e];for(var u=!1;c;){if(c.sizcache===n){u=i[c.sizset];break}if(1!==c.nodeType||o||(c.sizcache=n,c.sizset=a),c.nodeName===t){u=c;break}c=c[e]}i[a]=u}}}function t(e,t,n,i,r,s){for(var a="previousSibling"==e&&!s,l=0,c=i.length;c>l;l++){var u=i[l];if(u){a&&1===u.nodeType&&(u.sizcache=n,u.sizset=l),u=u[e];for(var d=!1;u;){if(u.sizcache===n){d=i[u.sizset];break}if(1===u.nodeType)if(s||(u.sizcache=n,u.sizset=l),"string"!=typeof t){if(u===t){d=!0;break}}else if(o.filter(t,[u]).length>0){d=u;break}u=u[e]}i[l]=d}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,i=0,r=Object.prototype.toString,o=function(e,t,i,l){if(i=i||[],t=t||document,1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return i;var c,d,f,v,y=[],w=!0;for(n.lastIndex=0;null!==(c=n.exec(e));)if(y.push(c[1]),c[2]){v=RegExp.rightContext;break}if(y.length>1&&a.exec(e))if(2===y.length&&s.relative[y[0]])d=g(y[0]+y[1],t);else for(d=s.relative[y[0]]?[t]:o(y.shift(),t);y.length;)e=y.shift(),s.relative[e]&&(e+=y.shift()),d=g(e,d);else{var b=l?{expr:y.pop(),set:u(l)}:o.find(y.pop(),1===y.length&&t.parentNode?t.parentNode:t,m(t));for(d=o.filter(b.expr,b.set),y.length>0?f=u(d):w=!1;y.length;){var x=y.pop(),E=x;s.relative[x]?E=y.pop():x="",null==E&&(E=t),s.relative[x](f,E,m(t))}}if(f||(f=d),!f)throw"Syntax error, unrecognized expression: "+(x||e);if("[object Array]"===r.call(f))if(w)if(1===t.nodeType)for(var T=0;null!=f[T];T++)f[T]&&(f[T]===!0||1===f[T].nodeType&&p(t,f[T]))&&i.push(d[T]);else for(var T=0;null!=f[T];T++)f[T]&&1===f[T].nodeType&&i.push(d[T]);else i.push.apply(i,f);else u(f,i);if(v&&(o(v,t,i,l),h&&(hasDuplicate=!1,i.sort(h),hasDuplicate)))for(var T=1;T<i.length;T++)i[T]===i[T-1]&&i.splice(T--,1);return i};o.matches=function(e,t){return o(e,null,null,t)},o.find=function(e,t,n){var i,r;if(!e)return[];for(var o=0,a=s.order.length;a>o;o++){var r,l=s.order[o];if(r=s.match[l].exec(e)){var c=RegExp.leftContext;if("\\"!==c.substr(c.length-1)&&(r[1]=(r[1]||"").replace(/\\/g,""),i=s.find[l](r,t,n),null!=i)){e=e.replace(s.match[l],"");break}}}return i||(i=t.getElementsByTagName("*")),{set:i,expr:e}},o.filter=function(e,t,n,i){for(var r,o,a=e,l=[],u=t,d=t&&t[0]&&m(t[0]);e&&t.length;){for(var h in s.filter)if(null!=(r=s.match[h].exec(e))){var f,p,g=s.filter[h];if(o=!1,u==l&&(l=[]),s.preFilter[h])if(r=s.preFilter[h](r,u,n,l,i,d)){if(r===!0)continue}else o=f=!0;if(r)for(var v=0;null!=(p=u[v]);v++)if(p){f=g(p,r,v,u);var y=i^!!f;n&&null!=f?y?o=!0:u[v]=!1:y&&(l.push(p),o=!0)}if(f!==c){if(n||(u=l),e=e.replace(s.match[h],""),!o)return[];break}}if(e==a){if(null==o)throw"Syntax error, unrecognized expression: "+e;break}a=e}return u};var s=o.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(e,t,n){var i="string"==typeof t,r=i&&!/\W/.test(t),s=i&&!r;r&&!n&&(t=t.toUpperCase());for(var a,l=0,c=e.length;c>l;l++)if(a=e[l]){for(;(a=a.previousSibling)&&1!==a.nodeType;);e[l]=s||a&&a.nodeName===t?a||!1:a===t}s&&o.filter(t,e,!0)},">":function(e,t,n){var i="string"==typeof t;if(i&&!/\W/.test(t)){t=n?t:t.toUpperCase();for(var r=0,s=e.length;s>r;r++){var a=e[r];if(a){var l=a.parentNode;e[r]=l.nodeName===t?l:!1}}}else{for(var r=0,s=e.length;s>r;r++){var a=e[r];a&&(e[r]=i?a.parentNode:a.parentNode===t)}i&&o.filter(t,e,!0)}},"":function(n,r,o){var s=i++,a=t;if(!r.match(/\W/)){var l=r=o?r:r.toUpperCase();a=e}a("parentNode",r,s,n,l,o)},"~":function(n,r,o){var s=i++,a=t;if("string"==typeof r&&!r.match(/\W/)){var l=r=o?r:r.toUpperCase();a=e}a("previousSibling",r,s,n,l,o)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i?[i]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],i=t.getElementsByName(e[1]),r=0,o=i.length;o>r;r++)i[r].getAttribute("name")===e[1]&&n.push(i[r]);return 0===n.length?null:n}},TAG:function(e,t){return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,i,r,o){if(e=" "+e[1].replace(/\\/g,"")+" ",o)return e;for(var s,a=0;null!=(s=t[a]);a++)s&&(r^(s.className&&(" "+s.className+" ").indexOf(e)>=0)?n||i.push(s):n&&(t[a]=!1));return!1},ID:function(e){return e[1].replace(/\\/g,"")},TAG:function(e,t){for(var n=0;t[n]===!1;n++);return t[n]&&m(t[n])?e[1]:e[1].toUpperCase()},CHILD:function(e){if("nth"==e[1]){var t=/(-?)(\d*)n((?:\+|-)?\d*)/.exec("even"==e[2]&&"2n"||"odd"==e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}return e[0]=i++,e},ATTR:function(e,t,n,i,r,o){var a=e[1].replace(/\\/g,"");return!o&&s.attrMap[a]&&(e[1]=s.attrMap[a]),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,i,r,a){if("not"===e[1]){if(!(e[3].match(n).length>1||/^\w/.test(e[3]))){var l=o.filter(e[3],t,i,!0^a);return i||r.push.apply(r,l),!1}e[3]=o(e[3],null,null,t)}else if(s.match.POS.test(e[0])||s.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!o(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||"BUTTON"===e.nodeName.toUpperCase()},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return 0===t%2},odd:function(e,t){return 1===t%2},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0==t},eq:function(e,t,n){return n[3]-0==t}},filter:{PSEUDO:function(e,t,n,i){var r=t[1],o=s.filters[r];if(o)return o(e,n,t,i);if("contains"===r)return(e.textContent||e.innerText||"").indexOf(t[3])>=0;if("not"===r){for(var a=t[3],n=0,l=a.length;l>n;n++)if(a[n]===e)return!1;return!0}},CHILD:function(e,t){var n=t[1],i=e;switch(n){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"==n)return!0;i=e;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0;case"nth":var r=t[2],o=t[3];if(1==r&&0==o)return!0;var s=t[0],a=e.parentNode;if(a&&(a.sizcache!==s||!e.nodeIndex)){var l=0;for(i=a.firstChild;i;i=i.nextSibling)1===i.nodeType&&(i.nodeIndex=++l);a.sizcache=s}var c=e.nodeIndex-o;return 0==r?0==c:0==c%r&&c/r>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||e.nodeName===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=s.attrHandle[n]?s.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),r=i+"",o=t[2],a=t[4];return null==i?"!="===o:"="===o?r===a:"*="===o?r.indexOf(a)>=0:"~="===o?(" "+r+" ").indexOf(a)>=0:a?"!="===o?r!=a:"^="===o?0===r.indexOf(a):"$="===o?r.substr(r.length-a.length)===a:"|="===o?r===a||r.substr(0,a.length+1)===a+"-":!1:r&&i!==!1},POS:function(e,t,n,i){var r=t[2],o=s.setFilters[r];return o?o(e,n,t,i):void 0}}},a=s.match.POS;for(var l in s.match)s.match[l]=RegExp(s.match[l].source+/(?![^\[]*\])(?![^\(]*\))/.source);var u=function(e,t){return e=Array.prototype.slice.call(e),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(d){u=function(e,t){var n=t||[];if("[object Array]"===r.call(e))Array.prototype.push.apply(n,e);else if("number"==typeof e.length)for(var i=0,o=e.length;o>i;i++)n.push(e[i]);else for(var i=0;e[i];i++)n.push(e[i]);return n}}var h;document.documentElement.compareDocumentPosition?h=function(e,t){var n=4&e.compareDocumentPosition(t)?-1:e===t?0:1;return 0===n&&(hasDuplicate=!0),n}:"sourceIndex"in document.documentElement?h=function(e,t){var n=e.sourceIndex-t.sourceIndex;return 0===n&&(hasDuplicate=!0),n}:document.createRange&&(h=function(e,t){var n=e.ownerDocument.createRange(),i=t.ownerDocument.createRange();n.selectNode(e),n.collapse(!0),i.selectNode(t),i.collapse(!0);var r=n.compareBoundaryPoints(Range.START_TO_END,i);return 0===r&&(hasDuplicate=!0),r}),function(){var e=document.createElement("form"),t="script"+(new Date).getTime();e.innerHTML="<input name='"+t+"'/>";var n=document.documentElement;n.insertBefore(e,n.firstChild),document.getElementById(t)&&(s.find.ID=function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i?i.id===e[1]||"undefined"!=typeof i.getAttributeNode&&i.getAttributeNode("id").nodeValue===e[1]?[i]:c:[]}},s.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),n.removeChild(e)}(),function(){var e=document.createElement("div");e.appendChild(document.createComment("")),e.getElementsByTagName("*").length>0&&(s.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],r=0;n[r];r++)1===n[r].nodeType&&i.push(n[r]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(s.attrHandle.href=function(e){return e.getAttribute("href",2)})}(),document.querySelectorAll&&function(){var e=o,t=document.createElement("div");t.innerHTML="<p class='TEST'></p>",t.querySelectorAll&&0===t.querySelectorAll(".TEST").length||(o=function(t,n,i,r){if(n=n||document,!r&&9===n.nodeType&&!m(n))try{return u(n.querySelectorAll(t),i)}catch(o){}return e(t,n,i,r)},o.find=e.find,o.filter=e.filter,o.selectors=e.selectors,o.matches=e.matches)}(),document.getElementsByClassName&&document.documentElement.getElementsByClassName&&function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(s.order.splice(1,0,"CLASS"),s.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])}))}();var p=document.compareDocumentPosition?function(e,t){return 16&e.compareDocumentPosition(t)}:function(e,t){return e!==t&&(e.contains?e.contains(t):!0)},m=function(e){return 9===e.nodeType&&"HTML"!==e.documentElement.nodeName||!!e.ownerDocument&&m(e.ownerDocument)},g=function(e,t){for(var n,i=[],r="",a=t.nodeType?[t]:t;n=s.match.PSEUDO.exec(e);)r+=n[0],e=e.replace(s.match.PSEUDO,"");e=s.relative[e]?e+"*":e;for(var l=0,c=a.length;c>l;l++)o(e,a[l],i);return o.filter(r,i)};f.find=o,f.filter=o.filter,f.expr=o.selectors,f.expr[":"]=f.expr.filters,o.selectors.filters.hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight},o.selectors.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0},o.selectors.filters.animated=function(e){return f.grep(f.timers,function(t){return e===t.elem}).length},f.multiFilter=function(e,t,n){return n&&(e=":not("+e+")"),o.matches(e,t)},f.dir=function(e,t){for(var n=[],i=e[t];i&&i!=document;)1==i.nodeType&&n.push(i),i=i[t];return n},f.nth=function(e,t,n){t=t||1;for(var i=0;e&&(1!=e.nodeType||++i!=t);e=e[n]);return e},f.sibling=function(e,t){for(var n=[];e;e=e.nextSibling)1==e.nodeType&&e!=t&&n.push(e);return n}}(),f.event={add:function(e,t,n,i){if(3!=e.nodeType&&8!=e.nodeType){if(e.setInterval&&e!=u&&(e=u),n.guid||(n.guid=this.guid++),i!==c){var r=n;n=this.proxy(r),n.data=i}var o=f.data(e,"events")||f.data(e,"events",{}),s=f.data(e,"handle")||f.data(e,"handle",function(){return"undefined"==typeof f||f.event.triggered?c:f.event.handle.apply(arguments.callee.elem,arguments)});s.elem=e,f.each(t.split(/\s+/),function(t,r){var a=r.split(".");r=a.shift(),n.type=a.slice().sort().join(".");var l=o[r];f.event.specialAll[r]&&f.event.specialAll[r].setup.call(e,i,a),l||(l=o[r]={},f.event.special[r]&&f.event.special[r].setup.call(e,i,a)!==!1||(e.addEventListener?e.addEventListener(r,s,!1):e.attachEvent&&e.attachEvent("on"+r,s))),l[n.guid]=n,f.event.global[r]=!0}),e=null}},guid:1,global:{},remove:function(e,t,n){if(3!=e.nodeType&&8!=e.nodeType){var i,r=f.data(e,"events");if(r){if(t===c||"string"==typeof t&&"."==t.charAt(0))for(var o in r)this.remove(e,o+(t||""));else t.type&&(n=t.handler,t=t.type),f.each(t.split(/\s+/),function(t,o){var s=o.split(".");o=s.shift();var a=RegExp("(^|\\.)"+s.slice().sort().join(".*\\.")+"(\\.|$)");if(r[o]){if(n)delete r[o][n.guid];else for(var l in r[o])a.test(r[o][l].type)&&delete r[o][l];f.event.specialAll[o]&&f.event.specialAll[o].teardown.call(e,s);for(i in r[o])break;i||(f.event.special[o]&&f.event.special[o].teardown.call(e,s)!==!1||(e.removeEventListener?e.removeEventListener(o,f.data(e,"handle"),!1):e.detachEvent&&e.detachEvent("on"+o,f.data(e,"handle"))),i=null,delete r[o])}});for(i in r)break;if(!i){var s=f.data(e,"handle");s&&(s.elem=null),f.removeData(e,"events"),f.removeData(e,"handle")}}}},trigger:function(e,t,n,i){var r=e.type||e;if(!i){if(e="object"==typeof e?e[b]?e:f.extend(f.Event(r),e):f.Event(r),r.indexOf("!")>=0&&(e.type=r=r.slice(0,-1),e.exclusive=!0),n||(e.stopPropagation(),this.global[r]&&f.each(f.cache,function(){this.events&&this.events[r]&&f.event.trigger(e,t,this.handle.elem)})),!n||3==n.nodeType||8==n.nodeType)return c;e.result=c,e.target=n,t=f.makeArray(t),t.unshift(e)}e.currentTarget=n;var o=f.data(n,"handle");if(o&&o.apply(n,t),(!n[r]||f.nodeName(n,"a")&&"click"==r)&&n["on"+r]&&n["on"+r].apply(n,t)===!1&&(e.result=!1),!(i||!n[r]||e.isDefaultPrevented()||f.nodeName(n,"a")&&"click"==r)){this.triggered=!0;try{n[r]()}catch(s){}}if(this.triggered=!1,!e.isPropagationStopped()){var a=n.parentNode||n.ownerDocument;a&&f.event.trigger(e,t,a,!0)}},handle:function(e){var t,n;e=arguments[0]=f.event.fix(e||u.event),e.currentTarget=this;var i=e.type.split(".");e.type=i.shift(),t=!i.length&&!e.exclusive;var r=RegExp("(^|\\.)"+i.slice().sort().join(".*\\.")+"(\\.|$)");
n=(f.data(this,"events")||{})[e.type];for(var o in n){var s=n[o];if(t||r.test(s.type)){e.handler=s,e.data=s.data;var a=s.apply(this,arguments);if(a!==c&&(e.result=a,a===!1&&(e.preventDefault(),e.stopPropagation())),e.isImmediatePropagationStopped())break}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(e){if(e[b])return e;var t=e;e=f.Event(t);for(var n,i=this.props.length;i;)n=this.props[--i],e[n]=t[n];if(e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement==e.target?e.toElement:e.fromElement),null==e.pageX&&null!=e.clientX){var r=document.documentElement,o=document.body;e.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r.clientTop||0)}return!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey&&(e.metaKey=e.ctrlKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e},proxy:function(e,t){return t=t||function(){return e.apply(this,arguments)},t.guid=e.guid=e.guid||t.guid||this.guid++,t},special:{ready:{setup:a,teardown:function(){}}},specialAll:{live:{setup:function(e,t){f.event.add(this,t[0],o)},teardown:function(e){if(e.length){var t=0,n=RegExp("(^|\\.)"+e[0]+"(\\.|$)");f.each(f.data(this,"events").live||{},function(){n.test(this.type)&&t++}),1>t&&f.event.remove(this,e[0],o)}}}}},f.Event=function(e){return this.preventDefault?(e&&e.type?(this.originalEvent=e,this.type=e.type):this.type=e,this.timeStamp=t(),this[b]=!0,void 0):new f.Event(e)},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=r;var e=this.originalEvent;e&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=r;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},isDefaultPrevented:i,isPropagationStopped:i,isImmediatePropagationStopped:i};var T=function(e){for(var t=e.relatedTarget;t&&t!=this;)try{t=t.parentNode}catch(n){t=this}t!=this&&(e.type=e.data,f.event.handle.apply(this,arguments))};f.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(e,t){f.event.special[t]={setup:function(){f.event.add(this,e,T,t)},teardown:function(){f.event.remove(this,e,T)}}}),f.fn.extend({bind:function(e,t,n){return"unload"==e?this.one(e,t,n):this.each(function(){f.event.add(this,e,n||t,n&&t)})},one:function(e,t,n){var i=f.event.proxy(n||t,function(e){return f(this).unbind(e,i),(n||t).apply(this,arguments)});return this.each(function(){f.event.add(this,e,i,n&&t)})},unbind:function(e,t){return this.each(function(){f.event.remove(this,e,t)})},trigger:function(e,t){return this.each(function(){f.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0]){var n=f.Event(e);return n.preventDefault(),n.stopPropagation(),f.event.trigger(n,t,this[0]),n.result}},toggle:function(e){for(var t=arguments,n=1;n<t.length;)f.event.proxy(e,t[n++]);return this.click(f.event.proxy(e,function(e){return this.lastToggle=(this.lastToggle||0)%n,e.preventDefault(),t[this.lastToggle++].apply(this,arguments)||!1}))},hover:function(e,t){return this.mouseenter(e).mouseleave(t)},ready:function(e){return a(),f.isReady?e.call(document,f):f.readyList.push(e),this},live:function(e,t){var n=f.event.proxy(t);return n.guid+=this.selector+e,f(document).bind(s(e,this.selector),this.selector,n),this},die:function(e,t){return f(document).unbind(s(e,this.selector),t?{guid:t.guid+this.selector+e}:null),this}}),f.extend({isReady:!1,readyList:[],ready:function(){f.isReady||(f.isReady=!0,f.readyList&&(f.each(f.readyList,function(){this.call(document,f)}),f.readyList=null),f(document).triggerHandler("ready"))}});var S=!1;f.each("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error".split(","),function(e,t){f.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),f(u).bind("unload",function(){for(var e in f.cache)1!=e&&f.cache[e].handle&&f.event.remove(f.cache[e].handle.elem)}),function(){f.support={};var e=document.documentElement,t=document.createElement("script"),n=document.createElement("div"),i="script"+(new Date).getTime();n.style.display="none",n.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>';var r=n.getElementsByTagName("*"),o=n.getElementsByTagName("a")[0];if(r&&r.length&&o){f.support={leadingWhitespace:3==n.firstChild.nodeType,tbody:!n.getElementsByTagName("tbody").length,objectAll:!!n.getElementsByTagName("object")[0].getElementsByTagName("*").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/red/.test(o.getAttribute("style")),hrefNormalized:"/a"===o.getAttribute("href"),opacity:"0.5"===o.style.opacity,cssFloat:!!o.style.cssFloat,scriptEval:!1,noCloneEvent:!0,boxModel:null},t.type="text/javascript";try{t.appendChild(document.createTextNode("window."+i+"=1;"))}catch(s){}e.insertBefore(t,e.firstChild),u[i]&&(f.support.scriptEval=!0,delete u[i]),e.removeChild(t),n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",function(){f.support.noCloneEvent=!1,n.detachEvent("onclick",arguments.callee)}),n.cloneNode(!0).fireEvent("onclick")),f(function(){var e=document.createElement("div");e.style.width=e.style.paddingLeft="1px",document.body.appendChild(e),f.boxModel=f.support.boxModel=2===e.offsetWidth,document.body.removeChild(e).style.display="none"})}}();var _=f.support.cssFloat?"cssFloat":"styleFloat";f.props={"for":"htmlFor","class":"className","float":_,cssFloat:_,styleFloat:_,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"},f.fn.extend({_load:f.fn.load,load:function(e,t,n){if("string"!=typeof e)return this._load(e);var i=e.indexOf(" ");if(i>=0){var r=e.slice(i,e.length);e=e.slice(0,i)}var o="GET";t&&(f.isFunction(t)?(n=t,t=null):"object"==typeof t&&(t=f.param(t),o="POST"));var s=this;return f.ajax({url:e,type:o,dataType:"html",data:t,complete:function(e,t){("success"==t||"notmodified"==t)&&s.html(r?f("<div/>").append(e.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(r):e.responseText),n&&s.each(n,[e.responseText,t,e])}}),this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password|search/i.test(this.type))}).map(function(e,t){var n=f(this).val();return null==n?null:f.isArray(n)?f.map(n,function(e){return{name:t.name,value:e}}):{name:t.name,value:n}}).get()}}),f.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(e,t){f.fn[t]=function(e){return this.bind(t,e)}});var C=t();f.extend({get:function(e,t,n,i){return f.isFunction(t)&&(n=t,t=null),f.ajax({type:"GET",url:e,data:t,success:n,dataType:i})},getScript:function(e,t){return f.get(e,null,t,"script")},getJSON:function(e,t,n){return f.get(e,t,n,"json")},post:function(e,t,n,i){return f.isFunction(t)&&(n=t,t={}),f.ajax({type:"POST",url:e,data:t,success:n,dataType:i})},ajaxSetup:function(e){f.extend(f.ajaxSettings,e)},ajaxSettings:{url:location.href,global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,xhr:function(){return u.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(e){function n(){e.success&&e.success(s,o),e.global&&f.event.trigger("ajaxSuccess",[w,e])}function i(){e.complete&&e.complete(w,o),e.global&&f.event.trigger("ajaxComplete",[w,e]),e.global&&!--f.active&&f.event.trigger("ajaxStop")}e=f.extend(!0,e,f.extend(!0,{},f.ajaxSettings,e));var r,o,s,a=/=\?(&|$)/g,l=e.type.toUpperCase();if(e.data&&e.processData&&"string"!=typeof e.data&&(e.data=f.param(e.data)),"jsonp"==e.dataType&&("GET"==l?e.url.match(a)||(e.url+=(e.url.match(/\?/)?"&":"?")+(e.jsonp||"callback")+"=?"):e.data&&e.data.match(a)||(e.data=(e.data?e.data+"&":"")+(e.jsonp||"callback")+"=?"),e.dataType="json"),"json"==e.dataType&&(e.data&&e.data.match(a)||e.url.match(a))&&(r="jsonp"+C++,e.data&&(e.data=(e.data+"").replace(a,"="+r+"$1")),e.url=e.url.replace(a,"="+r+"$1"),e.dataType="script",u[r]=function(e){s=e,n(),i(),u[r]=c;try{delete u[r]}catch(t){}m&&m.removeChild(g)}),"script"==e.dataType&&null==e.cache&&(e.cache=!1),e.cache===!1&&"GET"==l){var d=t(),h=e.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+d+"$2");e.url=h+(h==e.url?(e.url.match(/\?/)?"&":"?")+"_="+d:"")}e.data&&"GET"==l&&(e.url+=(e.url.match(/\?/)?"&":"?")+e.data,e.data=null),e.global&&!f.active++&&f.event.trigger("ajaxStart");var p=/^(\w+:)?\/\/([^\/?#]+)/.exec(e.url);if("script"==e.dataType&&"GET"==l&&p&&(p[1]&&p[1]!=location.protocol||p[2]!=location.host)){var m=document.getElementsByTagName("head")[0],g=document.createElement("script");if(g.src=e.url,e.scriptCharset&&(g.charset=e.scriptCharset),!r){var v=!1;g.onload=g.onreadystatechange=function(){v||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(v=!0,n(),i(),g.onload=g.onreadystatechange=null,m.removeChild(g))}}return m.appendChild(g),c}var y=!1,w=e.xhr();e.username?w.open(l,e.url,e.async,e.username,e.password):w.open(l,e.url,e.async);try{e.data&&w.setRequestHeader("Content-Type",e.contentType),e.ifModified&&w.setRequestHeader("If-Modified-Since",f.lastModified[e.url]||"Thu, 01 Jan 1970 00:00:00 GMT"),w.setRequestHeader("X-Requested-With","XMLHttpRequest"),w.setRequestHeader("Accept",e.dataType&&e.accepts[e.dataType]?e.accepts[e.dataType]+", */*":e.accepts._default)}catch(b){}if(e.beforeSend&&e.beforeSend(w,e)===!1)return e.global&&!--f.active&&f.event.trigger("ajaxStop"),w.abort(),!1;e.global&&f.event.trigger("ajaxSend",[w,e]);var x=function(t){if(0==w.readyState)E&&(clearInterval(E),E=null,e.global&&!--f.active&&f.event.trigger("ajaxStop"));else if(!y&&w&&(4==w.readyState||"timeout"==t)){if(y=!0,E&&(clearInterval(E),E=null),o="timeout"==t?"timeout":f.httpSuccess(w)?e.ifModified&&f.httpNotModified(w,e.url)?"notmodified":"success":"error","success"==o)try{s=f.httpData(w,e.dataType,e)}catch(a){o="parsererror"}if("success"==o){var l;try{l=w.getResponseHeader("Last-Modified")}catch(a){}e.ifModified&&l&&(f.lastModified[e.url]=l),r||n()}else f.handleError(e,w,o);i(),t&&w.abort(),e.async&&(w=null)}};if(e.async){var E=setInterval(x,13);e.timeout>0&&setTimeout(function(){w&&!y&&x("timeout")},e.timeout)}try{w.send(e.data)}catch(b){f.handleError(e,w,null,b)}return e.async||x(),w},handleError:function(e,t,n,i){e.error&&e.error(t,n,i),e.global&&f.event.trigger("ajaxError",[t,e,i])},active:0,httpSuccess:function(e){try{return!e.status&&"file:"==location.protocol||e.status>=200&&e.status<300||304==e.status||1223==e.status}catch(t){}return!1},httpNotModified:function(e,t){try{var n=e.getResponseHeader("Last-Modified");return 304==e.status||n==f.lastModified[t]}catch(i){}return!1},httpData:function(e,t,n){var i=e.getResponseHeader("content-type"),r="xml"==t||!t&&i&&i.indexOf("xml")>=0,o=r?e.responseXML:e.responseText;if(r&&"parsererror"==o.documentElement.tagName)throw"parsererror";return n&&n.dataFilter&&(o=n.dataFilter(o,t)),"string"==typeof o&&("script"==t&&f.globalEval(o),"json"==t&&(o=u.eval("("+o+")"))),o},param:function(e){function t(e,t){n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var n=[];if(f.isArray(e)||e.jquery)f.each(e,function(){t(this.name,this.value)});else for(var i in e)f.isArray(e[i])?f.each(e[i],function(){t(i,this)}):t(i,f.isFunction(e[i])?e[i]():e[i]);return n.join("&").replace(/%20/g,"+")}});var A,k={},O=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];f.fn.extend({show:function(e,t){if(e)return this.animate(l("show",3),e,t);for(var n=0,i=this.length;i>n;n++){var r=f.data(this[n],"olddisplay");if(this[n].style.display=r||"","none"===f.css(this[n],"display")){var o,s=this[n].tagName;if(k[s])o=k[s];else{var a=f("<"+s+" />").appendTo("body");o=a.css("display"),"none"===o&&(o="block"),a.remove(),k[s]=o}f.data(this[n],"olddisplay",o)}}for(var n=0,i=this.length;i>n;n++)this[n].style.display=f.data(this[n],"olddisplay")||"";return this},hide:function(e,t){if(e)return this.animate(l("hide",3),e,t);for(var n=0,i=this.length;i>n;n++){var r=f.data(this[n],"olddisplay");r||"none"===r||f.data(this[n],"olddisplay",f.css(this[n],"display"))}for(var n=0,i=this.length;i>n;n++)this[n].style.display="none";return this},_toggle:f.fn.toggle,toggle:function(e,t){var n="boolean"==typeof e;return f.isFunction(e)&&f.isFunction(t)?this._toggle.apply(this,arguments):null==e||n?this.each(function(){var t=n?e:f(this).is(":hidden");f(this)[t?"show":"hide"]()}):this.animate(l("toggle",3),e,t)},fadeTo:function(e,t,n){return this.animate({opacity:t},e,n)},animate:function(e,t,n,i){var r=f.speed(t,n,i);return this[r.queue===!1?"each":"queue"](function(){var t,n=f.extend({},r),i=1==this.nodeType&&f(this).is(":hidden"),o=this;for(t in e){if("hide"==e[t]&&i||"show"==e[t]&&!i)return n.complete.call(this);"height"!=t&&"width"!=t||!this.style||(n.display=f.css(this,"display"),n.overflow=this.style.overflow)}return null!=n.overflow&&(this.style.overflow="hidden"),n.curAnim=f.extend({},e),f.each(e,function(t,r){var s=new f.fx(o,n,t);if(/toggle|show|hide/.test(r))s["toggle"==r?i?"show":"hide":r](e);else{var a=r.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),l=s.cur(!0)||0;if(a){var c=parseFloat(a[2]),u=a[3]||"px";"px"!=u&&(o.style[t]=(c||1)+u,l=(c||1)/s.cur(!0)*l,o.style[t]=l+u),a[1]&&(c=("-="==a[1]?-1:1)*c+l),s.custom(l,c,u)}else s.custom(l,r,"")}}),!0})},stop:function(e,t){var n=f.timers;return e&&this.queue([]),this.each(function(){for(var e=n.length-1;e>=0;e--)n[e].elem==this&&(t&&n[e](!0),n.splice(e,1))}),t||this.dequeue(),this}}),f.each({slideDown:l("show",1),slideUp:l("hide",1),slideToggle:l("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(e,t){f.fn[e]=function(e,n){return this.animate(t,e,n)}}),f.extend({speed:function(e,t,n){var i="object"==typeof e?e:{complete:n||!n&&t||f.isFunction(e)&&e,duration:e,easing:n&&t||t&&!f.isFunction(t)&&t};return i.duration=f.fx.off?0:"number"==typeof i.duration?i.duration:f.fx.speeds[i.duration]||f.fx.speeds._default,i.old=i.complete,i.complete=function(){i.queue!==!1&&f(this).dequeue(),f.isFunction(i.old)&&i.old.call(this)},i},easing:{linear:function(e,t,n,i){return n+i*e},swing:function(e,t,n,i){return(-Math.cos(e*Math.PI)/2+.5)*i+n}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig||(t.orig={})}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this),"height"!=this.prop&&"width"!=this.prop||!this.elem.style||(this.elem.style.display="block")},cur:function(e){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var t=parseFloat(f.css(this.elem,this.prop,e));return t&&t>-1e4?t:parseFloat(f.curCSS(this.elem,this.prop))||0},custom:function(e,n,i){function r(e){return o.step(e)}this.startTime=t(),this.start=e,this.end=n,this.unit=i||this.unit||"px",this.now=this.start,this.pos=this.state=0;var o=this;r.elem=this.elem,r()&&f.timers.push(r)&&!A&&(A=setInterval(function(){for(var e=f.timers,t=0;t<e.length;t++)e[t]()||e.splice(t--,1);e.length||(clearInterval(A),A=c)},13))},show:function(){this.options.orig[this.prop]=f.attr(this.elem.style,this.prop),this.options.show=!0,this.custom("width"==this.prop||"height"==this.prop?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f.attr(this.elem.style,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var n=t();if(e||n>=this.options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),this.options.curAnim[this.prop]=!0;var i=!0;for(var r in this.options.curAnim)this.options.curAnim[r]!==!0&&(i=!1);if(i){if(null!=this.options.display&&(this.elem.style.overflow=this.options.overflow,this.elem.style.display=this.options.display,"none"==f.css(this.elem,"display")&&(this.elem.style.display="block")),this.options.hide&&f(this.elem).hide(),this.options.hide||this.options.show)for(var o in this.options.curAnim)f.attr(this.elem.style,o,this.options.orig[o]);this.options.complete.call(this.elem)}return!1}var s=n-this.startTime;return this.state=s/this.options.duration,this.pos=f.easing[this.options.easing||(f.easing.swing?"swing":"linear")](this.state,s,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update(),!0}},f.extend(f.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){f.attr(e.elem.style,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),f.fn.offset=document.documentElement.getBoundingClientRect?function(){if(!this[0])return{top:0,left:0};if(this[0]===this[0].ownerDocument.body)return f.offset.bodyOffset(this[0]);var e=this[0].getBoundingClientRect(),t=this[0].ownerDocument,n=t.body,i=t.documentElement,r=i.clientTop||n.clientTop||0,o=i.clientLeft||n.clientLeft||0,s=e.top+(self.pageYOffset||f.boxModel&&i.scrollTop||n.scrollTop)-r,a=e.left+(self.pageXOffset||f.boxModel&&i.scrollLeft||n.scrollLeft)-o;return{top:s,left:a}}:function(){if(!this[0])return{top:0,left:0};if(this[0]===this[0].ownerDocument.body)return f.offset.bodyOffset(this[0]);f.offset.initialized||f.offset.initialize();for(var e,t=this[0],n=t.offsetParent,i=t,r=t.ownerDocument,o=r.documentElement,s=r.body,a=r.defaultView,l=a.getComputedStyle(t,null),c=t.offsetTop,u=t.offsetLeft;(t=t.parentNode)&&t!==s&&t!==o;)e=a.getComputedStyle(t,null),c-=t.scrollTop,u-=t.scrollLeft,t===n&&(c+=t.offsetTop,u+=t.offsetLeft,!f.offset.doesNotAddBorder||f.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(t.tagName)||(c+=parseInt(e.borderTopWidth,10)||0,u+=parseInt(e.borderLeftWidth,10)||0),i=n,n=t.offsetParent),f.offset.subtractsBorderForOverflowNotVisible&&"visible"!==e.overflow&&(c+=parseInt(e.borderTopWidth,10)||0,u+=parseInt(e.borderLeftWidth,10)||0),l=e;return("relative"===l.position||"static"===l.position)&&(c+=s.offsetTop,u+=s.offsetLeft),"fixed"===l.position&&(c+=Math.max(o.scrollTop,s.scrollTop),u+=Math.max(o.scrollLeft,s.scrollLeft)),{top:c,left:u}},f.offset={initialize:function(){if(!this.initialized){var e,t,n,i,r,o=document.body,s=document.createElement("div"),a=o.style.marginTop,l='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';i={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(r in i)s.style[r]=i[r];s.innerHTML=l,o.insertBefore(s,o.firstChild),e=s.firstChild,t=e.firstChild,n=e.nextSibling.firstChild.firstChild,this.doesNotAddBorder=5!==t.offsetTop,this.doesAddBorderForTableAndCells=5===n.offsetTop,e.style.overflow="hidden",e.style.position="relative",this.subtractsBorderForOverflowNotVisible=-5===t.offsetTop,o.style.marginTop="1px",this.doesNotIncludeMarginInBodyOffset=0===o.offsetTop,o.style.marginTop=a,o.removeChild(s),this.initialized=!0}},bodyOffset:function(e){f.offset.initialized||f.offset.initialize();var t=e.offsetTop,n=e.offsetLeft;return f.offset.doesNotIncludeMarginInBodyOffset&&(t+=parseInt(f.curCSS(e,"marginTop",!0),10)||0,n+=parseInt(f.curCSS(e,"marginLeft",!0),10)||0),{top:t,left:n}}},f.fn.extend({position:function(){var e;if(this[0]){var t=this.offsetParent(),i=this.offset(),r=/^body|html$/i.test(t[0].tagName)?{top:0,left:0}:t.offset();i.top-=n(this,"marginTop"),i.left-=n(this,"marginLeft"),r.top+=n(t,"borderTopWidth"),r.left+=n(t,"borderLeftWidth"),e={top:i.top-r.top,left:i.left-r.left}}return e},offsetParent:function(){for(var e=this[0].offsetParent||document.body;e&&!/^body|html$/i.test(e.tagName)&&"static"==f.css(e,"position");)e=e.offsetParent;return f(e)}}),f.each(["Left","Top"],function(e,t){var n="scroll"+t;f.fn[n]=function(t){return this[0]?t!==c?this.each(function(){this==u||this==document?u.scrollTo(e?f(u).scrollLeft():t,e?t:f(u).scrollTop()):this[n]=t}):this[0]==u||this[0]==document?self[e?"pageYOffset":"pageXOffset"]||f.boxModel&&document.documentElement[n]||document.body[n]:this[0][n]:null}}),f.each(["Height","Width"],function(e,t){var n=t.toLowerCase();f.fn["inner"+t]=function(){return this[0]?f.css(this[0],n,!1,"padding"):null},f.fn["outer"+t]=function(e){return this[0]?f.css(this[0],n,!1,e?"margin":"border"):null};var i=t.toLowerCase();f.fn[i]=function(e){return this[0]==u?"CSS1Compat"==document.compatMode&&document.documentElement["client"+t]||document.body["client"+t]:this[0]==document?Math.max(document.documentElement["client"+t],document.body["scroll"+t],document.documentElement["scroll"+t],document.body["offset"+t],document.documentElement["offset"+t]):e===c?this.length?f.css(this[0],i):null:this.css(i,"string"==typeof e?e:e+"px")}})}(),function(e){function t(t,n,r){var o,s=this,a=e(this);e.each(r,function(t,n){e.isFunction(n)&&a.bind(t,n)}),e.extend(this,{click:function(n,l){s.getCurrentPane();var c=t.eq(n);if("string"==typeof n&&n.replace("#","")&&(c=t.filter("[href*="+n.replace("#","")+"]"),n=Math.max(t.index(c),0)),r.rotate){var u=t.length-1;if(0>n)return s.click(u,l);if(n>u)return s.click(0,l)}if(!c.length){if(o>=0)return s;n=r.initialIndex,c=t.eq(n)}return n===o?s:(l=l||e.Event(),l.type="onBeforeClick",a.trigger(l,[n]),l.isDefaultPrevented()||(i[r.effect].call(s,n,function(){l.type="onClick",a.trigger(l,[n])}),l.type="onStart",a.trigger(l,[n]),l.isDefaultPrevented())?void 0:(o=n,t.removeClass(r.current),c.addClass(r.current),s))},getConf:function(){return r},getTabs:function(){return t},getPanes:function(){return n},getCurrentPane:function(){return n.eq(o)},getCurrentTab:function(){return t.eq(o)},getIndex:function(){return o},next:function(){return s.click(o+1)},prev:function(){return s.click(o-1)},bind:function(e,t){return a.bind(e,t),s},onBeforeClick:function(e){return this.bind("onBeforeClick",e)},onClick:function(e){return this.bind("onClick",e)},unbind:function(e){return a.unbind(e),s}}),t.each(function(t){e(this).bind(r.event,function(e){return s.click(t,e),!1})}),location.hash?s.click(location.hash):(0===r.initialIndex||r.initialIndex>0)&&s.click(r.initialIndex),n.find("a[href^=#]").click(function(t){s.click(e(this).attr("href"),t)})}e.tools=e.tools||{},e.tools.tabs={version:"1.0.4",conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",api:!1,rotate:!1},addEffect:function(e,t){i[e]=t}};var n,i={"default":function(e,t){this.getPanes().hide().eq(e).show(),t.call()},fade:function(e,t){var n=this.getConf(),i=n.fadeOutSpeed,r=this.getPanes();i?r.fadeOut(i):r.hide(),r.eq(e).fadeIn(n.fadeInSpeed,t)},slide:function(e,t){this.getPanes().slideUp(200),this.getPanes().eq(e).slideDown(400,t)},ajax:function(e,t){this.getPanes().eq(0).load(this.getTabs().eq(e).attr("href"),t)}};e.tools.tabs.addEffect("horizontal",function(t,i){n||(n=this.getPanes().eq(0).width()),this.getCurrentPane().animate({width:0},function(){e(this).hide()}),this.getPanes().eq(t).animate({width:n},function(){e(this).show(),i.call()})}),e.fn.tabs=function(n,i){var r=this.eq("number"==typeof i?i:0).data("tabs");if(r)return r;e.isFunction(i)&&(i={onBeforeClick:i});var o=e.extend({},e.tools.tabs.conf),s=this.length;return i=e.extend(o,i),this.each(function(){var o=e(this),a=o.find(i.tabs);a.length||(a=o.children());var l=n.jquery?n:o.children(n);l.length||(l=1==s?e(n):o.parent().find(n)),r=new t(a,l,i),o.data("tabs",r)}),i.api?r:this}}(jQuery),function(e){var t=e.tools.tabs;t.plugins=t.plugins||{},t.plugins.slideshow={version:"1.0.2",conf:{next:".forward",prev:".backward",disabledClass:"disabled",autoplay:!1,autopause:!0,interval:3e3,clickable:!0,api:!1}},e.prototype.slideshow=function(n){var i,r=e.extend({},t.plugins.slideshow.conf),o=this.length;return n=e.extend(r,n),this.each(function(){function t(t){return 1==o?e(t):i.parent().find(t)}var i=e(this),r=i.tabs(),s=e(r);e.each(n,function(t,n){e.isFunction(n)&&r.bind(t,n)});var a,l,c,u=t(n.next).click(function(){r.next()}),d=t(n.prev).click(function(){r.prev()}),h=!1;if(e.extend(r,{play:function(){if(!a){var t=e.Event("onBeforePlay");if(s.trigger(t),t.isDefaultPrevented())return r;h=!1,a=setInterval(r.next,n.interval),s.trigger("onPlay"),r.next()}},pause:function(){if(!a)return r;var t=e.Event("onBeforePause");return s.trigger(t),t.isDefaultPrevented()?r:(a=clearInterval(a),c=clearInterval(c),s.trigger("onPause"),void 0)},stop:function(){r.pause(),h=!0},onBeforePlay:function(e){return r.bind("onBeforePlay",e)},onPlay:function(e){return r.bind("onPlay",e)},onBeforePause:function(e){return r.bind("onBeforePause",e)},onPause:function(e){return r.bind("onPause",e)}}),n.autopause){var f=r.getTabs().add(u).add(d).add(r.getPanes());f.hover(function(){r.pause(),l=clearInterval(l)},function(){h||(l=setTimeout(r.play,n.interval))})}if(n.autoplay?c=setTimeout(r.play,n.interval):r.stop(),n.clickable&&r.getPanes().click(function(){r.next()}),!r.getConf().rotate){var p=n.disabledClass;r.getIndex()||d.addClass(p),r.onBeforeClick(function(e,t){t?(d.removeClass(p),t==r.getTabs().length-1?u.addClass(p):u.removeClass(p)):d.addClass(p)})}}),n.api?i:this}}(jQuery),function(e){function t(e){if(e){var t=r.contentWindow.document;t.open().close(),t.location.hash=e}}var n=e.tools.tabs;n.plugins=n.plugins||{},n.plugins.history={version:"1.0.2",conf:{api:!1}};var i,r;e.fn.onHash=function(n){var o=this;return e.browser.msie&&e.browser.version<"8"?(r||(r=e("<iframe/>").attr("src","javascript:false;").hide().get(0),e("body").append(r),setInterval(function(){var t=r.contentWindow.document,n=t.location.hash;i!==n&&(e.event.trigger("hash",n),i=n)},100),t(location.hash||"#")),o.bind("click.hash",function(){t(e(this).attr("href"))})):setInterval(function(){var t=location.hash,n=o.filter("[href$="+t+"]");n.length||(t=t.replace("#",""),n=o.filter("[href$="+t+"]")),n.length&&t!==i&&(i=t,e.event.trigger("hash",t))},100),e(window).bind("hash",n),this},e.fn.history=function(t){var i,r=e.extend({},n.plugins.history.conf);return t=e.extend(r,t),this.each(function(){var t=e(this).tabs(),n=t.getTabs();t&&(i=t),n.onHash(function(e,n){n&&"#"!=n||(n=t.getConf().initialIndex),t.click(n)}),n.click(function(){location.hash=e(this).attr("href").replace("#","")})}),t.api?i:this}}(jQuery),function(e){function t(t,r){function o(){var e=r.relative?t.position().top:t.offset().top,n=r.relative?t.position().left:t.offset().left,i=r.position[0];e-=l.outerHeight()-r.offset[0],n+=t.outerWidth()+r.offset[1];var o=l.outerHeight()+t.outerHeight();"center"==i&&(e+=o/2),"bottom"==i&&(e+=o),i=r.position[1];var s=l.outerWidth()+t.outerWidth();return"center"==i&&(n-=s/2),"left"==i&&(n-=s),{top:e,left:n}}var s=this,a=e(this);t.data("tooltip",s);var l=t.next();r.tip&&(l=e(r.tip),l.length>1&&(l=t.nextAll(r.tip).eq(0),l.length||(l=t.parent().nextAll(r.tip).eq(0))));var c=t.is(":input"),u=c&&t.is(":checkbox, :radio, select, :button"),d=t.attr("type"),h=r.events[d]||r.events[c?u?"widget":"input":"def"];if(h=h.split(/,\s*/),2!=h.length)throw"Tooltip: bad events configuration for "+d;t.bind(h[0],function(t){r.oneInstance&&e.each(n,function(){this.hide()});var i=l.data("trigger");i&&i[0]!=this&&l.hide().stop(!0,!0),t.target=this,s.show(t),h=r.events.tooltip.split(/,\s*/),l.bind(h[0],function(){s.show(t)}),h[1]&&l.bind(h[1],function(){s.hide(t)})}),t.bind(h[1],function(e){s.hide(e)}),e.browser.msie||c||r.predelay||t.mousemove(function(){s.isShown()||t.triggerHandler("mouseover")}),r.opacity<1&&l.css("opacity",r.opacity);var f=0,p=t.attr("title");p&&r.cancelDefault&&(t.removeAttr("title"),t.data("title",p)),e.extend(s,{show:function(n){function c(){l.data("trigger",t);var c=o(n);if(r.tip&&p&&l.html(t.data("title")),n=n||e.Event(),n.type="onBeforeShow",a.trigger(n,[c]),n.isDefaultPrevented())return s;c=o(n),l.css({position:"absolute",top:c.top,left:c.left});var u=i[r.effect];if(!u)throw'Nonexistent effect "'+r.effect+'"';u[0].call(s,function(){n.type="onShow",a.trigger(n)})}return n&&(t=e(n.target)),clearTimeout(l.data("timer")),l.is(":animated")||l.is(":visible")?s:(r.predelay?(clearTimeout(f),f=setTimeout(c,r.predelay)):c(),s)},hide:function(t){function n(){t=t||e.Event(),t.type="onBeforeHide",a.trigger(t),t.isDefaultPrevented()||i[r.effect][1].call(s,function(){t.type="onHide",a.trigger(t)})}return clearTimeout(l.data("timer")),clearTimeout(f),l.is(":visible")?(r.delay&&t?l.data("timer",setTimeout(n,r.delay)):n(),s):void 0},isShown:function(){return l.is(":visible, :animated")},getConf:function(){return r},getTip:function(){return l},getTrigger:function(){return t},bind:function(e,t){return a.bind(e,t),s},onHide:function(e){return this.bind("onHide",e)},onBeforeShow:function(e){return this.bind("onBeforeShow",e)},onShow:function(e){return this.bind("onShow",e)},onBeforeHide:function(e){return this.bind("onBeforeHide",e)},unbind:function(e){return a.unbind(e),s}}),e.each(r,function(t,n){e.isFunction(n)&&s.bind(t,n)})}var n=[];e.tools=e.tools||{},e.tools.tooltip={version:"1.1.3",conf:{effect:"toggle",fadeOutSpeed:"fast",tip:null,predelay:0,delay:30,opacity:1,lazy:void 0,position:["top","center"],offset:[0,0],cancelDefault:!0,relative:!1,oneInstance:!0,events:{def:"mouseover,mouseout",input:"focus,blur",widget:"focus mouseover,blur mouseout",tooltip:"mouseover,mouseout"},api:!1},addEffect:function(e,t,n){i[e]=[t,n]}};var i={toggle:[function(e){var t=this.getConf(),n=this.getTip(),i=t.opacity;1>i&&n.css({opacity:i}),n.show(),e.call()},function(e){this.getTip().hide(),e.call()}],fade:[function(e){this.getTip().fadeIn(this.getConf().fadeInSpeed,e)},function(e){this.getTip().fadeOut(this.getConf().fadeOutSpeed,e)}]};e.prototype.tooltip=function(i){var r=this.eq("number"==typeof i?i:0).data("tooltip");if(r)return r;var o=e.extend(!0,{},e.tools.tooltip.conf);return e.isFunction(i)?i={onBeforeShow:i}:"string"==typeof i&&(i={tip:i}),i=e.extend(!0,o,i),"string"==typeof i.position&&(i.position=i.position.split(/,?\s/)),i.lazy!==!1&&(i.lazy===!0||this.length>20)?this.one("mouseover",function(o){r=new t(e(this),i),r.show(o),n.push(r)}):this.each(function(){r=new t(e(this),i),n.push(r)}),i.api?r:this}}(jQuery),function(e){var t=e.tools.tooltip;t.effects=t.effects||{},t.effects.slide={version:"1.0.0"},e.extend(t.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!e.browser.msie});var n={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};e.tools.tooltip.addEffect("slide",function(e){var t=this.getConf(),i=this.getTip(),r=t.slideFade?{opacity:t.opacity}:{},o=n[t.direction]||n.up;r[o[1]]=o[0]+"="+t.slideOffset,t.slideFade&&i.css({opacity:0}),i.show().animate(r,t.slideInSpeed,e)},function(t){var i=this.getConf(),r=i.slideOffset,o=i.slideFade?{opacity:0}:{},s=n[i.direction]||n.up,a=""+s[0];i.bounce&&(a="+"==a?"-":"+"),o[s[1]]=a+"="+r,this.getTip().animate(o,i.slideOutSpeed,function(){e(this).hide(),t.call()})})}(jQuery),function(e){function t(t){var n=e(window),i=n.width()+n.scrollLeft(),r=n.height()+n.scrollTop();return[t.offset().top<=n.scrollTop(),i<=t.offset().left+t.width(),r<=t.offset().top+t.height(),n.scrollLeft()>=t.offset().left]}function n(e){for(var t=e.length;t--;)if(e[t])return!1;return!0}var i=e.tools.tooltip;i.plugins=i.plugins||{},i.plugins.dynamic={version:"1.0.1",conf:{api:!1,classNames:"top right bottom left"}},e.fn.dynamic=function(r){var o,s=e.extend({},i.plugins.dynamic.conf);"number"==typeof r&&(r={speed:r}),r=e.extend(s,r);var a,l=r.classNames.split(/\s/);return this.each(function(){if(e(this).tooltip().jquery)throw"Lazy feature not supported by dynamic plugin. set lazy: false for tooltip";var i=e(this).tooltip().onBeforeShow(function(i,o){var s=this.getTip(),c=this.getConf();
a||(a=[c.position[0],c.position[1],c.offset[0],c.offset[1],e.extend({},c)]),e.extend(c,a[4]),c.position=[a[0],a[1]],c.offset=[a[2],a[3]],s.css({visibility:"hidden",position:"absolute",top:o.top,left:o.left}).show();var u=t(s);n(u)||(u[2]&&(e.extend(c,r.top),c.position[0]="top",s.addClass(l[0])),u[3]&&(e.extend(c,r.right),c.position[1]="right",s.addClass(l[1])),u[0]&&(e.extend(c,r.bottom),c.position[0]="bottom",s.addClass(l[2])),u[1]&&(e.extend(c,r.left),c.position[1]="left",s.addClass(l[3])),(u[0]||u[2])&&(c.offset[0]*=-1),(u[1]||u[3])&&(c.offset[1]*=-1)),s.css({visibility:"visible"}).hide()});i.onShow(function(){var e=this.getConf();this.getTip(),e.position=[a[0],a[1]],e.offset=[a[2],a[3]]}),i.onHide(function(){var e=this.getTip();e.removeClass(r.classNames)}),o=i}),r.api?o:this}}(jQuery),function(e){function t(t,i){function r(n){var r=e(n);return i.globalNav?r:t.parent().find(n)}var o,s=this,a=e(this),l=!i.vertical,c=t.children(),u=0;n||(n=s),e.each(i,function(t,n){e.isFunction(n)&&a.bind(t,n)}),c.length>1&&(c=e(i.items,t)),t.data("finder",r);var d=r(i.prev),h=r(i.next),f=r(i.prevPage),p=r(i.nextPage);e.extend(s,{getIndex:function(){return u},getClickIndex:function(){var e=s.getItems();return e.index(e.filter("."+i.activeClass))},getConf:function(){return i},getSize:function(){return s.getItems().size()},getPageAmount:function(){return Math.ceil(this.getSize()/i.size)},getPageIndex:function(){return Math.ceil(u/i.size)},getNaviButtons:function(){return d.add(h).add(f).add(p)},getRoot:function(){return t},getItemWrap:function(){return c},getItems:function(){return c.children(i.item)},getVisibleItems:function(){return s.getItems().slice(u,u+i.size)},seekTo:function(t,r,o){function m(){o&&o.call(s,t),a.trigger("onSeek",[t])}if(0>t&&(t=0),u===t)return s;if(e.isFunction(r)&&(o=r),t>s.getSize()-i.size)return i.loop?s.begin():this.end();var g=s.getItems().eq(t);if(!g.length)return s;var v=e.Event("onBeforeSeek");return a.trigger(v,[t]),v.isDefaultPrevented()?s:((void 0===r||e.isFunction(r))&&(r=i.speed),l?c.animate({left:-g.position().left},r,i.easing,m):c.animate({top:-g.position().top},r,i.easing,m),n=s,u=t,v=e.Event("onStart"),a.trigger(v,[t]),v.isDefaultPrevented()?s:(d.add(f).toggleClass(i.disabledClass,0===t),h.add(p).toggleClass(i.disabledClass,t>=s.getSize()-i.size),s))},move:function(e,t,n){return o=e>0,this.seekTo(u+e,t,n)},next:function(e,t){return this.move(1,e,t)},prev:function(e,t){return this.move(-1,e,t)},movePage:function(e,t,n){o=e>0;var r=i.size*e,s=u%i.size;return s>0&&(r+=e>0?-s:i.size-s),this.move(r,t,n)},prevPage:function(e,t){return this.movePage(-1,e,t)},nextPage:function(e,t){return this.movePage(1,e,t)},setPage:function(e,t,n){return this.seekTo(e*i.size,t,n)},begin:function(e,t){return o=!1,this.seekTo(0,e,t)},end:function(e,t){o=!0;var n=this.getSize()-i.size;return n>0?this.seekTo(n,e,t):s},reload:function(){return a.trigger("onReload"),s},focus:function(){return n=s,s},click:function(e){var t=s.getItems().eq(e),n=i.activeClass,r=i.size;if(0>e||e>=s.getSize())return s;if(1==r)return i.loop?s.next():((0===e||e==s.getSize()-1)&&(o=void 0===o?!0:!o),o===!1?s.prev():s.next());if(2==r)return e==u&&e--,s.getItems().removeClass(n),t.addClass(n),s.seekTo(e,time,fn);if(!t.hasClass(n)){s.getItems().removeClass(n),t.addClass(n);var a=Math.floor(r/2),l=e-a;if(l>s.getSize()-r&&(l=s.getSize()-r),l!==e)return s.seekTo(l)}return s},bind:function(e,t){return a.bind(e,t),s},unbind:function(e){return a.unbind(e),s}}),e.each("onBeforeSeek,onStart,onSeek,onReload".split(","),function(e,t){s[t]=function(e){return s.bind(t,e)}}),d.addClass(i.disabledClass).click(function(){s.prev()}),h.click(function(){s.next()}),p.click(function(){s.nextPage()}),s.getSize()<i.size&&h.add(p).addClass(i.disabledClass),f.addClass(i.disabledClass).click(function(){s.prevPage()});var m=i.hoverClass,g="keydown."+Math.random().toString().substring(10);s.onReload(function(){m&&s.getItems().hover(function(){e(this).addClass(m)},function(){e(this).removeClass(m)}),i.clickable&&s.getItems().each(function(t){e(this).unbind("click.scrollable").bind("click.scrollable",function(n){return e(n.target).is("a")?void 0:s.click(t)})}),i.keyboard?e(document).unbind(g).bind(g,function(e){if(!(e.altKey||e.ctrlKey||"static"!=i.keyboard&&n!=s)){var t=i.keyboardSteps;return!l||37!=e.keyCode&&39!=e.keyCode?l||38!=e.keyCode&&40!=e.keyCode?!0:(s.move(38==e.keyCode?-t:t),e.preventDefault()):(s.move(37==e.keyCode?-t:t),e.preventDefault())}}):e(document).unbind(g)}),s.reload()}e.tools=e.tools||{},e.tools.scrollable={version:"1.1.2",conf:{size:5,vertical:!1,speed:400,keyboard:!0,keyboardSteps:null,disabledClass:"disabled",hoverClass:null,clickable:!0,activeClass:"active",easing:"swing",loop:!1,items:".items",item:null,prev:".prev",next:".next",prevPage:".prevPage",nextPage:".nextPage",api:!1}};var n;e.fn.scrollable=function(n){var i=this.eq("number"==typeof n?n:0).data("scrollable");if(i)return i;var r=e.extend({},e.tools.scrollable.conf);return n=e.extend(r,n),n.keyboardSteps=n.keyboardSteps||n.size,this.each(function(){i=new t(e(this),n),e(this).data("scrollable",i)}),n.api?i:this}}(jQuery),function(e){var t=e.tools.scrollable;t.plugins=t.plugins||{},t.plugins.circular={version:"0.5.1",conf:{api:!1,clonedClass:"cloned"}},e.fn.circular=function(n){var i,r=e.extend({},t.plugins.circular.conf);return e.extend(r,n),this.each(function(){function t(e){var t=u.eq(e);s.vertical?a.css({top:-t.position().top}):a.css({left:-t.position().left})}var n=e(this).scrollable(),o=n.getItems(),s=n.getConf(),a=n.getItemWrap(),l=0;if(n&&(i=n),o.length<s.size)return!1;o.slice(0,s.size).each(function(t){e(this).clone().appendTo(a).click(function(){n.click(o.length+t)}).addClass(r.clonedClass)});var c=e.makeArray(o.slice(-s.size)).reverse();e(c).each(function(t){e(this).clone().prependTo(a).click(function(){n.click(-t-1)}).addClass(r.clonedClass)});var u=a.children(s.item),d=s.hoverClass;d&&u.hover(function(){e(this).addClass(d)},function(){e(this).removeClass(d)}),t(s.size),e.extend(n,{move:function(e,i,r,a){var c=l+e+s.size,d=c>n.getSize()-s.size;if(0>=c||d){var h=l+s.size+(d?-o.length:o.length);t(h),c=h+e}return a&&u.removeClass(s.activeClass).eq(c+Math.floor(s.size/2)).addClass(s.activeClass),c===l+s.size?self:n.seekTo(c,i,r)},begin:function(e,t){return this.seekTo(s.size,e,t)},end:function(e,t){return this.seekTo(o.length,e,t)},click:function(e,t,n){if(!s.clickable)return self;if(1==s.size)return this.next();var i=e-l;return s.activeClass,i-=Math.floor(s.size/2),this.move(i,t,n,!0)},getIndex:function(){return l},setPage:function(e,t,n){return this.seekTo(e*s.size+s.size,t,n)},getPageAmount:function(){return Math.ceil(o.length/s.size)},getPageIndex:function(){if(0>l)return this.getPageAmount()-1;if(l>=o.length)return 0;var e=(l+s.size)/s.size-1;return e},getVisibleItems:function(){var e=l+s.size;return u.slice(e,e+s.size)}}),n.onStart(function(e,t){return l=t-s.size,!1}),n.getNaviButtons().removeClass(s.disabledClass)}),r.api?i:this}}(jQuery),function(e){var t=e.tools.scrollable;t.plugins=t.plugins||{},t.plugins.autoscroll={version:"1.0.1",conf:{autoplay:!0,interval:3e3,autopause:!0,steps:1,api:!1}},e.fn.autoscroll=function(n){"number"==typeof n&&(n={interval:n});var i,r=e.extend({},t.plugins.autoscroll.conf);return e.extend(r,n),this.each(function(){var t=e(this).scrollable();t&&(i=t);var n,o,s=!0;t.play=function(){n||(s=!1,n=setInterval(function(){t.move(r.steps)},r.interval),t.move(r.steps))},t.pause=function(){n=clearInterval(n)},t.stop=function(){t.pause(),s=!0},r.autopause&&t.getRoot().add(t.getNaviButtons()).hover(function(){t.pause(),clearInterval(o)},function(){s||(o=setTimeout(t.play,r.interval))}),r.autoplay&&setTimeout(t.play,r.interval)}),r.api?i:this}}(jQuery),function(e){var t=e.tools.scrollable;t.plugins=t.plugins||{},t.plugins.navigator={version:"1.0.2",conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,api:!1,idPrefix:null}},e.fn.navigator=function(n){var i,r=e.extend({},t.plugins.navigator.conf);return"string"==typeof n&&(n={navi:n}),n=e.extend(r,n),this.each(function(){function t(){if(s.children().length&&s.data("navi")!=r)a=n.naviItem?s.find(n.naviItem):s.children(),a.each(function(t){var n=e(this);n.click(function(e){return r.setPage(t),e.preventDefault()})});else{s.empty(),s.data("navi",r);for(var t=0;t<r.getPageAmount();t++)s.append(e("<"+(n.naviItem||"a")+"/>"));a=s.children().each(function(t){var i=e(this);i.click(function(e){return r.setPage(t),e.preventDefault()}),n.indexed&&i.text(t),n.idPrefix&&i.attr("id",n.idPrefix+t)})}a.eq(0).addClass(n.activeClass)}var r=e(this).scrollable(),o=r.getRoot(),s=o.data("finder").call(null,n.navi),a=null,l=r.getNaviButtons();r&&(i=r),r.getNaviButtons=function(){return l.add(s)},r.onStart(function(){var e=n.activeClass;a.removeClass(e).eq(r.getPageIndex()).addClass(e)}),r.onReload(function(){t()}),t();var c=a.filter("[href="+location.hash+"]");c.length&&r.move(a.index(c))}),n.api?i:this}}(jQuery),function(e){function t(t){switch(t.type){case"mousemove":return e.extend(t.data,{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY});case"DOMMouseScroll":e.extend(t,t.data),t.delta=-t.detail/3;break;case"mousewheel":t.delta=t.wheelDelta/120}return t.type="wheel",e.event.handle.call(this,t,t.delta)}e.fn.wheel=function(e){return this[e?"bind":"trigger"]("wheel",e)},e.event.special.wheel={setup:function(){e.event.add(this,n,t,{})},teardown:function(){e.event.remove(this,n,t)}};var n=e.browser.mozilla?"DOMMouseScroll"+(e.browser.version<"1.9"?" mousemove":""):"mousewheel",i=e.tools.scrollable;i.plugins=i.plugins||{},i.plugins.mousewheel={version:"1.0.1",conf:{api:!1,speed:50}},e.fn.mousewheel=function(t){var n,r=e.extend({},i.plugins.mousewheel.conf);return"number"==typeof t&&(t={speed:t}),t=e.extend(r,t),this.each(function(){var i=e(this).scrollable();i&&(n=i),i.getRoot().wheel(function(e,n){return i.move(0>n?1:-1,t.speed||50),!1})}),t.api?n:this}}(jQuery),function(e){function t(t,r){var o,s,a,l=this,c=e(this),u=e(window),d=r.expose&&e.tools.expose.version,h=r.target||t.attr("rel");if(s=h?e(h):null||t,!s.length)throw"Could not find Overlay: "+h;if(t&&-1==t.index(s)&&t.click(function(e){return l.load(e),e.preventDefault()}),e.each(r,function(t,n){e.isFunction(n)&&c.bind(t,n)}),e.extend(l,{load:function(t){if(l.isOpened())return l;var o=n[r.effect];if(!o)throw'Overlay: cannot find effect : "'+r.effect+'"';if(r.oneInstance&&e.each(i,function(){this.close(t)}),t=t||e.Event(),t.type="onBeforeLoad",c.trigger(t),t.isDefaultPrevented())return l;a=!0,d&&s.expose().load(t);var h=r.top,f=r.left,p=s.outerWidth({margin:!0}),m=s.outerHeight({margin:!0});return"string"==typeof h&&(h="center"==h?Math.max((u.height()-m)/2,0):parseInt(h,10)/100*u.height()),"center"==f&&(f=Math.max((u.width()-p)/2,0)),r.absolute||(h+=u.scrollTop(),f+=u.scrollLeft()),s.css({top:h,left:f,position:"absolute"}),t.type="onStart",c.trigger(t),o[0].call(l,function(){a&&(t.type="onLoad",c.trigger(t))}),r.closeOnClick&&e(document).bind("click.overlay",function(t){if(l.isOpened()){var n=e(t.target);n.parents(s).length>1||e.each(i,function(){this.close(t)})}}),r.closeOnEsc&&e(document).unbind("keydown.overlay").bind("keydown.overlay",function(t){27==t.keyCode&&e.each(i,function(){this.close(t)})}),l},close:function(t){if(!l.isOpened())return l;if(t=t||e.Event(),t.type="onBeforeClose",c.trigger(t),!t.isDefaultPrevented()){a=!1,n[r.effect][1].call(l,function(){t.type="onClose",c.trigger(t)});var o=!0;return e.each(i,function(){this.isOpened()&&(o=!1)}),o&&e(document).unbind("click.overlay").unbind("keydown.overlay"),l}},getContent:function(){return s},getOverlay:function(){return s},getTrigger:function(){return t},getClosers:function(){return o},isOpened:function(){return a},getConf:function(){return r},bind:function(e,t){return c.bind(e,t),l},unbind:function(e){return c.unbind(e),l}}),e.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(e,t){l[t]=function(e){return l.bind(t,e)}}),d){"string"==typeof r.expose&&(r.expose={color:r.expose}),e.extend(r.expose,{api:!0,closeOnClick:r.closeOnClick,closeOnEsc:!1});var f=s.expose(r.expose);f.onBeforeClose(function(e){l.close(e)}),l.onClose(function(e){f.close(e)})}o=s.find(r.close||".close"),o.length||r.close||(o=e('<div class="close"></div>'),s.prepend(o)),o.click(function(e){l.close(e)})}e.tools=e.tools||{},e.tools.overlay={version:"1.1.2",addEffect:function(e,t,i){n[e]=[t,i]},conf:{top:"10%",left:"center",absolute:!1,speed:"normal",closeSpeed:"fast",effect:"default",close:null,oneInstance:!0,closeOnClick:!0,closeOnEsc:!0,api:!1,expose:null,target:null}};var n={};e.tools.overlay.addEffect("default",function(e){this.getOverlay().fadeIn(this.getConf().speed,e)},function(e){this.getOverlay().fadeOut(this.getConf().closeSpeed,e)});var i=[];e.fn.overlay=function(n){var r=this.eq("number"==typeof n?n:0).data("overlay");if(r)return r;e.isFunction(n)&&(n={onBeforeLoad:n});var o=e.extend({},e.tools.overlay.conf);return n=e.extend(!0,o,n),this.each(function(){r=new t(e(this),n),i.push(r),e(this).data("overlay",r)}),n.api?r:this}}(jQuery),function(e){var t=e.tools.overlay;t.plugins=t.plugins||{},t.plugins.gallery={version:"1.0.0",conf:{imgId:"img",next:".next",prev:".prev",info:".info",progress:".progress",disabledClass:"disabled",activeClass:"active",opacity:.8,speed:"slow",template:"<strong>${title}</strong> <span>Image ${index} of ${total}</span>",autohide:!0,preload:!0,api:!1}},e.fn.gallery=function(n){function r(t){m.fadeIn(),g.hide(),v.hide();var n=t.attr("href"),i=new Image;i.onload=function(){m.fadeOut();var r=e("#"+l.imgId,d);r.length||(r=e("<img/>").attr("id",l.imgId).css("visibility","hidden"),d.prepend(r)),r.attr("src",n).css("visibility","hidden");var o=i.width,s=(e(window).width()-o)/2;c=u.index(u.filter("[href="+n+"]")),u.removeClass(l.activeClass).eq(c).addClass(l.activeClass);var a=l.disabledClass;g.removeClass(a),0===c&&f.addClass(a),c==u.length-1&&h.addClass(a);var y=l.template.replace("${title}",t.attr("title")||t.data("title")).replace("${index}",c+1).replace("${total}",u.length),w=parseInt(p.css("paddingLeft"),10)+parseInt(p.css("paddingRight"),10);p.html(y).css({width:o-w}),d.animate({width:o,height:i.height,left:s},l.speed,function(){r.hide().css("visibility","visible").fadeIn(function(){l.autohide||(g.fadeIn(),v.show())})})},i.onerror=function(){d.fadeIn().html("Cannot find image "+n)},i.src=n,l.preload&&u.filter(":eq("+(c-1)+"), :eq("+(c+1)+")").each(function(){var t=new Image;t.src=e(this).attr("href")})}function o(e,t){e.click(function(){if(!e.hasClass(l.disabledClass)){var n=u.eq(i=c+(t?1:-1));n.length&&r(n)}})}function s(){d.is(":animated")||(g.show(),v.show())}var a,l=e.extend({},t.plugins.gallery.conf);e.extend(l,n),a=this.overlay();var c,u=this,d=a.getOverlay(),h=d.find(l.next),f=d.find(l.prev),p=d.find(l.info),m=d.find(l.progress),g=f.add(h).add(p).css({opacity:l.opacity}),v=a.getClosers();o(h,!0),o(f),e(document).keydown(function(e){if(d.is(":visible")&&!e.altKey&&!e.ctrlKey){if(37==e.keyCode||39==e.keyCode){var t=37==e.keyCode?f:h;return t.click(),e.preventDefault()}return!0}}),l.autohide&&d.hover(s,function(){g.fadeOut(),v.hide()}).mousemove(s);var y;return this.each(function(){var t=e(this),n=e(this).overlay();n.onBeforeLoad(function(){r(t)}),n.onClose(function(){u.removeClass(l.activeClass)})}),l.api?y:this}}(jQuery),function(e){function t(e){var t=e.offset();return[t.top+e.height()/2,t.left+e.width()/2]}var n=e.tools.overlay;n.effects=n.effects||{},n.effects.apple={version:"1.0.1"},e.extend(n.conf,{start:{absolute:!0,top:null,left:null},fadeInSpeed:"fast",zIndex:9999});var i=function(n){var i=this.getOverlay(),r=this.getConf(),o=this.getTrigger(),s=this,a=i.outerWidth({margin:!0}),l=i.data("img");if(!l){var c=i.css("backgroundImage");if(!c)throw"background-image CSS property not set for overlay";c=c.substring(c.indexOf("(")+1,c.indexOf(")")).replace(/\"/g,""),i.css("backgroundImage","none"),l=e('<img src="'+c+'"/>'),l.css({border:0,position:"absolute",display:"none"}).width(a),e("body").append(l),i.data("img",l)}var u=e(window),d=r.start.top||Math.round(u.height()/2),h=r.start.left||Math.round(u.width()/2);if(o){var f=t(o);d=f[0],h=f[1]}r.start.absolute||(d+=u.scrollTop(),h+=u.scrollLeft()),l.css({top:d,left:h,width:0,zIndex:r.zIndex}).show(),l.animate({top:i.css("top"),left:i.css("left"),width:a},r.speed,function(){i.css("zIndex",r.zIndex+1).fadeIn(r.fadeInSpeed,function(){s.isOpened()&&!e(this).index(i)?n.call():i.hide()})})},r=function(e){var n=this.getOverlay(),i=this.getConf(),r=this.getTrigger(),o=i.start.top,s=i.start.left;if(n.hide(),r){var a=t(r);o=a[0],s=a[1]}n.data("img").animate({top:o,left:s,width:0},i.closeSpeed,e)};n.addEffect("apple",i,r)}(jQuery),function(e){function t(){if(e.browser.msie){var t=e(document).height(),n=e(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,20>t-n?n:t]}return[e(window).width(),e(document).height()]}function n(n,i){var r=this,o=e(this),s=null,a=!1,l=0;e.each(i,function(t,n){e.isFunction(n)&&o.bind(t,n)}),e(window).resize(function(){r.fit()}),e.extend(this,{getMask:function(){return s},getExposed:function(){return n},getConf:function(){return i},isLoaded:function(){return a},load:function(c){if(a)return r;if(l=n.eq(0).css("zIndex"),i.maskId&&(s=e("#"+i.maskId)),!s||!s.length){var u=t();s=e("<div/>").css({position:"absolute",top:0,left:0,width:u[0],height:u[1],display:"none",opacity:0,zIndex:i.zIndex}),i.maskId&&s.attr("id",i.maskId),e("body").append(s);var d=s.css("backgroundColor");d&&"transparent"!=d&&"rgba(0, 0, 0, 0)"!=d||s.css("backgroundColor",i.color),i.closeOnEsc&&e(document).bind("keydown.unexpose",function(e){27==e.keyCode&&r.close()}),i.closeOnClick&&s.bind("click.unexpose",function(e){r.close(e)})}if(c=c||e.Event(),c.type="onBeforeLoad",o.trigger(c),c.isDefaultPrevented())return r;e.each(n,function(){var t=e(this);/relative|absolute|fixed/i.test(t.css("position"))||t.css("position","relative")}),n.css({zIndex:Math.max(i.zIndex+1,"auto"==l?0:l)});var h=s.height();return this.isLoaded()||s.css({opacity:0,display:"block"}).fadeTo(i.loadSpeed,i.opacity,function(){s.height()!=h&&s.css("height",h),c.type="onLoad",o.trigger(c)}),a=!0,r},close:function(t){return a?(t=t||e.Event(),t.type="onBeforeClose",o.trigger(t),t.isDefaultPrevented()?r:(s.fadeOut(i.closeSpeed,function(){t.type="onClose",o.trigger(t),n.css({zIndex:e.browser.msie?l:null})}),a=!1,r)):r},fit:function(){if(s){var e=t();s.css({width:e[0],height:e[1]})}},bind:function(e,t){return o.bind(e,t),r},unbind:function(e){return o.unbind(e),r}}),e.each("onBeforeLoad,onLoad,onBeforeClose,onClose".split(","),function(e,t){r[t]=function(e){return r.bind(t,e)}})}e.tools=e.tools||{},e.tools.expose={version:"1.0.5",conf:{maskId:null,loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:.8,color:"#456",api:!1}},e.fn.expose=function(t){var i=this.eq("number"==typeof t?t:0).data("expose");if(i)return i;"string"==typeof t&&(t={color:t});var r=e.extend({},e.tools.expose.conf);return t=e.extend(r,t),this.each(function(){i=new n(e(this),t),e(this).data("expose",i)}),t.api?i:this}}(jQuery),function(){function e(e){console.log("$f.fireEvent",[].slice.call(e))}function t(e){if(!e||"object"!=typeof e)return e;var n=new e.constructor;for(var i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function n(e,t){if(e){var n,i=0,r=e.length;if(void 0===r){for(n in e)if(t.call(e[n],n,e[n])===!1)break}else for(var o=e[0];r>i&&t.call(o,i,o)!==!1;o=e[++i]);return e}}function i(e){return document.getElementById(e)}function r(e,t,i){return"object"!=typeof t?e:(e&&t&&n(t,function(t,n){i&&"function"==typeof n||(e[t]=n)}),e)}function o(e){var t=e.indexOf(".");if(-1!=t){var i=e.substring(0,t)||"*",r=e.substring(t+1,e.length),o=[];return n(document.getElementsByTagName(i),function(){this.className&&-1!=this.className.indexOf(r)&&o.push(this)}),o}}function s(e){return e=e||window.event,e.preventDefault?(e.stopPropagation(),e.preventDefault()):(e.returnValue=!1,e.cancelBubble=!0),!1}function a(e,t,n){e[t]=e[t]||[],e[t].push(n)}function l(){return"_"+(""+Math.random()).substring(2,10)}function c(o,c,u){function p(){function e(e){return T.isLoaded()||T._fireEvent("onBeforeClick")===!1||T.load(),s(e)}$f(o)?($f(o).getParent().innerHTML="",w=$f(o).getIndex(),f[w]=T):(f.push(T),w=f.length-1),E=parseInt(o.style.height,10)||o.clientHeight,"string"==typeof c&&(c={src:c}),v=o.id||"fp"+l(),y=c.id||v+"_api",c.id=y,u.playerId=v,"string"==typeof u&&(u={clip:{url:u}}),"string"==typeof u.clip&&(u.clip={url:u.clip}),u.clip=u.clip||{},o.getAttribute("href",2)&&!u.clip.url&&(u.clip.url=o.getAttribute("href",2)),g=new d(u.clip,-1,T),u.playlist=u.playlist||[u.clip];var t=0;n(u.playlist,function(){var e=this;"object"==typeof e&&e.length&&(e={url:""+e}),n(u.clip,function(t,n){void 0!==n&&void 0===e[t]&&"function"!=typeof n&&(e[t]=n)}),u.playlist[t]=e,e=new d(e,t,T),_.push(e),t++}),n(u,function(e,t){"function"==typeof t&&(g[e]?g[e](t):a(A,e,t),delete u[e])}),n(u.plugins,function(e,t){t&&(C[e]=new h(e,t,T))}),u.plugins&&void 0!==u.plugins.controls||(C.controls=new h("controls",null,T)),C.canvas=new h("canvas",null,T),c.bgcolor=c.bgcolor||"#000000",c.version=c.version||[9,0],c.expressInstall="http://www.flowplayer.org/swf/expressinstall.swf",m=o.innerHTML,""!==m.replace(/\s/g,"")?o.addEventListener?o.addEventListener("click",e,!1):o.attachEvent&&o.attachEvent("onclick",e):(o.addEventListener&&o.addEventListener("click",s,!1),T.load())}var m,g,v,y,w,b,x,E,T=this,S=null,_=[],C={},A={};r(T,{id:function(){return v},isLoaded:function(){return null!==S},getParent:function(){return o},hide:function(e){return e&&(o.style.height="0px"),S&&(S.style.height="0px"),T},show:function(){return o.style.height=E+"px",S&&(S.style.height=x+"px"),T},isHidden:function(){return S&&0===parseInt(S.style.height,10)},load:function(e){return S||T._fireEvent("onBeforeLoad")===!1||(n(f,function(){this.unload()}),m=o.innerHTML,m&&!flashembed.isSupported(c.version)&&(o.innerHTML=""),flashembed(o,c,{config:u}),e&&(e.cached=!0,a(A,"onLoad",e))),T},unload:function(){if(""!==m.replace(/\s/g,"")){if(T._fireEvent("onBeforeUnload")===!1)return T;try{S&&(S.fp_close(),T._fireEvent("onUnload"))}catch(e){}S=null,o.innerHTML=m}return T},getClip:function(e){return void 0===e&&(e=b),_[e]},getCommonClip:function(){return g},getPlaylist:function(){return _},getPlugin:function(e){var t=C[e];if(!t&&T.isLoaded()){var n=T._api().fp_getPlugin(e);n&&(t=new h(e,n,T),C[e]=t)}return t},getScreen:function(){return T.getPlugin("screen")},getControls:function(){return T.getPlugin("controls")},getConfig:function(e){return e?t(u):u},getFlashParams:function(){return c},loadPlugin:function(e,t,n,i){"function"==typeof n&&(i=n,n={});var r=i?l():"_";T._api().fp_loadPlugin(e,t,n,r);var o={};o[r]=i;var s=new h(e,null,T,o);return C[e]=s,s},getState:function(){return S?S.fp_getState():-1},play:function(e,t){function n(){void 0!==e?T._api().fp_play(e,t):T._api().fp_play()}return S?n():T.load(function(){n()}),T},getVersion:function(){var e="flowplayer.js 3.1.4";if(S){var t=S.fp_getVersion();return t.push(e),t}return e},_api:function(){if(!S)throw"Flowplayer "+T.id()+" not loaded when calling an API method";return S},setClip:function(e){return T.setPlaylist([e]),T},getIndex:function(){return w}}),n("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut".split(","),function(){var e="on"+this;if(-1!=e.indexOf("*")){e=e.substring(0,e.length-1);var t="onBefore"+e.substring(2);T[t]=function(e){return a(A,t,e),T}}T[e]=function(t){return a(A,e,t),T}}),n("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed".split(","),function(){var e=this;T[e]=function(t,n){if(!S)return T;var i=null;return i=void 0!==t&&void 0!==n?S["fp_"+e](t,n):void 0===t?S["fp_"+e]():S["fp_"+e](t),"undefined"===i||void 0===i?T:i}}),T._fireEvent=function(t){"string"==typeof t&&(t=[t]);var r=t[0],o=t[1],s=t[2],a=t[3],l=0;if(u.debug&&e(t),S||"onLoad"!=r||"player"!=o||(S=S||i(y),x=S.clientHeight,n(_,function(){this._fireEvent("onLoad")}),n(C,function(e,t){t._fireEvent("onUpdate")}),g._fireEvent("onLoad")),"onLoad"!=r||"player"==o){if("onError"==r&&("string"==typeof o||"number"==typeof o&&"number"==typeof s)&&(o=s,s=a),"onContextMenu"==r)return n(u.contextMenu[o],function(e,t){t.call(T)}),void 0;if("onPluginEvent"==r){var c=o.name||o,h=C[c];return h&&(h._fireEvent("onUpdate",o),h._fireEvent(s,t.slice(3))),void 0}if("onPlaylistReplace"==r){_=[];var f=0;n(o,function(){_.push(new d(this,f++,T))})}if("onClipAdd"==r){if(o.isInStream)return;for(o=new d(o,s,T),_.splice(s,0,o),l=s+1;l<_.length;l++)_[l].index++}var p=!0;if("number"==typeof o&&o<_.length){b=o;var m=_[o];m&&(p=m._fireEvent(r,s,a)),m&&p===!1||(p=g._fireEvent(r,s,a,m))}return n(A[r],function(){return p=this.call(T,o,s),this.cached&&A[r].splice(l,1),p===!1?!1:(l++,void 0)}),p}},"string"==typeof o?flashembed.domReady(function(){var e=i(o);if(!e)throw"Flowplayer cannot access element: "+o;o=e,p()}):p()}function u(e){this.length=e.length,this.each=function(t){n(e,t)},this.size=function(){return e.length}}var d=function(e,t,i){var o=this,s={},c={};if(o.index=t,"string"==typeof e&&(e={url:e}),r(this,e,!0),n("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop".split(","),function(){var e="on"+this;if(-1!=e.indexOf("*")){e=e.substring(0,e.length-1);var n="onBefore"+e.substring(2);o[n]=function(e){return a(c,n,e),o}}o[e]=function(t){return a(c,e,t),o},-1==t&&(o[n]&&(i[n]=o[n]),o[e]&&(i[e]=o[e]))}),r(this,{onCuepoint:function(e,n){if(1==arguments.length)return s.embedded=[null,e],o;"number"==typeof e&&(e=[e]);var r=l();return s[r]=[e,n],i.isLoaded()&&i._api().fp_addCuepoints(e,t,r),o},update:function(e){r(o,e),i.isLoaded()&&i._api().fp_updateClip(e,t);var n=i.getConfig(),s=-1==t?n.clip:n.playlist[t];r(s,e,!0)},_fireEvent:function(e,a,l,u){if("onLoad"==e)return n(s,function(e,n){n[0]&&i._api().fp_addCuepoints(n[0],t,e)}),!1;if(u=u||o,"onCuepoint"==e){var d=s[a];if(d)return d[1].call(i,u,l)}a&&-1!="onBeforeBegin,onMetaData,onStart,onUpdate,onResume".indexOf(e)&&(r(u,a),a.metaData&&(u.duration?u.fullDuration=a.metaData.duration:u.duration=a.metaData.duration));var h=!0;return n(c[e],function(){h=this.call(i,u,a,l)}),h}}),e.onCuepoint){var u=e.onCuepoint;o.onCuepoint.apply(o,"function"==typeof u?[u]:u),delete e.onCuepoint}n(e,function(t,n){"function"==typeof n&&(a(c,t,n),delete e[t])}),-1==t&&(i.onCuepoint=this.onCuepoint)},h=function(e,t,i,o){var s={},a=this,c=!1;o&&r(s,o),n(t,function(e,n){"function"==typeof n&&(s[e]=n,delete t[e])}),r(this,{animate:function(n,r,o){if(!n)return a;if("function"==typeof r&&(o=r,r=500),"string"==typeof n){var c=n;n={},n[c]=r,r=500}if(o){var u=l();s[u]=o}return void 0===r&&(r=500),t=i._api().fp_animate(e,n,r,u),a},css:function(n,o){if(void 0!==o){var s={};s[n]=o,n=s}return t=i._api().fp_css(e,n),r(a,t),a},show:function(){return this.display="block",i._api().fp_showPlugin(e),a},hide:function(){return this.display="none",i._api().fp_hidePlugin(e),a},toggle:function(){return this.display=i._api().fp_togglePlugin(e),a},fadeTo:function(t,n,r){if("function"==typeof n&&(r=n,n=500),r){var o=l();s[o]=r}return this.display=i._api().fp_fadeTo(e,t,n,o),this.opacity=t,a},fadeIn:function(e,t){return a.fadeTo(1,e,t)},fadeOut:function(e,t){return a.fadeTo(0,e,t)},getName:function(){return e},getPlayer:function(){return i},_fireEvent:function(t,o){if("onUpdate"==t){var l=i._api().fp_getPlugin(e);if(!l)return;r(a,l),delete a.methods,c||(n(l.methods,function(){var t=""+this;a[t]=function(){var n=[].slice.call(arguments),r=i._api().fp_invoke(e,t,n);return"undefined"===r||void 0===r?a:r}}),c=!0)}var u=s[t];u&&(u.apply(a,o),"_"==t.substring(0,1)&&delete s[t])}})},f=[];window.flowplayer=window.$f=function(){var e=null,r=arguments[0];if(!arguments.length)return n(f,function(){return this.isLoaded()?(e=this,!1):void 0}),e||f[0];if(1==arguments.length)return"number"==typeof r?f[r]:"*"==r?new u(f):(n(f,function(){return this.id()==r.id||this.id()==r||this.getParent()==r?(e=this,!1):void 0}),e);if(arguments.length>1){var s=arguments[1],a=3==arguments.length?arguments[2]:{};if("string"==typeof r){if(-1!=r.indexOf(".")){var l=[];return n(o(r),function(){l.push(new c(this,t(s),t(a)))}),new u(l)}var d=i(r);return new c(null!==d?d:r,s,a)}if(r)return new c(r,s,a)}return null},r(window.$f,{fireEvent:function(){var e=[].slice.call(arguments),t=$f(e[0]);return t?t._fireEvent(e.slice(1)):null},addPlugin:function(e,t){return c.prototype[e]=t,$f},each:n,extend:r}),"function"==typeof jQuery&&(jQuery.prototype.flowplayer=function(e,n){if(!arguments.length||"number"==typeof arguments[0]){var i=[];return this.each(function(){var e=$f(this);e&&i.push(e)}),arguments.length?i[arguments[0]]:new u(i)}return this.each(function(){$f(this,t(e),n?t(n):{})})})}(),function(){function e(){if(c.done)return!1;var e=document;if(e&&e.getElementsByTagName&&e.getElementById&&e.body){clearInterval(c.timer),c.timer=null;for(var t=0;t<c.ready.length;t++)c.ready[t].call();c.ready=null,c.done=!0}}function t(e,t){if(t)for(key in t)t.hasOwnProperty(key)&&(e[key]=t[key]);return e}function n(e){switch(i(e)){case"string":return e=e.replace(new RegExp('(["\\\\])',"g"),"\\$1"),e=e.replace(/^\s?(\d+)%/,"$1pct"),'"'+e+'"';case"array":return"["+r(e,function(e){return n(e)}).join(",")+"]";case"function":return'"function()"';case"object":var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push('"'+o+'":'+n(e[o]));return"{"+t.join(",")+"}"}return String(e).replace(/\s/g," ").replace(/\'/g,'"')}function i(e){if(null===e||void 0===e)return!1;var t=typeof e;return"object"==t&&e.push?"array":t}function r(e,t){var n=[];for(var i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function o(e,i){var r=t({},e),o=document.all,s='<object width="'+r.width+'" height="'+r.height+'"';o&&!r.id&&(r.id="_"+(""+Math.random()).substring(9)),r.id&&(s+=' id="'+r.id+'"'),r.cachebusting&&(r.src+=(-1!=r.src.indexOf("?")?"&":"?")+Math.random()),s+=r.w3c||!o?' data="'+r.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',s+=">",(r.w3c||o)&&(s+='<param name="movie" value="'+r.src+'" />'),r.width=r.height=r.id=r.w3c=r.src=null;for(var a in r)null!==r[a]&&(s+='<param name="'+a+'" value="'+r[a]+'" />');var l="";if(i){for(var c in i)null!==i[c]&&(l+=c+"="+("object"==typeof i[c]?n(i[c]):i[c])+"&");l=l.substring(0,l.length-1),s+='<param name="flashvars" value=\''+l+"' />"}return s+="</object>"}function s(e,n,i){var r=flashembed.getVersion();t(this,{getContainer:function(){return e},getConf:function(){return n},getVersion:function(){return r},getFlashvars:function(){return i},getApi:function(){return e.firstChild},getHTML:function(){return o(n,i)}});var s=n.version,a=n.expressInstall,l=!s||flashembed.isSupported(s);if(l?(n.onFail=n.version=n.expressInstall=null,e.innerHTML=o(n,i)):s&&a&&flashembed.isSupported([6,65])?(t(n,{src:a}),i={MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title},e.innerHTML=o(n,i)):""!==e.innerHTML.replace(/\s/g,"")||(e.innerHTML="<h2>Flash version "+s+" or greater is required</h2><h3>"+(r[0]>0?"Your version is "+r:"You have no flash plugin installed")+"</h3>"+("A"==e.tagName?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='http://www.adobe.com/go/getflashplayer'>here</a></p>"),"A"==e.tagName&&(e.onclick=function(){location.href="http://www.adobe.com/go/getflashplayer"})),!l&&n.onFail){var c=n.onFail.call(this);"string"==typeof c&&(e.innerHTML=c)}document.all&&(window[n.id]=document.getElementById(n.id))}var a="function"==typeof jQuery,l={width:"100%",height:"100%",allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:null,onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};a&&(jQuery.tools=jQuery.tools||{},jQuery.tools.flashembed={version:"1.0.4",conf:l});var c=a?jQuery:function(t){return c.done?t():(c.timer?c.ready.push(t):(c.ready=[t],c.timer=setInterval(e,13)),void 0)};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}}),window.flashembed=function(e,n,i){if("string"==typeof e){var r=document.getElementById(e);if(!r)return c(function(){flashembed(e,n,i)}),void 0;e=r}if(e){"string"==typeof n&&(n={src:n});var o=t({},l);return t(o,n),new s(e,o,i)}},t(window.flashembed,{getVersion:function(){var e=[0,0];if(navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"]){var t=navigator.plugins["Shockwave Flash"].description;
if("undefined"!=typeof t){t=t.replace(/^.*\s+(\S+\s+\S+$)/,"$1");var n=parseInt(t.replace(/^(.*)\..*$/,"$1"),10),i=/r/.test(t)?parseInt(t.replace(/^.*r(.*)$/,"$1"),10):0;e=[n,i]}}else if(window.ActiveXObject){try{var r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(o){try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e=[6,0],r.AllowScriptAccess="always"}catch(s){if(6==e[0])return e}try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(a){}}"object"==typeof r&&(t=r.GetVariable("$version"),"undefined"!=typeof t&&(t=t.replace(/^\S+\s+(.*)$/,"$1").split(","),e=[parseInt(t[0],10),parseInt(t[2],10)]))}return e},isSupported:function(e){var t=flashembed.getVersion(),n=t[0]>e[0]||t[0]==e[0]&&t[1]>=e[1];return n},domReady:c,asString:n,getHTML:o}),a&&(jQuery.fn.flashembed=function(e,t){var n=null;return this.each(function(){n=flashembed(this,e,t)}),e.api===!1?this:n})}(),$f.addPlugin("controls",function(e,t){function n(e){return"undefined"==typeof e&&(e=window.event),"undefined"==typeof e.layerX&&(e.layerX=e.offsetX),"undefined"==typeof e.layerY&&(e.layerY=e.offsetY),e}function i(e){return e.clientWidth}function r(e){return e.offsetLeft}function o(e,t,i,r){function o(){}function s(n){return n>i?!1:t>n?!1:(e.style.left=n+"px",!0)}function a(){document.onmousemove=null,document.onmouseup=null,e.onDragEnd(parseInt(e.style.left,10)),c=!1}function l(t){t=n(t);var i=t.clientX-r;return s(i)&&(c=!0,e.onDrag(i)),!1}var c=!1;return e.onDragStart=e.onDragStart||o,e.onDragEnd=e.onDragEnd||o,e.onDrag=e.onDrag||o,e.onmousedown=function(t){return t=n(t),e.onDragStart(parseInt(e.style.left,10)),document.onmousemove=l,document.onmouseup=a,!1},this.dragTo=function(t){s(t)&&e.onDragEnd(t)},this.setMax=function(e){i=e},this.isDragging=function(){return c},this}function s(e,t){if(t)for(key in t)key&&(e[key]=t[key])}function a(t){for(var n=e.getElementsByTagName("*"),i=new RegExp("(^|\\s)"+t+"(\\s|$)"),r=0;r<n.length;r++)if(i.test(n[r].className))return n[r]}function l(e){return e=parseInt(e,10),e>=10?e:"0"+e}function c(e){var t=Math.floor(e/3600),n=Math.floor(e/60);return e-=60*n,t>=1?(n-=60*t,l(t)+":"+l(n)+":"+l(e)):l(n)+":"+l(e)}function u(e,t){return"<span>"+c(e)+"</span> <strong>"+c(t)+"</strong>"}function d(e,t){return parseInt(Math.min(e/t*b,b-x/2),10)}var h=this,f={playHeadClass:"playhead",trackClass:"track",playClass:"play",pauseClass:"pause",bufferClass:"buffer",progressClass:"progress",timeClass:"time",muteClass:"mute",unmuteClass:"unmute",duration:0,template:'<a class="play">play</a><div class="track"><div class="buffer"></div><div class="progress"></div><div class="playhead"></div></div><div class="time"></div><a class="mute">mute</a>'};if(s(f,t),"string"==typeof e&&(e=document.getElementById(e)),e){e.innerHTML.replace(/\s/g,"")||(e.innerHTML=f.template);var p=a(f.playHeadClass),m=a(f.bufferClass),g=a(f.progressClass),v=a(f.trackClass),y=a(f.timeClass),w=a(f.muteClass);y.innerHTML=u(0,f.duration);var b=i(v),x=i(p),E=new o(p,0,0,r(e)+r(v)+x/2);v.onclick=function(e){return e=n(e),e.target==p?!1:(E.dragTo(e.layerX-x/2),void 0)};var T=a(f.playClass);T.onclick=function(){h.isLoaded()?h.toggle():h.play()},w.onclick=function(){h.getStatus().muted?h.unmute():h.mute()};var S=null;return h.onStart(function(e){var t=e.duration||0;clearInterval(S),S=setInterval(function(){var n=h.getStatus();if(n.time&&(y.innerHTML=u(n.time,e.duration)),void 0===n.time)return clearInterval(S),void 0;var i=d(n.bufferEnd,t);m.style.width=i+"px",E.setMax(i),h.isPaused()||E.isDragging()||(i=d(n.time,t),g.style.width=i+"px",p.style.left=i-x/2+"px")},500)}),h.onBegin(function(){T.className=f.pauseClass}),h.onPause(function(){T.className=f.playClass}),h.onResume(function(){T.className=f.pauseClass}),h.onMute(function(){w.className=f.unmuteClass}),h.onUnmute(function(){w.className=f.muteClass}),h.onFinish(function(){clearInterval(S)}),h.onUnload(function(){y.innerHTML=u(0,f.duration)}),p.onDragEnd=function(e){var t=parseInt(100*(e/b),10)+"%";g.style.width=e+"px",h.isLoaded()&&h.seek(t)},p.onDrag=function(e){g.style.width=e+"px"},h}}),function(e){$f.addPlugin("playlist",function(t,n){function i(t){var n=p;return e.each(t,function(t,i){e.isFunction(i)||(n=n.replace("${"+t+"}",i).replace("$%7B"+t+"%7D",i))}),n}function r(){h=t.children().unbind("click.playlist").bind("click.playlist",function(){return s(e(this),h.index(this))})}function o(){t.empty(),e.each(c.getPlaylist(),function(){t.append(i(this))}),r()}function s(e,t){return e.hasClass(u.playingClass)||e.hasClass(u.pausedClass)?c.toggle():(e.addClass(u.progressClass),c.play(t)),!1}function a(){d&&(h=t.children()),h.removeClass(u.playingClass),h.removeClass(u.pausedClass),h.removeClass(u.progressClass)}function l(e){return d?h.filter("[href="+e.originalUrl+"]"):h.eq(e.index)}var c=this,u={playingClass:"playing",pausedClass:"paused",progressClass:"progress",template:'<a href="${url}">${title}</a>',loop:!1,playOnClick:!0,manual:!1};e.extend(u,n),t=e(t);var d=c.getPlaylist().length<=1||u.manual,h=null;if(d){h=t.children(),e.isFunction(h.live)?e(t.selector+"> *").live("click",function(){var t=e(this);return s(t,t.attr("href"))}):h.click(function(){var t=e(this);return s(t,t.attr("href"))});var f=c.getClip(0);!f.url&&u.playOnClick&&f.update({url:h.eq(0).attr("href")})}else{var p=t.is(":empty")?u.template:t.html();o()}return c.onBegin(function(e){a(),l(e).addClass(u.playingClass)}),c.onPause(function(e){l(e).removeClass(u.playingClass).addClass(u.pausedClass)}),c.onResume(function(e){l(e).removeClass(u.pausedClass).addClass(u.playingClass)}),u.loop||d||c.onBeforeFinish(function(e){return!e.isInStream&&e.index<h.length-1?!1:void 0}),d&&u.loop&&c.onBeforeFinish(function(e){var t=l(e);return t.next().length?t.next().click():h.eq(0).click(),!1}),c.onUnload(function(){a()}),d||c.onPlaylistReplace(function(){o()}),c.onClipAdd(function(e,t){h.eq(t).before(i(e)),r()}),c})}(jQuery),function(){function e(e,t){if("http"==e.substring(0,4))return e;if(t)return t+("/"!=t.substring(t.length-1)?"/":"")+e;if(t=location.protocol+"//"+location.host,"/"==e.substring(0,1))return t+e;var n=location.pathname;return n=n.substring(0,n.lastIndexOf("/")),t+n+"/"+e}$f.addPlugin("embed",function(t){var n=this,i=n.getConfig(!0),r={width:n.getParent().clientWidth||"100%",height:n.getParent().clientHeight||"100%",url:e(n.getFlashParams().src),index:-1,allowfullscreen:!0,allowscriptaccess:"always"};return $f.extend(r,t),r.src=r.url,r.w3c=!0,delete i.playerId,delete r.url,delete r.index,this.getEmbedCode=function(t,o){o="number"==typeof o?o:r.index,o>=0&&(i.playlist=[n.getPlaylist()[o]]),o=0,$f.each(i.playlist,function(){i.playlist[o++].url=e(this.url,this.baseUrl)});var s=flashembed.getHTML(r,{config:i});return t||(s=s.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")),s},n})}(),"undefined"==typeof Effect)throw"lightwindow.js requires including script.aculo.us' effects.js library!";try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var lightwindow=Class.create();lightwindow.prototype={element:null,contentToFetch:null,windowActive:!1,dataEffects:[],dimensions:{cruft:null,container:null,viewport:{height:null,width:null,offsetTop:null,offsetLeft:null}},pagePosition:{x:0,y:0},pageDimensions:{width:null,height:null},preloadImage:[],preloadedImage:[],galleries:[],resizeTo:{height:null,heightPercent:null,width:null,widthPercent:null,fixedTop:null,fixedLeft:null},scrollbarOffset:18,navigationObservers:{previous:null,next:null},containerChange:{height:0,width:0},activeGallery:!1,galleryLocation:{current:0,total:0},initialize:function(e){this.options=Object.extend({resizeSpeed:8,contentOffset:{height:20,width:20},dimensions:{image:{height:250,width:250},page:{height:250,width:250},inline:{height:250,width:250},media:{height:250,width:250},external:{height:250,width:250},titleHeight:25},classNames:{standard:"lightwindow",action:"lightwindow_action"},fileTypes:{page:["asp","aspx","cgi","cfm","htm","html","pl","php4","php3","php","php5","phtml","rhtml","shtml","txt","vbs","rb"],media:["aif","aiff","asf","avi","divx","m1v","m2a","m2v","m3u","mid","midi","mov","moov","movie","mp2","mp3","mpa","mpa","mpe","mpeg","mpg","mpg","mpga","pps","qt","rm","ram","swf","viv","vivo","wav"],image:["bmp","gif","jpg","png","tiff"]},mimeTypes:{avi:"video/avi",aif:"audio/aiff",aiff:"audio/aiff",gif:"image/gif",bmp:"image/bmp",jpeg:"image/jpeg",m1v:"video/mpeg",m2a:"audio/mpeg",m2v:"video/mpeg",m3u:"audio/x-mpequrl",mid:"audio/x-midi",midi:"audio/x-midi",mjpg:"video/x-motion-jpeg",moov:"video/quicktime",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp3:"audio/mpeg3",mpa:"audio/mpeg",mpa:"video/mpeg",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"audio/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",pdf:"application/pdf",png:"image/png",pps:"application/mspowerpoint",qt:"video/quicktime",ram:"audio/x-pn-realaudio-plugin",rm:"application/vnd.rn-realmedia",swf:"application/x-shockwave-flash",tiff:"image/tiff",viv:"video/vivo",vivo:"video/vivo",wav:"audio/wav",wmv:"application/x-mplayer2"},classids:{mov:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",swf:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",wmv:"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6"},codebases:{mov:"http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0",swf:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,0,0",wmv:"http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=6,4,5,715"},viewportPadding:10,EOLASFix:"swf,wmv,fla,flv",overlay:{opacity:.7,image:"images/black.png",presetImage:"images/black-70.png"},skin:{main:'<div id="lightwindow_container" ><div id="lightwindow_title_bar" ><div id="lightwindow_title_bar_inner" ><span id="lightwindow_title_bar_title"></span><a id="lightwindow_title_bar_close_link" >close</a></div></div><div id="lightwindow_stage" ><div id="lightwindow_contents" ></div><div id="lightwindow_navigation" ><a href="#" id="lightwindow_previous" ><span id="lightwindow_previous_title"></span></a><a href="#" id="lightwindow_next" ><span id="lightwindow_next_title"></span></a><iframe name="lightwindow_navigation_shim" id="lightwindow_navigation_shim" src="javascript:false;" frameBorder="0" scrolling="no"></iframe></div><div id="lightwindow_galleries"><div id="lightwindow_galleries_tab_container" ><a href="#" id="lightwindow_galleries_tab" ><span id="lightwindow_galleries_tab_span" class="up" >Galleries</span></a></div><div id="lightwindow_galleries_list" ></div></div></div><div id="lightwindow_data_slide" ><div id="lightwindow_data_slide_inner" ><div id="lightwindow_data_details" ><div id="lightwindow_data_gallery_container" ><span id="lightwindow_data_gallery_current"></span> of <span id="lightwindow_data_gallery_total"></span></div><div id="lightwindow_data_author_container" >by <span id="lightwindow_data_author"></span></div></div><div id="lightwindow_data_caption" ></div></div></div></div>',loading:'<div id="lightwindow_loading" ><img src="images/ajax-loading.gif" alt="loading" /><span>Loading or <a href="javascript: myLightWindow.deactivate();">Cancel</a></span><iframe name="lightwindow_loading_shim" id="lightwindow_loading_shim" src="javascript:false;" frameBorder="0" scrolling="no"></iframe></div>',iframe:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><body>{body_replace}</body></html>',gallery:{top:'<div class="lightwindow_galleries_list"><h1>{gallery_title_replace}</h1><ul>',middle:"<li>{gallery_link_replace}</li>",bottom:"</ul></div>"}},formMethod:"get",hideFlash:!1,hideGalleryTab:!1,showTitleBar:!0,animationHandler:!1,navigationHandler:!1,transitionHandler:!1,finalAnimationHandler:!1,formHandler:!1,galleryAnimationHandler:!1,showGalleryCount:!0},e||{}),this.duration=.15*(11-this.options.resizeSpeed),this._setupLinks(),this._getScroll(),this._getPageDimensions(),this._browserDimensions(),this._addLightWindowMarkup(!1),this._setupDimensions(),this.buildGalleryList()},activate:function(e,t){this._clearWindowContents(!0),this._addLoadingWindowMarkup(),this._setupWindowElements(t),this._getScroll(),this._browserDimensions(),this._setupDimensions(),this._toggleTroubleElements("hidden",!1),this._displayLightWindow("block","hidden"),this._setStatus(!0),this._monitorKeyboard(!0),this._prepareIE(!0),this._loadWindow()},deactivate:function(){this.windowActive=!1,this.activeGallery=!1,this.options.hideGalleryTab||this._handleGalleryAnimation(!1),this.animating=!1,this.element=null,this._displayLightWindow("none","visible"),this._clearWindowContents(!1),Effect.Queues.get("lightwindowAnimation").each(function(e){e.cancel()}),this._prepareIE(!1),this._setupDimensions(),this._toggleTroubleElements("visible",!1),this._monitorKeyboard(!1)},createWindow:function(e){this._processLink($(e))},activateWindow:function(e){this.element=Object.extend({href:null,title:null,author:null,caption:null,rel:null,top:null,left:null,type:null,showImages:null,height:null,width:null,loadingAnimation:null,iframeEmbed:null,form:null},e||{}),this.contentToFetch=this.element.href,this.windowType=this.element.type?this.element.type:this._fileType(this.element.href),this._clearWindowContents(!0),this._addLoadingWindowMarkup(),this._getScroll(),this._browserDimensions(),this._setupDimensions(),this._toggleTroubleElements("hidden",!1),this._displayLightWindow("block","hidden"),this._setStatus(!0),this._monitorKeyboard(!0),this._prepareIE(!0),this._loadWindow()},submitForm:function(e){this.options.formHandler?this.options.formHandler(e):this._defaultFormHandler(e)},openWindow:function(e){var e=$(e);this.windowActive=!0,this._clearWindowContents(!0),this._addLoadingWindowMarkup(),this._setupWindowElements(e),this._setStatus(!0),this._handleTransition()},navigateWindow:function(e){this._handleNavigation(!1),"previous"==e?this.openWindow(this.navigationObservers.previous):"next"==e&&this.openWindow(this.navigationObservers.next)},buildGalleryList:function(){var e,t="";for(i in this.galleries)if("object"==typeof this.galleries[i]){t+=this.options.skin.gallery.top.replace("{gallery_title_replace}",unescape(i));for(j in this.galleries[i])"object"==typeof this.galleries[i][j]&&(e='<a href="#" id="lightwindow_gallery_'+i+"_"+j+'" >'+unescape(j)+"</a>",t+=this.options.skin.gallery.middle.replace("{gallery_link_replace}",e));t+=this.options.skin.gallery.bottom}new Insertion.Top("lightwindow_galleries_list",t);for(i in this.galleries)if("object"==typeof this.galleries[i])for(j in this.galleries[i])"object"==typeof this.galleries[i][j]&&(Event.observe($("lightwindow_gallery_"+i+"_"+j),"click",this.openWindow.bind(this,this.galleries[i][j][0]),!1),$("lightwindow_gallery_"+i+"_"+j).onclick=function(){return!1})},_setupLinks:function(){var e=$$("."+this.options.classNames.standard);e.each(function(e){this._processLink(e)}.bind(this))},_processLink:function(e){("image"==this._fileType(e.getAttribute("href"))||"media"==this._fileType(e.getAttribute("href")))&&(gallery=this._getGalleryInfo(e.rel))&&(this.galleries[gallery[0]]||(this.galleries[gallery[0]]=new Array),this.galleries[gallery[0]][gallery[1]]||(this.galleries[gallery[0]][gallery[1]]=new Array),this.galleries[gallery[0]][gallery[1]].push(e));var t=e.getAttribute("href");t.indexOf("?")>-1&&(t=t.substring(0,t.indexOf("?")));var n=t.substring(t.indexOf("#")+1);$(n)&&$(n).setStyle({display:"none"}),Event.observe(e,"click",this.activate.bindAsEventListener(this,e),!1),e.onclick=function(){return!1}},_setupActions:function(){var e=$$("#lightwindow_container ."+this.options.classNames.action);e.each(function(e){Event.observe(e,"click",this[e.getAttribute("rel")].bindAsEventListener(this,e),!1),e.onclick=function(){return!1}}.bind(this))},_addLightWindowMarkup:function(){var e=Element.extend(document.createElement("div"));e.setAttribute("id","lightwindow_overlay"),Prototype.Browser.Gecko?e.setStyle({backgroundImage:"url("+this.options.overlay.presetImage+")",backgroundRepeat:"repeat",height:this.pageDimensions.height+"px"}):e.setStyle({opacity:this.options.overlay.opacity,backgroundImage:"url("+this.options.overlay.image+")",backgroundRepeat:"repeat",height:this.pageDimensions.height+"px"});var t=document.createElement("div");t.setAttribute("id","lightwindow"),t.innerHTML=this.options.skin.main;var n=document.getElementsByTagName("body")[0];n.appendChild(e),n.appendChild(t),$("lightwindow_title_bar_close_link")&&(Event.observe("lightwindow_title_bar_close_link","click",this.deactivate.bindAsEventListener(this)),$("lightwindow_title_bar_close_link").onclick=function(){return!1}),Event.observe($("lightwindow_previous"),"click",this.navigateWindow.bind(this,"previous"),!1),$("lightwindow_previous").onclick=function(){return!1},Event.observe($("lightwindow_next"),"click",this.navigateWindow.bind(this,"next"),!1),$("lightwindow_next").onclick=function(){return!1},this.options.hideGalleryTab||(Event.observe($("lightwindow_galleries_tab"),"click",this._handleGalleryAnimation.bind(this,!0),!1),$("lightwindow_galleries_tab").onclick=function(){return!1}),Prototype.Browser.IE?Event.observe(document,"mousewheel",this._stopScrolling.bindAsEventListener(this),!1):Event.observe(window,"DOMMouseScroll",this._stopScrolling.bindAsEventListener(this),!1),Event.observe(e,"click",this.deactivate.bindAsEventListener(this),!1),e.onclick=function(){return!1}},_addLoadingWindowMarkup:function(){$("lightwindow_contents").innerHTML+=this.options.skin.loading},_setupWindowElements:function(e){this.element=e,this.element.title=e.getAttribute("title"),this.element.author=e.getAttribute("author"),this.element.caption=e.getAttribute("caption"),this.element.rel=e.getAttribute("rel"),this.element.params=e.getAttribute("params"),this.contentToFetch=this.element.href,this.windowType=this._getParameter("lightwindow_type")?this._getParameter("lightwindow_type"):this._fileType(this.contentToFetch)},_clearWindowContents:function(e){if($("lightwindow_iframe")&&Element.remove($("lightwindow_iframe")),$("lightwindow_media_primary")){try{$("lightwindow_media_primary").Stop()}catch(t){}Element.remove($("lightwindow_media_primary"))}if($("lightwindow_media_secondary")){try{$("lightwindow_media_secondary").Stop()}catch(t){}Element.remove($("lightwindow_media_secondary"))}this.activeGallery=!1,this._handleNavigation(this.activeGallery),e&&($("lightwindow_contents").innerHTML="",$("lightwindow_contents").setStyle({overflow:"hidden"}),this.windowActive||($("lightwindow_data_slide_inner").setStyle({display:"none"}),$("lightwindow_title_bar_title").innerHTML=""),$("lightwindow_data_slide").setStyle({height:"auto"})),this.resizeTo.height=null,this.resizeTo.width=null},_setStatus:function(e){this.animating=e,e&&Element.show("lightwindow_loading"),/MSIE 6./i.test(navigator.userAgent)||this._fixedWindow(e)},_fixedWindow:function(e){e?this.windowActive?(this._getScroll(),$("lightwindow").setStyle({position:"absolute",top:parseFloat($("lightwindow").getStyle("top"))+this.pagePosition.y+"px",left:parseFloat($("lightwindow").getStyle("left"))+this.pagePosition.x+"px"})):$("lightwindow").setStyle({position:"absolute"}):this.windowActive?(this._getScroll(),$("lightwindow").setStyle({position:"fixed",top:parseFloat($("lightwindow").getStyle("top"))-this.pagePosition.y+"px",left:parseFloat($("lightwindow").getStyle("left"))-this.pagePosition.x+"px"})):($("lightwindow_iframe")&&this._browserDimensions(),$("lightwindow").setStyle({position:"fixed",top:parseFloat(this._getParameter("lightwindow_top"))?parseFloat(this._getParameter("lightwindow_top"))+"px":this.dimensions.viewport.height/2+"px",left:parseFloat(this._getParameter("lightwindow_left"))?parseFloat(this._getParameter("lightwindow_left"))+"px":this.dimensions.viewport.width/2+"px"}))},_prepareIE:function(e){if(Prototype.Browser.IE){var t;if(e)var t="100%";else var t="auto";var n=document.getElementsByTagName("body")[0],i=document.getElementsByTagName("html")[0];i.style.height=n.style.height=t}},_stopScrolling:function(e){this.animating&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)},_getScroll:function(){"number"==typeof window.pageYOffset?(this.pagePosition.x=window.pageXOffset,this.pagePosition.y=window.pageYOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(this.pagePosition.x=document.body.scrollLeft,this.pagePosition.y=document.body.scrollTop):document.documentElement&&(this.pagePosition.x=document.documentElement.scrollLeft,this.pagePosition.y=document.documentElement.scrollTop)},_setScroll:function(e,t){document.documentElement.scrollLeft=e,document.documentElement.scrollTop=t},_toggleTroubleElements:function(e,t){if(t)var n=$("lightwindow_contents").getElementsByTagName("select");else var n=document.getElementsByTagName("select");for(var i=0;i<n.length;i++)n[i].style.visibility=e;if(!t){if(this.options.hideFlash){var r=document.getElementsByTagName("object");for(i=0;i!=r.length;i++)r[i].style.visibility=e;var o=document.getElementsByTagName("embed");for(i=0;i!=o.length;i++)o[i].style.visibility=e}var s=document.getElementsByTagName("iframe");for(i=0;i!=s.length;i++)s[i].style.visibility=e}},_getPageDimensions:function(){var e,t;window.innerHeight&&window.scrollMaxY?(e=document.body.scrollWidth,t=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(e=document.body.scrollWidth,t=document.body.scrollHeight):(e=document.body.offsetWidth,t=document.body.offsetHeight);var n,i;self.innerHeight?(n=self.innerWidth,i=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(n=document.documentElement.clientWidth,i=document.documentElement.clientHeight):document.body&&(n=document.body.clientWidth,i=document.body.clientHeight),this.pageDimensions.height=i>t?i:t,this.pageDimensions.width=n>e?n:e},_displayLightWindow:function(e,t){$("lightwindow_overlay").style.display=$("lightwindow").style.display=$("lightwindow_container").style.display=e,$("lightwindow_overlay").style.visibility=$("lightwindow").style.visibility=$("lightwindow_container").style.visibility=t},_setupDimensions:function(){var e,t;switch(this.windowType){case"page":e=this.options.dimensions.page.height,t=this.options.dimensions.page.width;break;case"image":e=this.options.dimensions.image.height,t=this.options.dimensions.image.width;break;case"media":e=this.options.dimensions.media.height,t=this.options.dimensions.media.width;break;case"external":e=this.options.dimensions.external.height,t=this.options.dimensions.external.width;break;case"inline":e=this.options.dimensions.inline.height,t=this.options.dimensions.inline.width;break;default:e=this.options.dimensions.page.height,t=this.options.dimensions.page.width}var n=this._getParameter("lightwindow_top")?parseFloat(this._getParameter("lightwindow_top"))+this.pagePosition.y:this.dimensions.viewport.height/2+this.pagePosition.y,i=this._getParameter("lightwindow_left")?parseFloat(this._getParameter("lightwindow_left"))+this.pagePosition.x:this.dimensions.viewport.width/2+this.pagePosition.x;$("lightwindow").setStyle({top:n+"px",left:i+"px"}),$("lightwindow_container").setStyle({height:e+"px",width:t+"px",left:-(t/2)+"px",top:-(e/2)+"px"}),$("lightwindow_contents").setStyle({height:e+"px",width:t+"px"})},_fileType:function(e){var t=new RegExp("[^.].("+this.options.fileTypes.image.join("|")+")s*$","i");if(t.test(e))return"image";if(e.indexOf("#")>-1&&document.domain==this._getDomain(e))return"inline";e.indexOf("?")>-1&&(e=e.substring(0,e.indexOf("?")));var n="unknown",i=new RegExp("[^.].("+this.options.fileTypes.page.join("|")+")s*$","i"),r=new RegExp("[^.].("+this.options.fileTypes.media.join("|")+")s*$","i");return document.domain!=this._getDomain(e)&&(n="external"),r.test(e)&&(n="media"),"external"==n||"media"==n?n:((i.test(e)||"/"==e.substr(e.length-1,e.length))&&(n="page"),n)},_fileExtension:function(e){e.indexOf("?")>-1&&(e=e.substring(0,e.indexOf("?")));for(var t="",n=e.length-1;n>-1;n--){if("."==e.charAt(n))return t;t=e.charAt(n)+t}},_monitorKeyboard:function(e){document.onkeydown=e?this._eventKeypress.bind(this):""},_eventKeypress:function(e){if(null==e)var t=event.keyCode;else var t=e.which;switch(t){case 27:this.deactivate();break;case 13:return}if(this.animating)return!1;switch(String.fromCharCode(t).toLowerCase()){case"p":this.navigationObservers.previous&&this.navigateWindow("previous");break;case"n":this.navigationObservers.next&&this.navigateWindow("next")}},_getGalleryInfo:function(e){return e?e.indexOf("[")>-1?new Array(escape(e.substring(0,e.indexOf("["))),escape(e.substring(e.indexOf("[")+1,e.indexOf("]")))):!1:!1},_getDomain:function(e){var t=e.indexOf("//"),n=t+2,i=e.substring(n,e.length),r=i.indexOf("/"),o=i.substring(0,r);if(o.indexOf(":")>-1){var s=o.indexOf(":");o=o.substring(0,s)}return o},_getParameter:function(e,t){if(!this.element)return!1;if("lightwindow_top"==e&&this.element.top)return unescape(this.element.top);if("lightwindow_left"==e&&this.element.left)return unescape(this.element.left);if("lightwindow_type"==e&&this.element.type)return unescape(this.element.type);if("lightwindow_show_images"==e&&this.element.showImages)return unescape(this.element.showImages);if("lightwindow_height"==e&&this.element.height)return unescape(this.element.height);if("lightwindow_width"==e&&this.element.width)return unescape(this.element.width);if("lightwindow_loading_animation"==e&&this.element.loadingAnimation)return unescape(this.element.loadingAnimation);if("lightwindow_iframe_embed"==e&&this.element.iframeEmbed)return unescape(this.element.iframeEmbed);if("lightwindow_form"==e&&this.element.form)return unescape(this.element.form);if(!t){if(!this.element.params)return;t=this.element.params}for(var n,i=t.split(","),r=e+"=",o=r.length,s=0;s<i.length;s++)if(i[s].substr(0,o)==r){var a=i[s].split("=");n=a[1];break}return n?unescape(n):!1},_browserDimensions:function(){Prototype.Browser.IE?(this.dimensions.viewport.height=document.documentElement.clientHeight,this.dimensions.viewport.width=document.documentElement.clientWidth):(this.dimensions.viewport.height=window.innerHeight,this.dimensions.viewport.width=document.width||document.body.offsetWidth)},_getScrollerWidth:function(){var e=Element.extend(document.createElement("div"));e.setAttribute("id","lightwindow_scroll_div"),e.setStyle({position:"absolute",top:"-10000px",left:"-10000px",width:"100px",height:"100px",overflow:"hidden"});var t=Element.extend(document.createElement("div"));t.setAttribute("id","lightwindow_content_scroll_div"),t.setStyle({width:"100%",height:"200px"}),e.appendChild(t);var n=document.getElementsByTagName("body")[0];n.appendChild(e);var i=$("lightwindow_content_scroll_div").offsetWidth;e.style.overflow="auto";var r=$("lightwindow_content_scroll_div").offsetWidth;Element.remove($("lightwindow_scroll_div")),this.scrollbarOffset=i-r},_addParamToObject:function(e,t,n,i){var r=document.createElement("param");return r.setAttribute("value",t),r.setAttribute("name",e),i&&r.setAttribute("id",i),n.appendChild(r),n},_outerHTML:function(e){if(Prototype.Browser.IE)return e.outerHTML;var t=e.cloneNode(!0),n=document.createElement("div");return n.appendChild(t),n.innerHTML},_convertToMarkup:function(e,t){var n=this._outerHTML(e).replace("</"+t+">","");if(Prototype.Browser.IE){for(var i=0;i<e.childNodes.length;i++)n+=this._outerHTML(e.childNodes[i]);n+="</"+t+">"}return n},_appendObject:function(e,t,n){if(Prototype.Browser.IE){if(n.innerHTML+=this._convertToMarkup(e,t),this.options.EOLASFix.indexOf(this._fileType(this.element.href))>-1)for(var i=document.getElementsByTagName("object"),r=0;r<i.length;r++)i[r].getAttribute("data")&&i[r].removeAttribute("data"),i[r].outerHTML=i[r].outerHTML,i[r].style.visibility="visible"}else n.appendChild(e)},_appendIframe:function(e){var t=document.createElement("iframe");t.setAttribute("id","lightwindow_iframe"),t.setAttribute("name","lightwindow_iframe"),t.setAttribute("src","about:blank"),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("frameborder","0"),t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.setAttribute("scrolling",e),this._appendObject(t,"iframe",$("lightwindow_contents"))},_writeToIframe:function(e){var t=this.options.skin.iframe;t=t.replace("{body_replace}",e),$("lightwindow_iframe").contentWindow?($("lightwindow_iframe").contentWindow.document.open(),$("lightwindow_iframe").contentWindow.document.write(t),$("lightwindow_iframe").contentWindow.document.close()):($("lightwindow_iframe").contentDocument.open(),$("lightwindow_iframe").contentDocument.write(t),$("lightwindow_iframe").contentDocument.close())},_loadWindow:function(){switch(this.windowType){case"image":var e=0,t=[];if(this.checkImage=[],this.resizeTo.height=this.resizeTo.width=0,this.imageCount=this._getParameter("lightwindow_show_images")?parseInt(this._getParameter("lightwindow_show_images")):1,gallery=this._getGalleryInfo(this.element.rel)){for(e=0;e<this.galleries[gallery[0]][gallery[1]].length&&!(this.contentToFetch.indexOf(this.galleries[gallery[0]][gallery[1]][e].href)>-1);e++);this.navigationObservers.previous=this.galleries[gallery[0]][gallery[1]][e-this.imageCount]?this.galleries[gallery[0]][gallery[1]][e-this.imageCount]:!1,this.navigationObservers.next=this.galleries[gallery[0]][gallery[1]][e+this.imageCount]?this.galleries[gallery[0]][gallery[1]][e+this.imageCount]:!1,this.activeGallery=!0}else this.navigationObservers.previous=!1,this.navigationObservers.next=!1,this.activeGallery=!1;for(var n=e;n<e+this.imageCount;n++)gallery&&this.galleries[gallery[0]][gallery[1]][n]&&(this.contentToFetch=this.galleries[gallery[0]][gallery[1]][n].href,this.galleryLocation={current:(n+1)/this.imageCount,total:this.galleries[gallery[0]][gallery[1]].length/this.imageCount},this.galleries[gallery[0]][gallery[1]][n+this.imageCount]?($("lightwindow_next").setStyle({display:"block"}),$("lightwindow_next_title").innerHTML=this.galleries[gallery[0]][gallery[1]][n+this.imageCount].title):$("lightwindow_next").setStyle({display:"none"}),this.galleries[gallery[0]][gallery[1]][n-this.imageCount]?($("lightwindow_previous").setStyle({display:"block"}),$("lightwindow_previous_title").innerHTML=this.galleries[gallery[0]][gallery[1]][n-this.imageCount].title):$("lightwindow_previous").setStyle({display:"none"})),t[n]=document.createElement("img"),t[n].setAttribute("id","lightwindow_image_"+n),t[n].setAttribute("border","0"),t[n].setAttribute("src",this.contentToFetch),$("lightwindow_contents").appendChild(t[n]),this.checkImage[n]=new PeriodicalExecuter(function(e){if("undefined"==typeof $("lightwindow_image_"+e).naturalWidth||0!=$("lightwindow_image_"+e).naturalWidth){this.checkImage[e].stop();var t=$("lightwindow_image_"+e).getHeight();t>this.resizeTo.height&&(this.resizeTo.height=t),this.resizeTo.width+=$("lightwindow_image_"+e).getWidth(),this.imageCount--,$("lightwindow_image_"+e).setStyle({height:"100%"}),0==this.imageCount&&this._processWindow()}}.bind(this,n),1);break;case"media":var e=0;if(this.resizeTo.height=this.resizeTo.width=0,gallery=this._getGalleryInfo(this.element.rel)){for(e=0;e<this.galleries[gallery[0]][gallery[1]].length&&!(this.contentToFetch.indexOf(this.galleries[gallery[0]][gallery[1]][e].href)>-1);e++);this.navigationObservers.previous=this.galleries[gallery[0]][gallery[1]][e-1]?this.galleries[gallery[0]][gallery[1]][e-1]:!1,this.navigationObservers.next=this.galleries[gallery[0]][gallery[1]][e+1]?this.galleries[gallery[0]][gallery[1]][e+1]:!1,this.activeGallery=!0}else this.navigationObservers.previous=!1,this.navigationObservers.next=!1,this.activeGallery=!1;gallery&&this.galleries[gallery[0]][gallery[1]][e]&&(this.contentToFetch=this.galleries[gallery[0]][gallery[1]][e].href,this.galleryLocation={current:e+1,total:this.galleries[gallery[0]][gallery[1]].length},this.galleries[gallery[0]][gallery[1]][e+1]?($("lightwindow_next").setStyle({display:"block"}),$("lightwindow_next_title").innerHTML=this.galleries[gallery[0]][gallery[1]][e+1].title):$("lightwindow_next").setStyle({display:"none"}),this.galleries[gallery[0]][gallery[1]][e-1]?($("lightwindow_previous").setStyle({display:"block"}),$("lightwindow_previous_title").innerHTML=this.galleries[gallery[0]][gallery[1]][e-1].title):$("lightwindow_previous").setStyle({display:"none"})),this._getParameter("lightwindow_iframe_embed")?(this.resizeTo.height=this.dimensions.viewport.height,this.resizeTo.width=this.dimensions.viewport.width):(this.resizeTo.height=this._getParameter("lightwindow_height"),this.resizeTo.width=this._getParameter("lightwindow_width")),this._processWindow();break;case"external":this._appendIframe("auto"),this.resizeTo.height=this.dimensions.viewport.height,this.resizeTo.width=this.dimensions.viewport.width,this._processWindow();
break;case"page":new Ajax.Request(this.contentToFetch,{method:"get",parameters:"",onComplete:function(e){$("lightwindow_contents").innerHTML+=e.responseText,this.resizeTo.height=$("lightwindow_contents").scrollHeight+this.options.contentOffset.height,this.resizeTo.width=$("lightwindow_contents").scrollWidth+this.options.contentOffset.width,this._processWindow()}.bind(this)});break;case"inline":var i=this.contentToFetch;i.indexOf("?")>-1&&(i=i.substring(0,i.indexOf("?"))),i=i.substring(i.indexOf("#")+1),new Insertion.Top($("lightwindow_contents"),$(i).innerHTML),this.resizeTo.height=$("lightwindow_contents").scrollHeight+this.options.contentOffset.height,this.resizeTo.width=$("lightwindow_contents").scrollWidth+this.options.contentOffset.width,this._toggleTroubleElements("hidden",!0),this._processWindow();break;default:throw"Page Type could not be determined, please amend this lightwindow URL "+this.contentToFetch}},_resizeWindowToFit:function(){if(this.resizeTo.height+this.dimensions.cruft.height>this.dimensions.viewport.height){var e=this.resizeTo.height/this.resizeTo.width;this.resizeTo.height=this.dimensions.viewport.height-this.dimensions.cruft.height-2*this.options.viewportPadding,("image"==this.windowType||"media"==this.windowType&&!this._getParameter("lightwindow_iframe_embed"))&&(this.resizeTo.width=this.resizeTo.height/e,$("lightwindow_data_slide_inner").setStyle({width:this.resizeTo.width+"px"}))}if(this.resizeTo.width+this.dimensions.cruft.width>this.dimensions.viewport.width){var t=this.resizeTo.width/this.resizeTo.height;this.resizeTo.width=this.dimensions.viewport.width-2*this.dimensions.cruft.width-2*this.options.viewportPadding,("image"==this.windowType||"media"==this.windowType&&!this._getParameter("lightwindow_iframe_embed"))&&(this.resizeTo.height=this.resizeTo.width/t,$("lightwindow_data_slide_inner").setStyle({height:this.resizeTo.height+"px"}))}},_presetWindowSize:function(){this._getParameter("lightwindow_height")&&(this.resizeTo.height=parseFloat(this._getParameter("lightwindow_height"))),this._getParameter("lightwindow_width")&&(this.resizeTo.width=parseFloat(this._getParameter("lightwindow_width")))},_processWindow:function(){this.dimensions.dataEffects=[],this.element.caption||this.element.author||this.activeGallery&&this.options.showGalleryCount?(this.element.caption?($("lightwindow_data_caption").innerHTML=this.element.caption,$("lightwindow_data_caption").setStyle({display:"block"})):$("lightwindow_data_caption").setStyle({display:"none"}),this.element.author?($("lightwindow_data_author").innerHTML=this.element.author,$("lightwindow_data_author_container").setStyle({display:"block"})):$("lightwindow_data_author_container").setStyle({display:"none"}),this.activeGallery&&this.options.showGalleryCount?($("lightwindow_data_gallery_current").innerHTML=this.galleryLocation.current,$("lightwindow_data_gallery_total").innerHTML=this.galleryLocation.total,$("lightwindow_data_gallery_container").setStyle({display:"block"})):$("lightwindow_data_gallery_container").setStyle({display:"none"}),$("lightwindow_data_slide_inner").setStyle({width:this.resizeTo.width+"px",height:"auto",visibility:"visible",display:"block"}),$("lightwindow_data_slide").setStyle({height:$("lightwindow_data_slide").getHeight()+"px",width:"1px",overflow:"hidden",display:"block"})):($("lightwindow_data_slide").setStyle({display:"none",width:"auto"}),$("lightwindow_data_slide_inner").setStyle({display:"none",visibility:"hidden",width:this.resizeTo.width+"px",height:"0px"})),$("lightwindow_title_bar_title").innerHTML="null"!=this.element.title?this.element.title:"";var e={height:$("lightwindow_container").getHeight(),width:$("lightwindow_container").getWidth()};$("lightwindow_container").setStyle({height:"auto",width:$("lightwindow_container").getWidth()+this.options.contentOffset.width-(this.windowActive?this.options.contentOffset.width:0)+"px"});var t={height:$("lightwindow_container").getHeight(),width:$("lightwindow_container").getWidth()};this.containerChange={height:e.height-t.height,width:e.width-t.width},this.dimensions.container={height:$("lightwindow_container").getHeight(),width:$("lightwindow_container").getWidth()},this.dimensions.cruft={height:this.dimensions.container.height-$("lightwindow_contents").getHeight()+this.options.contentOffset.height,width:this.dimensions.container.width-$("lightwindow_contents").getWidth()+this.options.contentOffset.width},this._presetWindowSize(),this._resizeWindowToFit(),this.windowActive||$("lightwindow_container").setStyle({left:-(this.dimensions.container.width/2)+"px",top:-(this.dimensions.container.height/2)+"px"}),$("lightwindow_container").setStyle({height:this.dimensions.container.height+"px",width:this.dimensions.container.width+"px"}),this._displayLightWindow("block","visible"),this._animateLightWindow()},_animateLightWindow:function(){this.options.animationHandler?this.options.animationHandler().bind(this):this._defaultAnimationHandler()},_handleNavigation:function(e){this.options.navigationHandler?this.options.navigationHandler().bind(this,e):this._defaultDisplayNavigation(e)},_handleTransition:function(){this.options.transitionHandler?this.options.transitionHandler().bind(this):this._defaultTransitionHandler()},_handleFinalWindowAnimation:function(e){this.options.finalAnimationHandler?this.options.finalAnimationHandler().bind(this,e):this._defaultfinalWindowAnimationHandler(e)},_handleGalleryAnimation:function(e){this.options.galleryAnimationHandler?this.options.galleryAnimationHandler().bind(this,e):this._defaultGalleryAnimationHandler(e)},_defaultDisplayNavigation:function(e){e?$("lightwindow_navigation").setStyle({display:"block",height:$("lightwindow_contents").getHeight()+"px",width:"100%",marginTop:this.options.dimensions.titleHeight+"px"}):$("lightwindow_navigation").setStyle({display:"none",height:"auto",width:"auto"})},_defaultAnimationHandler:function(){(this.element.caption||this.element.author||this.activeGallery&&this.options.showGalleryCount)&&($("lightwindow_data_slide").setStyle({display:"none",width:"auto"}),this.dimensions.dataEffects.push(new Effect.SlideDown("lightwindow_data_slide",{sync:!0}),new Effect.Appear("lightwindow_data_slide",{sync:!0,from:0,to:1}))),$("lightwindow_title_bar_inner").setStyle({height:"0px",marginTop:this.options.dimensions.titleHeight+"px"}),this.dimensions.dataEffects.push(new Effect.Morph("lightwindow_title_bar_inner",{sync:!0,style:{height:this.options.dimensions.titleHeight+"px",marginTop:"0px"}}),new Effect.Appear("lightwindow_title_bar_inner",{sync:!0,from:0,to:1})),this.options.hideGalleryTab||(this._handleGalleryAnimation(!1),0==$("lightwindow_galleries_tab_container").getHeight()&&(this.dimensions.dataEffects.push(new Effect.Morph("lightwindow_galleries_tab_container",{sync:!0,style:{height:"20px",marginTop:"0px"}})),$("lightwindow_galleries").setStyle({width:"0px"})));var e=!1,t=this.dimensions.container.width-$("lightwindow_contents").getWidth()+this.resizeTo.width+this.options.contentOffset.width;t!=$("lightwindow_container").getWidth()&&new Effect.Parallel([new Effect.Scale("lightwindow_contents",100*(this.resizeTo.width/$("lightwindow_contents").getWidth()),{scaleFrom:100*($("lightwindow_contents").getWidth()/($("lightwindow_contents").getWidth()+this.options.contentOffset.width)),sync:!0,scaleY:!1,scaleContent:!1}),new Effect.Scale("lightwindow_container",100*(t/this.dimensions.container.width),{sync:!0,scaleY:!1,scaleFromCenter:!0,scaleContent:!1})],{duration:this.duration,delay:.25,queue:{position:"end",scope:"lightwindowAnimation"}}),t=this.dimensions.container.height-$("lightwindow_contents").getHeight()+this.resizeTo.height+this.options.contentOffset.height,t!=$("lightwindow_container").getHeight()&&(new Effect.Parallel([new Effect.Scale("lightwindow_contents",100*(this.resizeTo.height/$("lightwindow_contents").getHeight()),{scaleFrom:100*($("lightwindow_contents").getHeight()/($("lightwindow_contents").getHeight()+this.options.contentOffset.height)),sync:!0,scaleX:!1,scaleContent:!1}),new Effect.Scale("lightwindow_container",100*(t/this.dimensions.container.height),{sync:!0,scaleX:!1,scaleFromCenter:!0,scaleContent:!1})],{duration:this.duration,afterFinish:function(){this.dimensions.dataEffects.length>0&&(this.options.hideGalleryTab||$("lightwindow_galleries").setStyle({width:this.resizeTo.width+"px"}),new Effect.Parallel(this.dimensions.dataEffects,{duration:this.duration,afterFinish:function(){this._finishWindow()}.bind(this),queue:{position:"end",scope:"lightwindowAnimation"}}))}.bind(this),queue:{position:"end",scope:"lightwindowAnimation"}}),e=!0),!e&&this.dimensions.dataEffects.length>0&&new Effect.Parallel(this.dimensions.dataEffects,{duration:this.duration,beforeStart:function(){this.options.hideGalleryTab||$("lightwindow_galleries").setStyle({width:this.resizeTo.width+"px"}),(0!=this.containerChange.height||0!=this.containerChange.width)&&new Effect.MoveBy("lightwindow_container",this.containerChange.height,this.containerChange.width,{transition:Effect.Transitions.sinoidal})}.bind(this),afterFinish:function(){this._finishWindow()}.bind(this),queue:{position:"end",scope:"lightwindowAnimation"}})},_defaultfinalWindowAnimationHandler:function(){"media"==this.windowType||this._getParameter("lightwindow_loading_animation")?(Element.hide("lightwindow_loading"),this._handleNavigation(this.activeGallery),this._setStatus(!1)):Effect.Fade("lightwindow_loading",{duration:.75,delay:1,afterFinish:function(){"image"!=this.windowType&&"media"!=this.windowType&&"external"!=this.windowType&&$("lightwindow_contents").setStyle({overflow:"auto"}),this._handleNavigation(this.activeGallery),this._defaultGalleryAnimationHandler(),this._setStatus(!1)}.bind(this),queue:{position:"end",scope:"lightwindowAnimation"}})},_defaultGalleryAnimationHandler:function(e){if(!this.activeGallery)return $("lightwindow_galleries").setStyle({display:"none"}),$("lightwindow_galleries_tab_container").setStyle({height:"0px",marginTop:"20px"}),$("lightwindow_galleries_list").setStyle({height:"0px"}),!1;if($("lightwindow_galleries").setStyle({display:"block",marginBottom:$("lightwindow_data_slide").getHeight()+this.options.contentOffset.height/2+"px"}),$("lightwindow_navigation").setStyle({height:$("lightwindow_contents").getHeight()-20+"px"}),e){if(0==$("lightwindow_galleries_list").getHeight()){var t=.8*$("lightwindow_contents").getHeight();$("lightwindow_galleries_tab_span").className="down"}else{var t=0;$("lightwindow_galleries_tab_span").className="up"}new Effect.Morph("lightwindow_galleries_list",{duration:this.duration,transition:Effect.Transitions.sinoidal,style:{height:t+"px"},beforeStart:function(){$("lightwindow_galleries_list").setStyle({overflow:"hidden"})},afterFinish:function(){$("lightwindow_galleries_list").setStyle({overflow:"auto"})},queue:{position:"end",scope:"lightwindowAnimation"}})}},_defaultTransitionHandler:function(){this.dimensions.dataEffects=[],"none"!=$("lightwindow_data_slide").getStyle("display")&&this.dimensions.dataEffects.push(new Effect.SlideUp("lightwindow_data_slide",{sync:!0}),new Effect.Fade("lightwindow_data_slide",{sync:!0,from:1,to:0})),this.options.hideGalleryTab||(0==$("lightwindow_galleries").getHeight()||this.options.hideGalleryTab||this.dimensions.dataEffects.push(new Effect.Morph("lightwindow_galleries_tab_container",{sync:!0,style:{height:"0px",marginTop:"20px"}})),0!=$("lightwindow_galleries_list").getHeight()&&($("lightwindow_galleries_tab_span").className="up",this.dimensions.dataEffects.push(new Effect.Morph("lightwindow_galleries_list",{sync:!0,style:{height:"0px"},transition:Effect.Transitions.sinoidal,beforeStart:function(){$("lightwindow_galleries_list").setStyle({overflow:"hidden"})},afterFinish:function(){$("lightwindow_galleries_list").setStyle({overflow:"auto"})}})))),this.dimensions.dataEffects.push(new Effect.Morph("lightwindow_title_bar_inner",{sync:!0,style:{height:"0px",marginTop:this.options.dimensions.titleHeight+"px"}}),new Effect.Fade("lightwindow_title_bar_inner",{sync:!0,from:1,to:0})),new Effect.Parallel(this.dimensions.dataEffects,{duration:this.duration,afterFinish:function(){this._loadWindow()}.bind(this),queue:{position:"end",scope:"lightwindowAnimation"}})},_defaultFormHandler:function(e){var t=Event.element(e).parentNode,n=Form.serialize(this._getParameter("lightwindow_form",t.getAttribute("params")));"post"==this.options.formMethod?new Ajax.Request(t.href,{method:"post",postBody:n,onComplete:this.openWindow.bind(this,t)}):"get"==this.options.formMethod&&new Ajax.Request(t.href,{method:"get",parameters:n,onComplete:this.openWindow.bind(this,t)})},_finishWindow:function(){if("external"==this.windowType)$("lightwindow_iframe").setAttribute("src",this.element.href),this._handleFinalWindowAnimation(1);else if("media"==this.windowType){var e=document.createElement("object");if(e.setAttribute("classid",this.options.classids[this._fileExtension(this.contentToFetch)]),e.setAttribute("codebase",this.options.codebases[this._fileExtension(this.contentToFetch)]),e.setAttribute("id","lightwindow_media_primary"),e.setAttribute("name","lightwindow_media_primary"),e.setAttribute("width",this.resizeTo.width),e.setAttribute("height",this.resizeTo.height),e=this._addParamToObject("movie",this.contentToFetch,e),e=this._addParamToObject("src",this.contentToFetch,e),e=this._addParamToObject("controller","true",e),e=this._addParamToObject("wmode","transparent",e),e=this._addParamToObject("cache","false",e),e=this._addParamToObject("quality","high",e),!Prototype.Browser.IE){var t=document.createElement("object");t.setAttribute("type",this.options.mimeTypes[this._fileExtension(this.contentToFetch)]),t.setAttribute("data",this.contentToFetch),t.setAttribute("id","lightwindow_media_secondary"),t.setAttribute("name","lightwindow_media_secondary"),t.setAttribute("width",this.resizeTo.width),t.setAttribute("height",this.resizeTo.height),t=this._addParamToObject("controller","true",t),t=this._addParamToObject("wmode","transparent",t),t=this._addParamToObject("cache","false",t),t=this._addParamToObject("quality","high",t),e.appendChild(t)}this._getParameter("lightwindow_iframe_embed")?(this._appendIframe("no"),this._writeToIframe(this._convertToMarkup(e,"object"))):this._appendObject(e,"object",$("lightwindow_contents")),this._handleFinalWindowAnimation(0)}else this._handleFinalWindowAnimation(0);this._setupActions()}},Event.observe(window,"load",lightwindowInit,!1);var myLightWindow=null,Prototype={Version:"1.5.1.1",Browser:{IE:!(!window.attachEvent||window.opera),Opera:!!window.opera,WebKit:navigator.userAgent.indexOf("AppleWebKit/")>-1,Gecko:navigator.userAgent.indexOf("Gecko")>-1&&-1==navigator.userAgent.indexOf("KHTML")},BrowserFeatures:{XPath:!!document.evaluate,ElementExtensions:!!window.HTMLElement,SpecificElementExtensions:document.createElement("div").__proto__!==document.createElement("form").__proto__},ScriptFragment:"<script[^>]*>([\\S\\s]*?)</script>",JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,emptyFunction:function(){},K:function(e){return e}},Class={create:function(){return function(){this.initialize.apply(this,arguments)}}},Abstract=new Object;Object.extend=function(e,t){for(var n in t)e[n]=t[n];return e},Object.extend(Object,{inspect:function(e){try{return void 0===e?"undefined":null===e?"null":e.inspect?e.inspect():e.toString()}catch(t){if(t instanceof RangeError)return"...";throw t}},toJSON:function(e){var t=typeof e;switch(t){case"undefined":case"function":case"unknown":return;case"boolean":return e.toString()}if(null===e)return"null";if(e.toJSON)return e.toJSON();if(e.ownerDocument!==document){var n=[];for(var i in e){var r=Object.toJSON(e[i]);void 0!==r&&n.push(i.toJSON()+": "+r)}return"{"+n.join(", ")+"}"}},keys:function(e){var t=[];for(var n in e)t.push(n);return t},values:function(e){var t=[];for(var n in e)t.push(e[n]);return t},clone:function(e){return Object.extend({},e)}}),Function.prototype.bind=function(){var e=this,t=$A(arguments),n=t.shift();return function(){return e.apply(n,t.concat($A(arguments)))}},Function.prototype.bindAsEventListener=function(e){var t=this,n=$A(arguments),e=n.shift();return function(i){return t.apply(e,[i||window.event].concat(n))}},Object.extend(Number.prototype,{toColorPart:function(){return this.toPaddedString(2,16)},succ:function(){return this+1},times:function(e){return $R(0,this,!0).each(e),this},toPaddedString:function(e,t){var n=this.toString(t||10);return"0".times(e-n.length)+n},toJSON:function(){return isFinite(this)?this.toString():"null"}}),Date.prototype.toJSON=function(){return'"'+this.getFullYear()+"-"+(this.getMonth()+1).toPaddedString(2)+"-"+this.getDate().toPaddedString(2)+"T"+this.getHours().toPaddedString(2)+":"+this.getMinutes().toPaddedString(2)+":"+this.getSeconds().toPaddedString(2)+'"'};var Try={these:function(){for(var e,t=0,n=arguments.length;n>t;t++){var i=arguments[t];try{e=i();break}catch(r){}}return e}},PeriodicalExecuter=Class.create();with(PeriodicalExecuter.prototype={initialize:function(e,t){this.callback=e,this.frequency=t,this.currentlyExecuting=!1,this.registerCallback()},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),1e3*this.frequency)},stop:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onTimerEvent:function(){if(!this.currentlyExecuting)try{this.currentlyExecuting=!0,this.callback(this)}finally{this.currentlyExecuting=!1}}},Object.extend(String,{interpret:function(e){return null==e?"":String(e)},specialChar:{"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}}),Object.extend(String.prototype,{gsub:function(e,t){var n,i="",r=this;for(t=arguments.callee.prepareReplacement(t);r.length>0;)(n=r.match(e))?(i+=r.slice(0,n.index),i+=String.interpret(t(n)),r=r.slice(n.index+n[0].length)):(i+=r,r="");return i},sub:function(e,t,n){return t=this.gsub.prepareReplacement(t),n=void 0===n?1:n,this.gsub(e,function(e){return--n<0?e[0]:t(e)})},scan:function(e,t){return this.gsub(e,t),this},truncate:function(e,t){return e=e||30,t=void 0===t?"...":t,this.length>e?this.slice(0,e-t.length)+t:this},strip:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")},stripTags:function(){return this.replace(/<\/?[^>]+>/gi,"")},stripScripts:function(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"")},extractScripts:function(){var e=new RegExp(Prototype.ScriptFragment,"img"),t=new RegExp(Prototype.ScriptFragment,"im");return(this.match(e)||[]).map(function(e){return(e.match(t)||["",""])[1]})},evalScripts:function(){return this.extractScripts().map(function(script){return eval(script)})},escapeHTML:function(){var e=arguments.callee;return e.text.data=this,e.div.innerHTML},unescapeHTML:function(){var e=document.createElement("div");return e.innerHTML=this.stripTags(),e.childNodes[0]?e.childNodes.length>1?$A(e.childNodes).inject("",function(e,t){return e+t.nodeValue}):e.childNodes[0].nodeValue:""},toQueryParams:function(e){var t=this.strip().match(/([^?#]*)(#.*)?$/);return t?t[1].split(e||"&").inject({},function(e,t){if((t=t.split("="))[0]){var n=decodeURIComponent(t.shift()),i=t.length>1?t.join("="):t[0];void 0!=i&&(i=decodeURIComponent(i)),n in e?(e[n].constructor!=Array&&(e[n]=[e[n]]),e[n].push(i)):e[n]=i}return e}):{}},toArray:function(){return this.split("")},succ:function(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1)},times:function(e){for(var t="",n=0;e>n;n++)t+=this;return t},camelize:function(){var e=this.split("-"),t=e.length;if(1==t)return e[0];for(var n="-"==this.charAt(0)?e[0].charAt(0).toUpperCase()+e[0].substring(1):e[0],i=1;t>i;i++)n+=e[i].charAt(0).toUpperCase()+e[i].substring(1);return n},capitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()},underscore:function(){return this.gsub(/::/,"/").gsub(/([A-Z]+)([A-Z][a-z])/,"#{1}_#{2}").gsub(/([a-z\d])([A-Z])/,"#{1}_#{2}").gsub(/-/,"_").toLowerCase()},dasherize:function(){return this.gsub(/_/,"-")},inspect:function(e){var t=this.gsub(/[\x00-\x1f\\]/,function(e){var t=String.specialChar[e[0]];return t?t:"\\u00"+e[0].charCodeAt().toPaddedString(2,16)});return e?'"'+t.replace(/"/g,'\\"')+'"':"'"+t.replace(/'/g,"\\'")+"'"},toJSON:function(){return this.inspect(!0)},unfilterJSON:function(e){return this.sub(e||Prototype.JSONFilter,"#{1}")},isJSON:function(){var e=this.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,"");return/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(e)},evalJSON:function(sanitize){var json=this.unfilterJSON();try{if(!sanitize||json.isJSON())return eval("("+json+")")}catch(e){}throw new SyntaxError("Badly formed JSON string: "+this.inspect())},include:function(e){return this.indexOf(e)>-1},startsWith:function(e){return 0===this.indexOf(e)},endsWith:function(e){var t=this.length-e.length;return t>=0&&this.lastIndexOf(e)===t},empty:function(){return""==this},blank:function(){return/^\s*$/.test(this)}}),(Prototype.Browser.WebKit||Prototype.Browser.IE)&&Object.extend(String.prototype,{escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(){return this.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}}),String.prototype.gsub.prepareReplacement=function(e){if("function"==typeof e)return e;var t=new Template(e);return function(e){return t.evaluate(e)}},String.prototype.parseQuery=String.prototype.toQueryParams,Object.extend(String.prototype.escapeHTML,{div:document.createElement("div"),text:document.createTextNode("")}),String.prototype.escapeHTML)div.appendChild(text);var Template=Class.create();Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/,Template.prototype={initialize:function(e,t){this.template=e.toString(),this.pattern=t||Template.Pattern},evaluate:function(e){return this.template.gsub(this.pattern,function(t){var n=t[1];return"\\"==n?t[2]:n+String.interpret(e[t[3]])})}};var $break={},$continue=new Error('"throw $continue" is deprecated, use "return" instead'),Enumerable={each:function(e){var t=0;try{this._each(function(n){e(n,t++)})}catch(n){if(n!=$break)throw n}return this},eachSlice:function(e,t){for(var n=-e,i=[],r=this.toArray();(n+=e)<r.length;)i.push(r.slice(n,n+e));return i.map(t)},all:function(e){var t=!0;return this.each(function(n,i){if(t=t&&!!(e||Prototype.K)(n,i),!t)throw $break}),t},any:function(e){var t=!1;return this.each(function(n,i){if(t=!!(e||Prototype.K)(n,i))throw $break}),t},collect:function(e){var t=[];return this.each(function(n,i){t.push((e||Prototype.K)(n,i))}),t},detect:function(e){var t;return this.each(function(n,i){if(e(n,i))throw t=n,$break}),t},findAll:function(e){var t=[];return this.each(function(n,i){e(n,i)&&t.push(n)}),t},grep:function(e,t){var n=[];return this.each(function(i,r){var o=i.toString();o.match(e)&&n.push((t||Prototype.K)(i,r))}),n},include:function(e){var t=!1;return this.each(function(n){if(n==e)throw t=!0,$break}),t},inGroupsOf:function(e,t){return t=void 0===t?null:t,this.eachSlice(e,function(n){for(;n.length<e;)n.push(t);return n})},inject:function(e,t){return this.each(function(n,i){e=t(e,n,i)}),e},invoke:function(e){var t=$A(arguments).slice(1);return this.map(function(n){return n[e].apply(n,t)})},max:function(e){var t;return this.each(function(n,i){n=(e||Prototype.K)(n,i),(void 0==t||n>=t)&&(t=n)}),t},min:function(e){var t;return this.each(function(n,i){n=(e||Prototype.K)(n,i),(void 0==t||t>n)&&(t=n)}),t},partition:function(e){var t=[],n=[];return this.each(function(i,r){((e||Prototype.K)(i,r)?t:n).push(i)}),[t,n]},pluck:function(e){var t=[];return this.each(function(n){t.push(n[e])}),t},reject:function(e){var t=[];return this.each(function(n,i){e(n,i)||t.push(n)}),t},sortBy:function(e){return this.map(function(t,n){return{value:t,criteria:e(t,n)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;return i>n?-1:n>i?1:0}).pluck("value")},toArray:function(){return this.map()},zip:function(){var e=Prototype.K,t=$A(arguments);"function"==typeof t.last()&&(e=t.pop());var n=[this].concat(t).map($A);return this.map(function(t,i){return e(n.pluck(i))})},size:function(){return this.toArray().length},inspect:function(){return"#<Enumerable:"+this.toArray().inspect()+">"}};Object.extend(Enumerable,{map:Enumerable.collect,find:Enumerable.detect,select:Enumerable.findAll,member:Enumerable.include,entries:Enumerable.toArray});var $A=Array.from=function(e){if(!e)return[];if(e.toArray)return e.toArray();for(var t=[],n=0,i=e.length;i>n;n++)t.push(e[n]);return t};Prototype.Browser.WebKit&&($A=Array.from=function(e){if(!e)return[];if("function"==typeof e&&"[object NodeList]"==e||!e.toArray){for(var t=[],n=0,i=e.length;i>n;n++)t.push(e[n]);return t}return e.toArray()}),Object.extend(Array.prototype,Enumerable),Array.prototype._reverse||(Array.prototype._reverse=Array.prototype.reverse),Object.extend(Array.prototype,{_each:function(e){for(var t=0,n=this.length;n>t;t++)e(this[t])},clear:function(){return this.length=0,this},first:function(){return this[0]},last:function(){return this[this.length-1]},compact:function(){return this.select(function(e){return null!=e})},flatten:function(){return this.inject([],function(e,t){return e.concat(t&&t.constructor==Array?t.flatten():[t])})},without:function(){var e=$A(arguments);return this.select(function(t){return!e.include(t)})},indexOf:function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]==e)return t;return-1},reverse:function(e){return(e!==!1?this:this.toArray())._reverse()},reduce:function(){return this.length>1?this:this[0]},uniq:function(e){return this.inject([],function(t,n,i){return 0!=i&&(e?t.last()==n:t.include(n))||t.push(n),t})},clone:function(){return[].concat(this)},size:function(){return this.length},inspect:function(){return"["+this.map(Object.inspect).join(", ")+"]"},toJSON:function(){var e=[];return this.each(function(t){var n=Object.toJSON(t);void 0!==n&&e.push(n)}),"["+e.join(", ")+"]"}}),Array.prototype.toArray=Array.prototype.clone,Prototype.Browser.Opera&&(Array.prototype.concat=function(){for(var e=[],t=0,n=this.length;n>t;t++)e.push(this[t]);for(var t=0,n=arguments.length;n>t;t++)if(arguments[t].constructor==Array)for(var i=0,r=arguments[t].length;r>i;i++)e.push(arguments[t][i]);else e.push(arguments[t]);return e});var Hash=function(e){e instanceof Hash?this.merge(e):Object.extend(this,e||{})};Object.extend(Hash,{toQueryString:function(e){var t=[];return t.add=arguments.callee.addPair,this.prototype._each.call(e,function(e){if(e.key){var n=e.value;return n&&"object"==typeof n?(n.constructor==Array&&n.each(function(n){t.add(e.key,n)}),void 0):(t.add(e.key,n),void 0)}}),t.join("&")},toJSON:function(e){var t=[];return this.prototype._each.call(e,function(e){var n=Object.toJSON(e.value);void 0!==n&&t.push(e.key.toJSON()+": "+n)}),"{"+t.join(", ")+"}"}}),Hash.toQueryString.addPair=function(e,t){e=encodeURIComponent(e),void 0===t?this.push(e):this.push(e+"="+(null==t?"":encodeURIComponent(t)))},Object.extend(Hash.prototype,Enumerable),Object.extend(Hash.prototype,{_each:function(e){for(var t in this){var n=this[t];if(!n||n!=Hash.prototype[t]){var i=[t,n];i.key=t,i.value=n,e(i)}}},keys:function(){return this.pluck("key")},values:function(){return this.pluck("value")},merge:function(e){return $H(e).inject(this,function(e,t){return e[t.key]=t.value,e})},remove:function(){for(var e,t=0,n=arguments.length;n>t;t++){var i=this[arguments[t]];void 0!==i&&(void 0===e?e=i:(e.constructor!=Array&&(e=[e]),e.push(i))),delete this[arguments[t]]}return e},toQueryString:function(){return Hash.toQueryString(this)},inspect:function(){return"#<Hash:{"+this.map(function(e){return e.map(Object.inspect).join(": ")}).join(", ")+"}>"},toJSON:function(){return Hash.toJSON(this)}}),function(){var e=0,t=function(e){this.key=e};t.prototype.key="foo";for(var n in new t("bar"))e++;return e>1}()&&(Hash.prototype._each=function(e){var t=[];for(var n in this){var i=this[n];if(!(i&&i==Hash.prototype[n]||t.include(n))){t.push(n);var r=[n,i];r.key=n,r.value=i,e(r)}}}),ObjectRange=Class.create(),Object.extend(ObjectRange.prototype,Enumerable),Object.extend(ObjectRange.prototype,{initialize:function(e,t,n){this.start=e,this.end=t,this.exclusive=n},_each:function(e){for(var t=this.start;this.include(t);)e(t),t=t.succ()},include:function(e){return e<this.start?!1:this.exclusive?e<this.end:e<=this.end}});var $R=function(e,t,n){return new ObjectRange(e,t,n)},Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||!1},activeRequestCount:0};if(Ajax.Responders={responders:[],_each:function(e){this.responders._each(e)},register:function(e){this.include(e)||this.responders.push(e)},unregister:function(e){this.responders=this.responders.without(e)},dispatch:function(e,t,n,i){this.each(function(r){if("function"==typeof r[e])try{r[e].apply(r,[t,n,i])}catch(o){}})}},Object.extend(Ajax.Responders,Enumerable),Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++},onComplete:function(){Ajax.activeRequestCount--}}),Ajax.Base=function(){},Ajax.Base.prototype={setOptions:function(e){this.options={method:"post",asynchronous:!0,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:""},Object.extend(this.options,e||{}),this.options.method=this.options.method.toLowerCase(),"string"==typeof this.options.parameters&&(this.options.parameters=this.options.parameters.toQueryParams())}},Ajax.Request=Class.create(),Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"],Ajax.Request.prototype=Object.extend(new Ajax.Base,{_complete:!1,initialize:function(e,t){this.transport=Ajax.getTransport(),this.setOptions(t),this.request(e)},request:function(e){this.url=e,this.method=this.options.method;var t=Object.clone(this.options.parameters);["get","post"].include(this.method)||(t._method=this.method,this.method="post"),this.parameters=t,(t=Hash.toQueryString(t))&&("get"==this.method?this.url+=(this.url.include("?")?"&":"?")+t:/Konqueror|Safari|KHTML/.test(navigator.userAgent)&&(t+="&_="));try{this.options.onCreate&&this.options.onCreate(this.transport),Ajax.Responders.dispatch("onCreate",this,this.transport),this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous),this.options.asynchronous&&setTimeout(function(){this.respondToReadyState(1)}.bind(this),10),this.transport.onreadystatechange=this.onStateChange.bind(this),this.setRequestHeaders(),this.body="post"==this.method?this.options.postBody||t:null,this.transport.send(this.body),!this.options.asynchronous&&this.transport.overrideMimeType&&this.onStateChange()}catch(n){this.dispatchException(n)}},onStateChange:function(){var e=this.transport.readyState;e>1&&(4!=e||!this._complete)&&this.respondToReadyState(this.transport.readyState)},setRequestHeaders:function(){var e={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if("post"==this.method&&(e["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:""),this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005&&(e.Connection="close")),"object"==typeof this.options.requestHeaders){var t=this.options.requestHeaders;if("function"==typeof t.push)for(var n=0,i=t.length;i>n;n+=2)e[t[n]]=t[n+1];else $H(t).each(function(t){e[t.key]=t.value})}for(var r in e)this.transport.setRequestHeader(r,e[r])},success:function(){return!this.transport.status||this.transport.status>=200&&this.transport.status<300},respondToReadyState:function(e){var t=Ajax.Request.Events[e],n=this.transport,i=this.evalJSON();if("Complete"==t){try{this._complete=!0,(this.options["on"+this.transport.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(n,i)}catch(r){this.dispatchException(r)}var o=this.getHeader("Content-type");o&&o.strip().match(/^(text|application)\/(x-)?(java|ecma)script(;.*)?$/i)&&this.evalResponse()}try{(this.options["on"+t]||Prototype.emptyFunction)(n,i),Ajax.Responders.dispatch("on"+t,this,n,i)}catch(r){this.dispatchException(r)}"Complete"==t&&(this.transport.onreadystatechange=Prototype.emptyFunction)},getHeader:function(e){try{return this.transport.getResponseHeader(e)}catch(t){return null}},evalJSON:function(){try{var e=this.getHeader("X-JSON");return e?e.evalJSON():null}catch(t){return null}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON())}catch(e){this.dispatchException(e)}},dispatchException:function(e){(this.options.onException||Prototype.emptyFunction)(this,e),Ajax.Responders.dispatch("onException",this,e)}}),Ajax.Updater=Class.create(),Object.extend(Object.extend(Ajax.Updater.prototype,Ajax.Request.prototype),{initialize:function(e,t,n){this.container={success:e.success||e,failure:e.failure||(e.success?null:e)},this.transport=Ajax.getTransport(),this.setOptions(n);
var i=this.options.onComplete||Prototype.emptyFunction;this.options.onComplete=function(e,t){this.updateContent(),i(e,t)}.bind(this),this.request(t)},updateContent:function(){var e=this.container[this.success()?"success":"failure"],t=this.transport.responseText;this.options.evalScripts||(t=t.stripScripts()),(e=$(e))&&(this.options.insertion?new this.options.insertion(e,t):e.update(t)),this.success()&&this.onComplete&&setTimeout(this.onComplete.bind(this),10)}}),Ajax.PeriodicalUpdater=Class.create(),Ajax.PeriodicalUpdater.prototype=Object.extend(new Ajax.Base,{initialize:function(e,t,n){this.setOptions(n),this.onComplete=this.options.onComplete,this.frequency=this.options.frequency||2,this.decay=this.options.decay||1,this.updater={},this.container=e,this.url=t,this.start()},start:function(){this.options.onComplete=this.updateComplete.bind(this),this.onTimerEvent()},stop:function(){this.updater.options.onComplete=void 0,clearTimeout(this.timer),(this.onComplete||Prototype.emptyFunction).apply(this,arguments)},updateComplete:function(e){this.options.decay&&(this.decay=e.responseText==this.lastText?this.decay*this.options.decay:1,this.lastText=e.responseText),this.timer=setTimeout(this.onTimerEvent.bind(this),1e3*this.decay*this.frequency)},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options)}}),Prototype.BrowserFeatures.XPath?(document._getElementsByXPath=function(e,t){for(var n=[],i=document.evaluate(e,$(t)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),r=0,o=i.snapshotLength;o>r;r++)n.push(i.snapshotItem(r));return n},document.getElementsByClassName=function(e,t){var n=".//*[contains(concat(' ', @class, ' '), ' "+e+" ')]";return document._getElementsByXPath(n,t)}):document.getElementsByClassName=function(e,t){for(var n,i=($(t)||document.body).getElementsByTagName("*"),r=[],o=new RegExp("(^|\\s)"+e+"(\\s|$)"),s=0,a=i.length;a>s;s++){n=i[s];var l=n.className;0!=l.length&&(l==e||l.match(o))&&r.push(Element.extend(n))}return r},!window.Element)var Element={};Element.extend=function(e){var t=Prototype.BrowserFeatures;if(!e||!e.tagName||3==e.nodeType||e._extended||t.SpecificElementExtensions||e==window)return e;var n={},i=e.tagName,r=Element.extend.cache,o=Element.Methods.ByTag;t.ElementExtensions||(Object.extend(n,Element.Methods),Object.extend(n,Element.Methods.Simulated)),o[i]&&Object.extend(n,o[i]);for(var s in n){var a=n[s];"function"!=typeof a||s in e||(e[s]=r.findOrStore(a))}return e._extended=Prototype.emptyFunction,e},Element.extend.cache={findOrStore:function(e){return this[e]=this[e]||function(){return e.apply(null,[this].concat($A(arguments)))}}},Element.Methods={visible:function(e){return"none"!=$(e).style.display},toggle:function(e){return e=$(e),Element[Element.visible(e)?"hide":"show"](e),e},hide:function(e){return $(e).style.display="none",e},show:function(e){return $(e).style.display="",e},remove:function(e){return e=$(e),e.parentNode.removeChild(e),e},update:function(e,t){return t="undefined"==typeof t?"":t.toString(),$(e).innerHTML=t.stripScripts(),setTimeout(function(){t.evalScripts()},10),e},replace:function(e,t){if(e=$(e),t="undefined"==typeof t?"":t.toString(),e.outerHTML)e.outerHTML=t.stripScripts();else{var n=e.ownerDocument.createRange();n.selectNodeContents(e),e.parentNode.replaceChild(n.createContextualFragment(t.stripScripts()),e)}return setTimeout(function(){t.evalScripts()},10),e},inspect:function(e){e=$(e);var t="<"+e.tagName.toLowerCase();return $H({id:"id",className:"class"}).each(function(n){var i=n.first(),r=n.last(),o=(e[i]||"").toString();o&&(t+=" "+r+"="+o.inspect(!0))}),t+">"},recursivelyCollect:function(e,t){e=$(e);for(var n=[];e=e[t];)1==e.nodeType&&n.push(Element.extend(e));return n},ancestors:function(e){return $(e).recursivelyCollect("parentNode")},descendants:function(e){return $A($(e).getElementsByTagName("*")).each(Element.extend)},firstDescendant:function(e){for(e=$(e).firstChild;e&&1!=e.nodeType;)e=e.nextSibling;return $(e)},immediateDescendants:function(e){if(!(e=$(e).firstChild))return[];for(;e&&1!=e.nodeType;)e=e.nextSibling;return e?[e].concat($(e).nextSiblings()):[]},previousSiblings:function(e){return $(e).recursivelyCollect("previousSibling")},nextSiblings:function(e){return $(e).recursivelyCollect("nextSibling")},siblings:function(e){return e=$(e),e.previousSiblings().reverse().concat(e.nextSiblings())},match:function(e,t){return"string"==typeof t&&(t=new Selector(t)),t.match($(e))},up:function(e,t,n){if(e=$(e),1==arguments.length)return $(e.parentNode);var i=e.ancestors();return t?Selector.findElement(i,t,n):i[n||0]},down:function(e,t,n){if(e=$(e),1==arguments.length)return e.firstDescendant();var i=e.descendants();return t?Selector.findElement(i,t,n):i[n||0]},previous:function(e,t,n){if(e=$(e),1==arguments.length)return $(Selector.handlers.previousElementSibling(e));var i=e.previousSiblings();return t?Selector.findElement(i,t,n):i[n||0]},next:function(e,t,n){if(e=$(e),1==arguments.length)return $(Selector.handlers.nextElementSibling(e));var i=e.nextSiblings();return t?Selector.findElement(i,t,n):i[n||0]},getElementsBySelector:function(){var e=$A(arguments),t=$(e.shift());return Selector.findChildElements(t,e)},getElementsByClassName:function(e,t){return document.getElementsByClassName(t,e)},readAttribute:function(e,t){if(e=$(e),Prototype.Browser.IE){if(!e.attributes)return null;var n=Element._attributeTranslations;if(n.values[t])return n.values[t](e,t);n.names[t]&&(t=n.names[t]);var i=e.attributes[t];return i?i.nodeValue:null}return e.getAttribute(t)},getHeight:function(e){return $(e).getDimensions().height},getWidth:function(e){return $(e).getDimensions().width},classNames:function(e){return new Element.ClassNames(e)},hasClassName:function(e,t){if(e=$(e)){var n=e.className;return 0==n.length?!1:n==t||n.match(new RegExp("(^|\\s)"+t+"(\\s|$)"))?!0:!1}},addClassName:function(e,t){return(e=$(e))?(Element.classNames(e).add(t),e):void 0},removeClassName:function(e,t){return(e=$(e))?(Element.classNames(e).remove(t),e):void 0},toggleClassName:function(e,t){return(e=$(e))?(Element.classNames(e)[e.hasClassName(t)?"remove":"add"](t),e):void 0},observe:function(){return Event.observe.apply(Event,arguments),$A(arguments).first()},stopObserving:function(){return Event.stopObserving.apply(Event,arguments),$A(arguments).first()},cleanWhitespace:function(e){e=$(e);for(var t=e.firstChild;t;){var n=t.nextSibling;3!=t.nodeType||/\S/.test(t.nodeValue)||e.removeChild(t),t=n}return e},empty:function(e){return $(e).innerHTML.blank()},descendantOf:function(e,t){for(e=$(e),t=$(t);e=e.parentNode;)if(e==t)return!0;return!1},scrollTo:function(e){e=$(e);var t=Position.cumulativeOffset(e);return window.scrollTo(t[0],t[1]),e},getStyle:function(e,t){e=$(e),t="float"==t?"cssFloat":t.camelize();var n=e.style[t];if(!n){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"opacity"==t?n?parseFloat(n):1:"auto"==n?null:n},getOpacity:function(e){return $(e).getStyle("opacity")},setStyle:function(e,t,n){e=$(e);var i=e.style;for(var r in t)"opacity"==r?e.setOpacity(t[r]):i["float"==r||"cssFloat"==r?void 0===i.styleFloat?"cssFloat":"styleFloat":n?r:r.camelize()]=t[r];return e},setOpacity:function(e,t){return e=$(e),e.style.opacity=1==t||""===t?"":1e-5>t?0:t,e},getDimensions:function(e){e=$(e);var t=$(e).getStyle("display");if("none"!=t&&null!=t)return{width:e.offsetWidth,height:e.offsetHeight};var n=e.style,i=n.visibility,r=n.position,o=n.display;n.visibility="hidden",n.position="absolute",n.display="block";var s=e.clientWidth,a=e.clientHeight;return n.display=o,n.position=r,n.visibility=i,{width:s,height:a}},makePositioned:function(e){e=$(e);var t=Element.getStyle(e,"position");return"static"!=t&&t||(e._madePositioned=!0,e.style.position="relative",window.opera&&(e.style.top=0,e.style.left=0)),e},undoPositioned:function(e){return e=$(e),e._madePositioned&&(e._madePositioned=void 0,e.style.position=e.style.top=e.style.left=e.style.bottom=e.style.right=""),e},makeClipping:function(e){return e=$(e),e._overflow?e:(e._overflow=e.style.overflow||"auto","hidden"!=(Element.getStyle(e,"overflow")||"visible")&&(e.style.overflow="hidden"),e)},undoClipping:function(e){return e=$(e),e._overflow?(e.style.overflow="auto"==e._overflow?"":e._overflow,e._overflow=null,e):e}},Object.extend(Element.Methods,{childOf:Element.Methods.descendantOf,childElements:Element.Methods.immediateDescendants}),Prototype.Browser.Opera?(Element.Methods._getStyle=Element.Methods.getStyle,Element.Methods.getStyle=function(e,t){switch(t){case"left":case"top":case"right":case"bottom":if("static"==Element._getStyle(e,"position"))return null;default:return Element._getStyle(e,t)}}):Prototype.Browser.IE?(Element.Methods.getStyle=function(e,t){e=$(e),t="float"==t||"cssFloat"==t?"styleFloat":t.camelize();var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),"opacity"==t?(n=(e.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/))&&n[1]?parseFloat(n[1])/100:1:"auto"==n?"width"!=t&&"height"!=t||"none"==e.getStyle("display")?null:e["offset"+t.capitalize()]+"px":n},Element.Methods.setOpacity=function(e,t){e=$(e);var n=e.getStyle("filter"),i=e.style;return 1==t||""===t?(i.filter=n.replace(/alpha\([^\)]*\)/gi,""),e):(1e-5>t&&(t=0),i.filter=n.replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+100*t+")",e)},Element.Methods.update=function(e,t){e=$(e),t="undefined"==typeof t?"":t.toString();var n=e.tagName.toUpperCase();if(["THEAD","TBODY","TR","TD"].include(n)){var i=document.createElement("div");switch(n){case"THEAD":case"TBODY":i.innerHTML="<table><tbody>"+t.stripScripts()+"</tbody></table>",depth=2;break;case"TR":i.innerHTML="<table><tbody><tr>"+t.stripScripts()+"</tr></tbody></table>",depth=3;break;case"TD":i.innerHTML="<table><tbody><tr><td>"+t.stripScripts()+"</td></tr></tbody></table>",depth=4}$A(e.childNodes).each(function(t){e.removeChild(t)}),depth.times(function(){i=i.firstChild}),$A(i.childNodes).each(function(t){e.appendChild(t)})}else e.innerHTML=t.stripScripts();return setTimeout(function(){t.evalScripts()},10),e}):Prototype.Browser.Gecko&&(Element.Methods.setOpacity=function(e,t){return e=$(e),e.style.opacity=1==t?.999999:""===t?"":1e-5>t?0:t,e}),Element._attributeTranslations={names:{colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",datetime:"dateTime",accesskey:"accessKey",tabindex:"tabIndex",enctype:"encType",maxlength:"maxLength",readonly:"readOnly",longdesc:"longDesc"},values:{_getAttr:function(e,t){return e.getAttribute(t,2)},_flag:function(e,t){return $(e).hasAttribute(t)?t:null},style:function(e){return e.style.cssText.toLowerCase()},title:function(e){var t=e.getAttributeNode("title");return t.specified?t.nodeValue:null}}},function(){Object.extend(this,{href:this._getAttr,src:this._getAttr,type:this._getAttr,disabled:this._flag,checked:this._flag,readonly:this._flag,multiple:this._flag})}.call(Element._attributeTranslations.values),Element.Methods.Simulated={hasAttribute:function(e,t){var n,i=Element._attributeTranslations;return t=i.names[t]||t,n=$(e).getAttributeNode(t),n&&n.specified}},Element.Methods.ByTag={},Object.extend(Element,Element.Methods),!Prototype.BrowserFeatures.ElementExtensions&&document.createElement("div").__proto__&&(window.HTMLElement={},window.HTMLElement.prototype=document.createElement("div").__proto__,Prototype.BrowserFeatures.ElementExtensions=!0),Element.hasAttribute=function(e,t){return e.hasAttribute?e.hasAttribute(t):Element.Methods.Simulated.hasAttribute(e,t)},Element.addMethods=function(e){function t(t){t=t.toUpperCase(),Element.Methods.ByTag[t]||(Element.Methods.ByTag[t]={}),Object.extend(Element.Methods.ByTag[t],e)}function n(e,t,n){n=n||!1;var i=Element.extend.cache;for(var r in e){var o=e[r];n&&r in t||(t[r]=i.findOrStore(o))}}function i(e){var t,n={OPTGROUP:"OptGroup",TEXTAREA:"TextArea",P:"Paragraph",FIELDSET:"FieldSet",UL:"UList",OL:"OList",DL:"DList",DIR:"Directory",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",Q:"Quote",INS:"Mod",DEL:"Mod",A:"Anchor",IMG:"Image",CAPTION:"TableCaption",COL:"TableCol",COLGROUP:"TableCol",THEAD:"TableSection",TFOOT:"TableSection",TBODY:"TableSection",TR:"TableRow",TH:"TableCell",TD:"TableCell",FRAMESET:"FrameSet",IFRAME:"IFrame"};return n[e]&&(t="HTML"+n[e]+"Element"),window[t]?window[t]:(t="HTML"+e+"Element",window[t]?window[t]:(t="HTML"+e.capitalize()+"Element",window[t]?window[t]:(window[t]={},window[t].prototype=document.createElement(e).__proto__,window[t])))}var r=Prototype.BrowserFeatures,o=Element.Methods.ByTag;if(e||(Object.extend(Form,Form.Methods),Object.extend(Form.Element,Form.Element.Methods),Object.extend(Element.Methods.ByTag,{FORM:Object.clone(Form.Methods),INPUT:Object.clone(Form.Element.Methods),SELECT:Object.clone(Form.Element.Methods),TEXTAREA:Object.clone(Form.Element.Methods)})),2==arguments.length){var s=e;e=arguments[1]}if(s?s.constructor==Array?s.each(t):t(s):Object.extend(Element.Methods,e||{}),r.ElementExtensions&&(n(Element.Methods,HTMLElement.prototype),n(Element.Methods.Simulated,HTMLElement.prototype,!0)),r.SpecificElementExtensions)for(var a in Element.Methods.ByTag){var l=i(a);"undefined"!=typeof l&&n(o[a],l.prototype)}Object.extend(Element,Element.Methods),delete Element.ByTag};var Toggle={display:Element.toggle};Abstract.Insertion=function(e){this.adjacency=e},Abstract.Insertion.prototype={initialize:function(e,t){if(this.element=$(e),this.content=t.stripScripts(),this.adjacency&&this.element.insertAdjacentHTML)try{this.element.insertAdjacentHTML(this.adjacency,this.content)}catch(n){var i=this.element.tagName.toUpperCase();if(!["TBODY","TR"].include(i))throw n;this.insertContent(this.contentFromAnonymousTable())}else this.range=this.element.ownerDocument.createRange(),this.initializeRange&&this.initializeRange(),this.insertContent([this.range.createContextualFragment(this.content)]);setTimeout(function(){t.evalScripts()},10)},contentFromAnonymousTable:function(){var e=document.createElement("div");return e.innerHTML="<table><tbody>"+this.content+"</tbody></table>",$A(e.childNodes[0].childNodes[0].childNodes)}};var Insertion=new Object;Insertion.Before=Class.create(),Insertion.Before.prototype=Object.extend(new Abstract.Insertion("beforeBegin"),{initializeRange:function(){this.range.setStartBefore(this.element)},insertContent:function(e){e.each(function(e){this.element.parentNode.insertBefore(e,this.element)}.bind(this))}}),Insertion.Top=Class.create(),Insertion.Top.prototype=Object.extend(new Abstract.Insertion("afterBegin"),{initializeRange:function(){this.range.selectNodeContents(this.element),this.range.collapse(!0)},insertContent:function(e){e.reverse(!1).each(function(e){this.element.insertBefore(e,this.element.firstChild)}.bind(this))}}),Insertion.Bottom=Class.create(),Insertion.Bottom.prototype=Object.extend(new Abstract.Insertion("beforeEnd"),{initializeRange:function(){this.range.selectNodeContents(this.element),this.range.collapse(this.element)},insertContent:function(e){e.each(function(e){this.element.appendChild(e)}.bind(this))}}),Insertion.After=Class.create(),Insertion.After.prototype=Object.extend(new Abstract.Insertion("afterEnd"),{initializeRange:function(){this.range.setStartAfter(this.element)},insertContent:function(e){e.each(function(e){this.element.parentNode.insertBefore(e,this.element.nextSibling)}.bind(this))}}),Element.ClassNames=Class.create(),Element.ClassNames.prototype={initialize:function(e){this.element=$(e)},_each:function(e){this.element.className.split(/\s+/).select(function(e){return e.length>0})._each(e)},set:function(e){this.element.className=e},add:function(e){this.include(e)||this.set($A(this).concat(e).join(" "))},remove:function(e){this.include(e)&&this.set($A(this).without(e).join(" "))},toString:function(){return $A(this).join(" ")}},Object.extend(Element.ClassNames.prototype,Enumerable);var Selector=Class.create();Selector.prototype={initialize:function(e){this.expression=e.strip(),this.compileMatcher()},compileMatcher:function(){if(Prototype.BrowserFeatures.XPath&&!/\[[\w-]*?:/.test(this.expression))return this.compileXPathMatcher();var e=this.expression,ps=Selector.patterns,h=Selector.handlers,c=Selector.criteria,le,p,m;if(Selector._cache[e])return this.matcher=Selector._cache[e],void 0;for(this.matcher=["this.matcher = function(root) {","var r = root, h = Selector.handlers, c = false, n;"];e&&le!=e&&/\S/.test(e);){le=e;for(var i in ps)if(p=ps[i],m=e.match(p)){this.matcher.push("function"==typeof c[i]?c[i](m):new Template(c[i]).evaluate(m)),e=e.replace(m[0],"");break}}this.matcher.push("return h.unique(n);\n}"),eval(this.matcher.join("\n")),Selector._cache[this.expression]=this.matcher},compileXPathMatcher:function(){var e,t,n=this.expression,i=Selector.patterns,r=Selector.xpath;if(Selector._cache[n])return this.xpath=Selector._cache[n],void 0;for(this.matcher=[".//*"];n&&e!=n&&/\S/.test(n);){e=n;for(var o in i)if(t=n.match(i[o])){this.matcher.push("function"==typeof r[o]?r[o](t):new Template(r[o]).evaluate(t)),n=n.replace(t[0],"");break}}this.xpath=this.matcher.join(""),Selector._cache[this.expression]=this.xpath},findElements:function(e){return e=e||document,this.xpath?document._getElementsByXPath(this.xpath,e):this.matcher(e)},match:function(e){return this.findElements(document).include(e)},toString:function(){return this.expression},inspect:function(){return"#<Selector:"+this.expression.inspect()+">"}},Object.extend(Selector,{_cache:{},xpath:{descendant:"//*",child:"/*",adjacent:"/following-sibling::*[1]",laterSibling:"/following-sibling::*",tagName:function(e){return"*"==e[1]?"":"[local-name()='"+e[1].toLowerCase()+"' or local-name()='"+e[1].toUpperCase()+"']"},className:"[contains(concat(' ', @class, ' '), ' #{1} ')]",id:"[@id='#{1}']",attrPresence:"[@#{1}]",attr:function(e){return e[3]=e[5]||e[6],new Template(Selector.xpath.operators[e[2]]).evaluate(e)},pseudo:function(e){var t=Selector.xpath.pseudos[e[1]];return t?"function"==typeof t?t(e):new Template(Selector.xpath.pseudos[e[1]]).evaluate(e):""},operators:{"=":"[@#{1}='#{3}']","!=":"[@#{1}!='#{3}']","^=":"[starts-with(@#{1}, '#{3}')]","$=":"[substring(@#{1}, (string-length(@#{1}) - string-length('#{3}') + 1))='#{3}']","*=":"[contains(@#{1}, '#{3}')]","~=":"[contains(concat(' ', @#{1}, ' '), ' #{3} ')]","|=":"[contains(concat('-', @#{1}, '-'), '-#{3}-')]"},pseudos:{"first-child":"[not(preceding-sibling::*)]","last-child":"[not(following-sibling::*)]","only-child":"[not(preceding-sibling::* or following-sibling::*)]",empty:"[count(*) = 0 and (count(text()) = 0 or translate(text(), ' 	\r\n', '') = '')]",checked:"[@checked]",disabled:"[@disabled]",enabled:"[not(@disabled)]",not:function(e){for(var t,e,n,i=e[6],r=Selector.patterns,o=Selector.xpath,s=[];i&&t!=i&&/\S/.test(i);){t=i;for(var a in r)if(e=i.match(r[a])){n="function"==typeof o[a]?o[a](e):new Template(o[a]).evaluate(e),s.push("("+n.substring(1,n.length-1)+")"),i=i.replace(e[0],"");break}}return"[not("+s.join(" and ")+")]"},"nth-child":function(e){return Selector.xpath.pseudos.nth("(count(./preceding-sibling::*) + 1) ",e)},"nth-last-child":function(e){return Selector.xpath.pseudos.nth("(count(./following-sibling::*) + 1) ",e)},"nth-of-type":function(e){return Selector.xpath.pseudos.nth("position() ",e)},"nth-last-of-type":function(e){return Selector.xpath.pseudos.nth("(last() + 1 - position()) ",e)},"first-of-type":function(e){return e[6]="1",Selector.xpath.pseudos["nth-of-type"](e)},"last-of-type":function(e){return e[6]="1",Selector.xpath.pseudos["nth-last-of-type"](e)},"only-of-type":function(e){var t=Selector.xpath.pseudos;return t["first-of-type"](e)+t["last-of-type"](e)},nth:function(e,t){var n,i,r=t[6];if("even"==r&&(r="2n+0"),"odd"==r&&(r="2n+1"),n=r.match(/^(\d+)$/))return"["+e+"= "+n[1]+"]";if(n=r.match(/^(-?\d*)?n(([+-])(\d+))?/)){"-"==n[1]&&(n[1]=-1);var o=n[1]?Number(n[1]):1,s=n[2]?Number(n[2]):0;return i="[((#{fragment} - #{b}) mod #{a} = 0) and ((#{fragment} - #{b}) div #{a} >= 0)]",new Template(i).evaluate({fragment:e,a:o,b:s})}}}},criteria:{tagName:'n = h.tagName(n, r, "#{1}", c);   c = false;',className:'n = h.className(n, r, "#{1}", c); c = false;',id:'n = h.id(n, r, "#{1}", c);        c = false;',attrPresence:'n = h.attrPresence(n, r, "#{1}"); c = false;',attr:function(e){return e[3]=e[5]||e[6],new Template('n = h.attr(n, r, "#{1}", "#{3}", "#{2}"); c = false;').evaluate(e)},pseudo:function(e){return e[6]&&(e[6]=e[6].replace(/"/g,'\\"')),new Template('n = h.pseudo(n, "#{1}", "#{6}", r, c); c = false;').evaluate(e)},descendant:'c = "descendant";',child:'c = "child";',adjacent:'c = "adjacent";',laterSibling:'c = "laterSibling";'},patterns:{laterSibling:/^\s*~\s*/,child:/^\s*>\s*/,adjacent:/^\s*\+\s*/,descendant:/^\s/,tagName:/^\s*(\*|[\w\-]+)(\b|$)?/,id:/^#([\w\-\*]+)(\b|$)/,className:/^\.([\w\-\*]+)(\b|$)/,pseudo:/^:((first|last|nth|nth-last|only)(-child|-of-type)|empty|checked|(en|dis)abled|not)(\((.*?)\))?(\b|$|\s|(?=:))/,attrPresence:/^\[([\w]+)\]/,attr:/\[((?:[\w-]*:)?[\w-]+)\s*(?:([!^$*~|]?=)\s*((['"])([^\]]*?)\4|([^'"][^\]]*?)))?\]/},handlers:{concat:function(e,t){for(var n,i=0;n=t[i];i++)e.push(n);return e},mark:function(e){for(var t,n=0;t=e[n];n++)t._counted=!0;return e},unmark:function(e){for(var t,n=0;t=e[n];n++)t._counted=void 0;return e},index:function(e,t,n){if(e._counted=!0,t)for(var i=e.childNodes,r=i.length-1,o=1;r>=0;r--)node=i[r],1!=node.nodeType||n&&!node._counted||(node.nodeIndex=o++);else for(var r=0,o=1,i=e.childNodes;node=i[r];r++)1!=node.nodeType||n&&!node._counted||(node.nodeIndex=o++)},unique:function(e){if(0==e.length)return e;for(var t,n=[],i=0,r=e.length;r>i;i++)(t=e[i])._counted||(t._counted=!0,n.push(Element.extend(t)));return Selector.handlers.unmark(n)},descendant:function(e){for(var t,n=Selector.handlers,i=0,r=[];t=e[i];i++)n.concat(r,t.getElementsByTagName("*"));return r},child:function(e){Selector.handlers;for(var t,n=0,i=[];t=e[n];n++)for(var r,o=0;r=t.childNodes[o];o++)1==r.nodeType&&"!"!=r.tagName&&i.push(r);return i},adjacent:function(e){for(var t,n=0,i=[];t=e[n];n++){var r=this.nextElementSibling(t);r&&i.push(r)}return i},laterSibling:function(e){for(var t,n=Selector.handlers,i=0,r=[];t=e[i];i++)n.concat(r,Element.nextSiblings(t));return r},nextElementSibling:function(e){for(;e=e.nextSibling;)if(1==e.nodeType)return e;return null},previousElementSibling:function(e){for(;e=e.previousSibling;)if(1==e.nodeType)return e;return null},tagName:function(e,t,n,i){n=n.toUpperCase();var r=[],o=Selector.handlers;if(e){if(i){if("descendant"==i){for(var s,a=0;s=e[a];a++)o.concat(r,s.getElementsByTagName(n));return r}if(e=this[i](e),"*"==n)return e}for(var s,a=0;s=e[a];a++)s.tagName.toUpperCase()==n&&r.push(s);return r}return t.getElementsByTagName(n)},id:function(e,t,n,i){var r=$(n),o=Selector.handlers;if(!e&&t==document)return r?[r]:[];if(e){if(i)if("child"==i){for(var s,a=0;s=e[a];a++)if(r.parentNode==s)return[r]}else if("descendant"==i){for(var s,a=0;s=e[a];a++)if(Element.descendantOf(r,s))return[r]}else if("adjacent"==i){for(var s,a=0;s=e[a];a++)if(Selector.handlers.previousElementSibling(r)==s)return[r]}else e=o[i](e);for(var s,a=0;s=e[a];a++)if(s==r)return[r];return[]}return r&&Element.descendantOf(r,t)?[r]:[]},className:function(e,t,n,i){return e&&i&&(e=this[i](e)),Selector.handlers.byClassName(e,t,n)},byClassName:function(e,t,n){e||(e=Selector.handlers.descendant([t]));for(var i,r,o=" "+n+" ",s=0,a=[];i=e[s];s++)r=i.className,0!=r.length&&(r==n||(" "+r+" ").include(o))&&a.push(i);return a},attrPresence:function(e,t,n){for(var i,r=[],o=0;i=e[o];o++)Element.hasAttribute(i,n)&&r.push(i);return r},attr:function(e,t,n,i,r){e||(e=t.getElementsByTagName("*"));for(var o,s=Selector.operators[r],a=[],l=0;o=e[l];l++){var c=Element.readAttribute(o,n);null!==c&&s(c,i)&&a.push(o)}return a},pseudo:function(e,t,n,i,r){return e&&r&&(e=this[r](e)),e||(e=i.getElementsByTagName("*")),Selector.pseudos[t](e,n,i)}},pseudos:{"first-child":function(e){for(var t,n=0,i=[];t=e[n];n++)Selector.handlers.previousElementSibling(t)||i.push(t);return i},"last-child":function(e){for(var t,n=0,i=[];t=e[n];n++)Selector.handlers.nextElementSibling(t)||i.push(t);return i},"only-child":function(e){for(var t,n=Selector.handlers,i=0,r=[];t=e[i];i++)n.previousElementSibling(t)||n.nextElementSibling(t)||r.push(t);return r},"nth-child":function(e,t,n){return Selector.pseudos.nth(e,t,n)},"nth-last-child":function(e,t,n){return Selector.pseudos.nth(e,t,n,!0)},"nth-of-type":function(e,t,n){return Selector.pseudos.nth(e,t,n,!1,!0)},"nth-last-of-type":function(e,t,n){return Selector.pseudos.nth(e,t,n,!0,!0)},"first-of-type":function(e,t,n){return Selector.pseudos.nth(e,"1",n,!1,!0)},"last-of-type":function(e,t,n){return Selector.pseudos.nth(e,"1",n,!0,!0)},"only-of-type":function(e,t,n){var i=Selector.pseudos;return i["last-of-type"](i["first-of-type"](e,t,n),t,n)},getIndices:function(e,t,n){return 0==e?t>0?[t]:[]:$R(1,n).inject([],function(n,i){return 0==(i-t)%e&&(i-t)/e>=0&&n.push(i),n})},nth:function(e,t,n,i,r){if(0==e.length)return[];"even"==t&&(t="2n+0"),"odd"==t&&(t="2n+1");var o,s=Selector.handlers,a=[],l=[];s.mark(e);for(var c,u=0;c=e[u];u++)c.parentNode._counted||(s.index(c.parentNode,i,r),l.push(c.parentNode));if(t.match(/^\d+$/)){t=Number(t);for(var c,u=0;c=e[u];u++)c.nodeIndex==t&&a.push(c)}else if(o=t.match(/^(-?\d*)?n(([+-])(\d+))?/)){"-"==o[1]&&(o[1]=-1);for(var c,d=o[1]?Number(o[1]):1,h=o[2]?Number(o[2]):0,f=Selector.pseudos.getIndices(d,h,e.length),u=0,p=f.length;c=e[u];u++)for(var m=0;p>m;m++)c.nodeIndex==f[m]&&a.push(c)}return s.unmark(e),s.unmark(l),a},empty:function(e){for(var t,n=0,i=[];t=e[n];n++)"!"==t.tagName||t.firstChild&&!t.innerHTML.match(/^\s*$/)||i.push(t);return i},not:function(e,t,n){var i=Selector.handlers,r=new Selector(t).findElements(n);i.mark(r);for(var o,s=0,a=[];o=e[s];s++)o._counted||a.push(o);return i.unmark(r),a},enabled:function(e){for(var t,n=0,i=[];t=e[n];n++)t.disabled||i.push(t);return i},disabled:function(e){for(var t,n=0,i=[];t=e[n];n++)t.disabled&&i.push(t);return i},checked:function(e){for(var t,n=0,i=[];t=e[n];n++)t.checked&&i.push(t);return i}},operators:{"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e.startsWith(t)},"$=":function(e,t){return e.endsWith(t)},"*=":function(e,t){return e.include(t)},"~=":function(e,t){return(" "+e+" ").include(" "+t+" ")},"|=":function(e,t){return("-"+e.toUpperCase()+"-").include("-"+t.toUpperCase()+"-")}},matchElements:function(e,t){var n=new Selector(t).findElements(),i=Selector.handlers;i.mark(n);for(var r,o=0,s=[];r=e[o];o++)r._counted&&s.push(r);return i.unmark(n),s},findElement:function(e,t,n){return"number"==typeof t&&(n=t,t=!1),Selector.matchElements(e,t||"*")[n||0]},findChildElements:function(e,t){var n=t.join(","),t=[];n.scan(/(([\w#:.~>+()\s-]+|\*|\[.*?\])+)\s*(,|$)/,function(e){t.push(e[1].strip())});for(var i,r=[],o=Selector.handlers,s=0,a=t.length;a>s;s++)i=new Selector(t[s].strip()),o.concat(r,i.findElements(e));return a>1?o.unique(r):r}});var Form={reset:function(e){return $(e).reset(),e},serializeElements:function(e,t){var n=e.inject({},function(e,t){if(!t.disabled&&t.name){var n=t.name,i=$(t).getValue();null!=i&&(n in e?(e[n].constructor!=Array&&(e[n]=[e[n]]),e[n].push(i)):e[n]=i)}return e});return t?n:Hash.toQueryString(n)}};Form.Methods={serialize:function(e,t){return Form.serializeElements(Form.getElements(e),t)},getElements:function(e){return $A($(e).getElementsByTagName("*")).inject([],function(e,t){return Form.Element.Serializers[t.tagName.toLowerCase()]&&e.push(Element.extend(t)),e})},getInputs:function(e,t,n){e=$(e);var i=e.getElementsByTagName("input");if(!t&&!n)return $A(i).map(Element.extend);for(var r=0,o=[],s=i.length;s>r;r++){var a=i[r];t&&a.type!=t||n&&a.name!=n||o.push(Element.extend(a))}return o},disable:function(e){return e=$(e),Form.getElements(e).invoke("disable"),e},enable:function(e){return e=$(e),Form.getElements(e).invoke("enable"),e},findFirstElement:function(e){return $(e).getElements().find(function(e){return"hidden"!=e.type&&!e.disabled&&["input","select","textarea"].include(e.tagName.toLowerCase())})},focusFirstElement:function(e){return e=$(e),e.findFirstElement().activate(),e},request:function(e,t){e=$(e),t=Object.clone(t||{});var n=t.parameters;return t.parameters=e.serialize(!0),n&&("string"==typeof n&&(n=n.toQueryParams()),Object.extend(t.parameters,n)),e.hasAttribute("method")&&!t.method&&(t.method=e.method),new Ajax.Request(e.readAttribute("action"),t)}},Form.Element={focus:function(e){return $(e).focus(),e},select:function(e){return $(e).select(),e}},Form.Element.Methods={serialize:function(e){if(e=$(e),!e.disabled&&e.name){var t=e.getValue();if(void 0!=t){var n={};return n[e.name]=t,Hash.toQueryString(n)}}return""},getValue:function(e){e=$(e);var t=e.tagName.toLowerCase();return Form.Element.Serializers[t](e)},clear:function(e){return $(e).value="",e},present:function(e){return""!=$(e).value},activate:function(e){e=$(e);try{e.focus(),!e.select||"input"==e.tagName.toLowerCase()&&["button","reset","submit"].include(e.type)||e.select()}catch(t){}return e},disable:function(e){return e=$(e),e.blur(),e.disabled=!0,e},enable:function(e){return e=$(e),e.disabled=!1,e}};var Field=Form.Element,$F=Form.Element.Methods.getValue;if(Form.Element.Serializers={input:function(e){switch(e.type.toLowerCase()){case"checkbox":case"radio":return Form.Element.Serializers.inputSelector(e);default:return Form.Element.Serializers.textarea(e)}},inputSelector:function(e){return e.checked?e.value:null},textarea:function(e){return e.value},select:function(e){return this["select-one"==e.type?"selectOne":"selectMany"](e)},selectOne:function(e){var t=e.selectedIndex;return t>=0?this.optionValue(e.options[t]):null},selectMany:function(e){var t,n=e.length;if(!n)return null;for(var i=0,t=[];n>i;i++){var r=e.options[i];r.selected&&t.push(this.optionValue(r))}return t},optionValue:function(e){return Element.extend(e).hasAttribute("value")?e.value:e.text}},Abstract.TimedObserver=function(){},Abstract.TimedObserver.prototype={initialize:function(e,t,n){this.frequency=t,this.element=$(e),this.callback=n,this.lastValue=this.getValue(),this.registerCallback()},registerCallback:function(){setInterval(this.onTimerEvent.bind(this),1e3*this.frequency)},onTimerEvent:function(){var e=this.getValue(),t="string"==typeof this.lastValue&&"string"==typeof e?this.lastValue!=e:String(this.lastValue)!=String(e);t&&(this.callback(this.element,e),this.lastValue=e)}},Form.Element.Observer=Class.create(),Form.Element.Observer.prototype=Object.extend(new Abstract.TimedObserver,{getValue:function(){return Form.Element.getValue(this.element)}}),Form.Observer=Class.create(),Form.Observer.prototype=Object.extend(new Abstract.TimedObserver,{getValue:function(){return Form.serialize(this.element)}}),Abstract.EventObserver=function(){},Abstract.EventObserver.prototype={initialize:function(e,t){this.element=$(e),this.callback=t,this.lastValue=this.getValue(),"form"==this.element.tagName.toLowerCase()?this.registerFormCallbacks():this.registerCallback(this.element)},onElementEvent:function(){var e=this.getValue();this.lastValue!=e&&(this.callback(this.element,e),this.lastValue=e)},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback.bind(this))},registerCallback:function(e){if(e.type)switch(e.type.toLowerCase()){case"checkbox":case"radio":Event.observe(e,"click",this.onElementEvent.bind(this));break;default:Event.observe(e,"change",this.onElementEvent.bind(this))}}},Form.Element.EventObserver=Class.create(),Form.Element.EventObserver.prototype=Object.extend(new Abstract.EventObserver,{getValue:function(){return Form.Element.getValue(this.element)}}),Form.EventObserver=Class.create(),Form.EventObserver.prototype=Object.extend(new Abstract.EventObserver,{getValue:function(){return Form.serialize(this.element)}}),!window.Event)var Event=new Object;Object.extend(Event,{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,element:function(e){return $(e.target||e.srcElement)},isLeftClick:function(e){return e.which&&1==e.which||e.button&&1==e.button},pointerX:function(e){return e.pageX||e.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)},pointerY:function(e){return e.pageY||e.clientY+(document.documentElement.scrollTop||document.body.scrollTop)},stop:function(e){e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.returnValue=!1,e.cancelBubble=!0)},findElement:function(e,t){for(var n=Event.element(e);n.parentNode&&(!n.tagName||n.tagName.toUpperCase()!=t.toUpperCase());)n=n.parentNode;return n},observers:!1,_observeAndCache:function(e,t,n,i){this.observers||(this.observers=[]),e.addEventListener?(this.observers.push([e,t,n,i]),e.addEventListener(t,n,i)):e.attachEvent&&(this.observers.push([e,t,n,i]),e.attachEvent("on"+t,n))
},unloadCache:function(){if(Event.observers){for(var e=0,t=Event.observers.length;t>e;e++)Event.stopObserving.apply(this,Event.observers[e]),Event.observers[e][0]=null;Event.observers=!1}},observe:function(e,t,n,i){e=$(e),i=i||!1,"keypress"==t&&(Prototype.Browser.WebKit||e.attachEvent)&&(t="keydown"),Event._observeAndCache(e,t,n,i)},stopObserving:function(e,t,n,i){if(e=$(e),i=i||!1,"keypress"==t&&(Prototype.Browser.WebKit||e.attachEvent)&&(t="keydown"),e.removeEventListener)e.removeEventListener(t,n,i);else if(e.detachEvent)try{e.detachEvent("on"+t,n)}catch(r){}}}),Prototype.Browser.IE&&Event.observe(window,"unload",Event.unloadCache,!1);var Position={includeScrollOffsets:!1,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},realOffset:function(e){var t=0,n=0;do t+=e.scrollTop||0,n+=e.scrollLeft||0,e=e.parentNode;while(e);return[n,t]},cumulativeOffset:function(e){var t=0,n=0;do t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent;while(e);return[n,t]},positionedOffset:function(e){var t=0,n=0;do if(t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent){if("BODY"==e.tagName)break;var i=Element.getStyle(e,"position");if("relative"==i||"absolute"==i)break}while(e);return[n,t]},offsetParent:function(e){if(e.offsetParent)return e.offsetParent;if(e==document.body)return e;for(;(e=e.parentNode)&&e!=document.body;)if("static"!=Element.getStyle(e,"position"))return e;return document.body},within:function(e,t,n){return this.includeScrollOffsets?this.withinIncludingScrolloffsets(e,t,n):(this.xcomp=t,this.ycomp=n,this.offset=this.cumulativeOffset(e),n>=this.offset[1]&&n<this.offset[1]+e.offsetHeight&&t>=this.offset[0]&&t<this.offset[0]+e.offsetWidth)},withinIncludingScrolloffsets:function(e,t,n){var i=this.realOffset(e);return this.xcomp=t+i[0]-this.deltaX,this.ycomp=n+i[1]-this.deltaY,this.offset=this.cumulativeOffset(e),this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+e.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+e.offsetWidth},overlap:function(e,t){return e?"vertical"==e?(this.offset[1]+t.offsetHeight-this.ycomp)/t.offsetHeight:"horizontal"==e?(this.offset[0]+t.offsetWidth-this.xcomp)/t.offsetWidth:void 0:0},page:function(e){var t=0,n=0,i=e;do if(t+=i.offsetTop||0,n+=i.offsetLeft||0,i.offsetParent==document.body&&"absolute"==Element.getStyle(i,"position"))break;while(i=i.offsetParent);i=e;do window.opera&&"BODY"!=i.tagName||(t-=i.scrollTop||0,n-=i.scrollLeft||0);while(i=i.parentNode);return[n,t]},clone:function(e,t){var n=Object.extend({setLeft:!0,setTop:!0,setWidth:!0,setHeight:!0,offsetTop:0,offsetLeft:0},arguments[2]||{});e=$(e);var i=Position.page(e);t=$(t);var r=[0,0],o=null;"absolute"==Element.getStyle(t,"position")&&(o=Position.offsetParent(t),r=Position.page(o)),o==document.body&&(r[0]-=document.body.offsetLeft,r[1]-=document.body.offsetTop),n.setLeft&&(t.style.left=i[0]-r[0]+n.offsetLeft+"px"),n.setTop&&(t.style.top=i[1]-r[1]+n.offsetTop+"px"),n.setWidth&&(t.style.width=e.offsetWidth+"px"),n.setHeight&&(t.style.height=e.offsetHeight+"px")},absolutize:function(e){if(e=$(e),"absolute"!=e.style.position){Position.prepare();var t=Position.positionedOffset(e),n=t[1],i=t[0],r=e.clientWidth,o=e.clientHeight;e._originalLeft=i-parseFloat(e.style.left||0),e._originalTop=n-parseFloat(e.style.top||0),e._originalWidth=e.style.width,e._originalHeight=e.style.height,e.style.position="absolute",e.style.top=n+"px",e.style.left=i+"px",e.style.width=r+"px",e.style.height=o+"px"}},relativize:function(e){if(e=$(e),"relative"!=e.style.position){Position.prepare(),e.style.position="relative";var t=parseFloat(e.style.top||0)-(e._originalTop||0),n=parseFloat(e.style.left||0)-(e._originalLeft||0);e.style.top=t+"px",e.style.left=n+"px",e.style.height=e._originalHeight,e.style.width=e._originalWidth}}};Prototype.Browser.WebKit&&(Position.cumulativeOffset=function(e){var t=0,n=0;do{if(t+=e.offsetTop||0,n+=e.offsetLeft||0,e.offsetParent==document.body&&"absolute"==Element.getStyle(e,"position"))break;e=e.offsetParent}while(e);return[n,t]}),Element.addMethods(),function(){var e;e=0,this.display=function(){return document.getElementById("history").style.display=0===e%2?"block":"none",e++},this.ttip=function(){return $(".ttip").tooltip({effect:"slide"}),$("#dyna img[title]").tooltip({tip:"#dynatip",offset:[10,2],effect:"slide"}).dynamic({bottom:{direction:"down",bounce:!0}})}}.call(this);// Copyright (c) 2005-2007 Thomas Fuchs (http://script.aculo.us, http://mir.aculo.us)
// The above copyright notice and this permission notice shall be
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
var Scriptaculous={Version:"1.7.1_beta2",require:function(e){document.write('<script type="text/javascript" src="'+e+'"></script>')},REQUIRED_PROTOTYPE:"1.5.1",load:function(){function e(e){var t=e.split(".");return 1e5*parseInt(t[0])+1e3*parseInt(t[1])+parseInt(t[2])}if("undefined"==typeof Prototype||"undefined"==typeof Element||"undefined"==typeof Element.Methods||e(Prototype.Version)<e(Scriptaculous.REQUIRED_PROTOTYPE))throw"script.aculo.us requires the Prototype JavaScript framework >= "+Scriptaculous.REQUIRED_PROTOTYPE;$A(document.getElementsByTagName("script")).findAll(function(e){return e.src&&e.src.match(/scriptaculous\.js(\?.*)?$/)}).each(function(e){var t=e.src.replace(/scriptaculous\.js(\?.*)?$/,""),n=e.src.match(/\?.*load=([a-z,]*)/);(n?n[1]:"builder,effects,dragdrop,controls,slider,sound").split(",").each(function(e){Scriptaculous.require(t+e+".js")})})}};Scriptaculous.load();